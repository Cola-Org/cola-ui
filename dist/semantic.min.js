/*!
 * # Semantic UI 2.1.8 - Site
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(a,b,c,d){a.site=a.fn.site=function(e){var f,g,h=(new Date).getTime(),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1),m=a.isPlainObject(e)?a.extend(!0,{},a.site.settings,e):a.extend({},a.site.settings),n=m.namespace,o=m.error,p="module-"+n,q=a(c),r=q,s=this,t=r.data(p);return f={initialize:function(){f.instantiate()},instantiate:function(){f.verbose("Storing instance of site",f),t=f,r.data(p,f)},normalize:function(){f.fix.console(),f.fix.requestAnimationFrame()},fix:{console:function(){f.debug("Normalizing window.console"),console!==d&&console.log!==d||(f.verbose("Console not available, normalizing events"),f.disable.console()),"undefined"!=typeof console.group&&"undefined"!=typeof console.groupEnd&&"undefined"!=typeof console.groupCollapsed||(f.verbose("Console group not available, normalizing events"),b.console.group=function(){},b.console.groupEnd=function(){},b.console.groupCollapsed=function(){}),"undefined"==typeof console.markTimeline&&(f.verbose("Mark timeline not available, normalizing events"),b.console.markTimeline=function(){})},consoleClear:function(){f.debug("Disabling programmatic console clearing"),b.console.clear=function(){}},requestAnimationFrame:function(){f.debug("Normalizing requestAnimationFrame"),b.requestAnimationFrame===d&&(f.debug("RequestAnimationFrame not available, normalizing event"),b.requestAnimationFrame=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)})}},moduleExists:function(b){return a.fn[b]!==d&&a.fn[b].settings!==d},enabled:{modules:function(b){var c=[];return b=b||m.modules,a.each(b,function(a,b){f.moduleExists(b)&&c.push(b)}),c}},disabled:{modules:function(b){var c=[];return b=b||m.modules,a.each(b,function(a,b){f.moduleExists(b)||c.push(b)}),c}},change:{setting:function(b,c,e,g){e="string"==typeof e?"all"===e?m.modules:[e]:e||m.modules,g=g!==d?g:!0,a.each(e,function(d,e){var h,i=f.moduleExists(e)?a.fn[e].settings.namespace||!1:!0;f.moduleExists(e)&&(f.verbose("Changing default setting",b,c,e),a.fn[e].settings[b]=c,g&&i&&(h=a(":data(module-"+i+")"),h.length>0&&(f.verbose("Modifying existing settings",h),h[e]("setting",b,c))))})},settings:function(b,c,e){c="string"==typeof c?[c]:c||m.modules,e=e!==d?e:!0,a.each(c,function(c,d){var g;f.moduleExists(d)&&(f.verbose("Changing default setting",b,d),a.extend(!0,a.fn[d].settings,b),e&&n&&(g=a(":data(module-"+n+")"),g.length>0&&(f.verbose("Modifying existing settings",g),g[d]("setting",b))))})}},enable:{console:function(){f.console(!0)},debug:function(a,b){a=a||m.modules,f.debug("Enabling debug for modules",a),f.change.setting("debug",!0,a,b)},verbose:function(a,b){a=a||m.modules,f.debug("Enabling verbose debug for modules",a),f.change.setting("verbose",!0,a,b)}},disable:{console:function(){f.console(!1)},debug:function(a,b){a=a||m.modules,f.debug("Disabling debug for modules",a),f.change.setting("debug",!1,a,b)},verbose:function(a,b){a=a||m.modules,f.debug("Disabling verbose debug for modules",a),f.change.setting("verbose",!1,a,b)}},console:function(a){if(a){if(t.cache.console===d)return void f.error(o.console);f.debug("Restoring console function"),b.console=t.cache.console}else f.debug("Disabling console function"),t.cache.console=b.console,b.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){f.verbose("Destroying previous site for",r),r.removeData(p)},cache:{},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,m,b);else{if(c===d)return m[b];m[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,f,b);else{if(c===d)return f[b];f[b]=c}},debug:function(){m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;m.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Element:s,Name:a[0],Arguments:[].slice.call(a,1)||"","Execution Time":c})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var b=m.name+":",c=0;h=!1,clearTimeout(f.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",(console.group!==d||console.table!==d)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,e){var h,i,j,k=t;return c=c||l,e=s||e,"string"==typeof b&&k!==d&&(b=b.split(/[\. ]/),h=b.length-1,a.each(b,function(c,e){var g=c!=h?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(k[g])&&c!=h)k=k[g];else{if(k[g]!==d)return i=k[g],!1;if(!a.isPlainObject(k[e])||c==h)return k[e]!==d?(i=k[e],!1):(f.error(o.method,b),!1);k=k[e]}})),a.isFunction(i)?j=i.apply(e,c):i!==d&&(j=i),a.isArray(g)?g.push(j):g!==d?g=[g,j]:j!==d&&(g=j),i}},k?(t===d&&f.initialize(),f.invoke(j)):(t!==d&&f.destroy(),f.initialize()),g!==d?g:this},a.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])}})}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.form=function(b){var e,f=a(this),g=f.selector||"",h=(new Date).getTime(),i=[],j=arguments[0],k=arguments[1],l="string"==typeof j,m=[].slice.call(arguments,1);return f.each(function(){var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F=a(this),G=this,H=[],I=!1;E={initialize:function(){E.get.settings(),l?(D===d&&E.instantiate(),E.invoke(j)):(E.verbose("Initializing form validation",F,u),E.bindEvents(),E.set.defaults(),E.instantiate())},instantiate:function(){E.verbose("Storing instance of module",E),D=E,F.data(B,E)},destroy:function(){E.verbose("Destroying previous module",D),E.removeEvents(),F.removeData(B)},refresh:function(){E.verbose("Refreshing selector cache"),n=F.find(x.field),o=F.find(x.group),p=F.find(x.message),q=F.find(x.prompt),r=F.find(x.submit),s=F.find(x.clear),t=F.find(x.reset)},submit:function(){E.verbose("Submitting form",F),F.submit()},attachEvents:function(b,c){c=c||"submit",a(b).on("click"+C,function(a){E[c](),a.preventDefault()})},bindEvents:function(){E.verbose("Attaching form events"),F.on("submit"+C,E.validate.form).on("blur"+C,x.field,E.event.field.blur).on("click"+C,x.submit,E.submit).on("click"+C,x.reset,E.reset).on("click"+C,x.clear,E.clear),u.keyboardShortcuts&&F.on("keydown"+C,x.field,E.event.field.keydown),n.each(function(){var b=a(this),c=b.prop("type"),d=E.get.changeEvent(c,b);a(this).on(d+C,E.event.field.change)})},clear:function(){n.each(function(){var b=a(this),c=b.parent(),d=b.closest(o),e=d.find(x.prompt),f=b.data(w.defaultValue)||"",g=c.is(x.uiCheckbox),h=c.is(x.uiDropdown),i=d.hasClass(y.error);i&&(E.verbose("Resetting error on field",d),d.removeClass(y.error),e.remove()),h?(E.verbose("Resetting dropdown value",c,f),c.dropdown("clear")):g?b.prop("checked",!1):(E.verbose("Resetting field value",b,f),b.val(""))})},reset:function(){n.each(function(){var b=a(this),c=b.parent(),e=b.closest(o),f=e.find(x.prompt),g=b.data(w.defaultValue),h=c.is(x.uiCheckbox),i=c.is(x.uiDropdown),j=e.hasClass(y.error);g!==d&&(j&&(E.verbose("Resetting error on field",e),e.removeClass(y.error),f.remove()),i?(E.verbose("Resetting dropdown value",c,g),c.dropdown("restore defaults")):h?(E.verbose("Resetting checkbox value",c,g),b.prop("checked",g)):(E.verbose("Resetting field value",b,g),b.val(g)))})},is:{bracketedRule:function(a){return a.type&&a.type.match(u.regExp.bracket)},valid:function(){var b=!0;return E.verbose("Checking if form is valid"),a.each(v,function(a,c){E.validate.field(c,a)||(b=!1)}),b}},removeEvents:function(){F.off(C),n.off(C),r.off(C),n.off(C)},event:{field:{keydown:function(b){var c=a(this),d=b.which,e={enter:13,escape:27};d==e.escape&&(E.verbose("Escape key pressed blurring field"),c.blur()),!b.ctrlKey&&d==e.enter&&c.is(x.input)&&c.not(x.checkbox).length>0&&(I||(c.one("keyup"+C,E.event.field.keyup),E.submit(),E.debug("Enter pressed on input submitting form")),I=!0)},keyup:function(){I=!1},blur:function(b){var c=a(this),d=c.closest(o),e=E.get.validation(c);d.hasClass(y.error)?(E.debug("Revalidating field",c,e),E.validate.form.call(E,b,!0)):"blur"!=u.on&&"change"!=u.on||e&&E.validate.field(e)},change:function(b){var c=a(this),d=c.closest(o);("change"==u.on||d.hasClass(y.error)&&u.revalidate)&&(clearTimeout(E.timer),E.timer=setTimeout(function(){E.debug("Revalidating field",c,E.get.validation(c)),E.validate.form.call(E,b,!0)},u.delay))}}},get:{ancillaryValue:function(a){return a.type&&E.is.bracketedRule(a)?a.type.match(u.regExp.bracket)[1]+"":!1},ruleName:function(a){return E.is.bracketedRule(a)?a.type.replace(a.type.match(u.regExp.bracket)[0],""):a.type},changeEvent:function(a,b){return"checkbox"==a||"radio"==a||"hidden"==a||b.is("select")?"change":E.get.inputEvent()},inputEvent:function(){return c.createElement("input").oninput!==d?"input":c.createElement("input").onpropertychange!==d?"propertychange":"keyup"},prompt:function(a,b){var c,d,e,f=E.get.ruleName(a),g=E.get.ancillaryValue(a),h=a.prompt||u.prompt[f]||u.text.unspecifiedRule,i=-1!==h.search("{value}"),j=-1!==h.search("{name}");return(j||i)&&(d=E.get.field(b.identifier)),i&&(h=h.replace("{value}",d.val())),j&&(c=d.closest(x.group).find("label").eq(0),e=1==c.size()?c.text():d.prop("placeholder")||u.text.unspecifiedField,h=h.replace("{name}",e)),h=h.replace("{identifier}",b.identifier),h=h.replace("{ruleValue}",g),a.prompt||E.verbose("Using default validation prompt for type",h,f),h},settings:function(){if(a.isPlainObject(b)){var c,e=Object.keys(b),f=e.length>0?b[e[0]].identifier!==d&&b[e[0]].rules!==d:!1;f?(u=a.extend(!0,{},a.fn.form.settings,k),v=a.extend({},a.fn.form.settings.defaults,b),E.error(u.error.oldSyntax,G),E.verbose("Extending settings from legacy parameters",v,u)):(b.fields&&(c=Object.keys(b.fields),("string"==typeof b.fields[c[0]]||a.isArray(b.fields[c[0]]))&&a.each(b.fields,function(c,d){"string"==typeof d&&(d=[d]),b.fields[c]={rules:[]},a.each(d,function(a,d){b.fields[c].rules.push({type:d})})})),u=a.extend(!0,{},a.fn.form.settings,b),v=a.extend({},a.fn.form.settings.defaults,u.fields),E.verbose("Extending settings",v,u))}else u=a.fn.form.settings,v=a.fn.form.settings.defaults,E.verbose("Using default form validation",v,u);A=u.namespace,w=u.metadata,x=u.selector,y=u.className,z=u.error,B="module-"+A,C="."+A,D=F.data(B),E.refresh()},field:function(b){return E.verbose("Finding field with identifier",b),n.filter("#"+b).length>0?n.filter("#"+b):n.filter('[name="'+b+'"]').length>0?n.filter('[name="'+b+'"]'):n.filter('[name="'+b+'[]"]').length>0?n.filter('[name="'+b+'[]"]'):n.filter("[data-"+w.validate+'="'+b+'"]').length>0?n.filter("[data-"+w.validate+'="'+b+'"]'):a("<input/>")},fields:function(b){var c=a();return a.each(b,function(a,b){c=c.add(E.get.field(b))}),c},validation:function(b){var c,d;return v?(a.each(v,function(a,e){d=e.identifier||a,E.get.field(d)[0]==b[0]&&(e.identifier=d,c=e)}),c||!1):!1},value:function(a){var b,c=[];return c.push(a),b=E.get.values.call(G,c),b[a]},values:function(b){var c=a.isArray(b)?E.get.fields(b):n,d={};return c.each(function(b,c){var e=a(c),f=(e.prop("type"),e.prop("name")),g=e.val(),h=e.is(x.checkbox),i=e.is(x.radio),j=-1!==f.indexOf("[]"),k=h?e.is(":checked"):!1;f&&(j?(f=f.replace("[]",""),d[f]||(d[f]=[]),h?k?d[f].push(g||!0):d[f].push(!1):d[f].push(g)):i?k&&(d[f]=g):h?k?d[f]=g||!0:d[f]=!1:d[f]=g)}),d}},has:{field:function(a){return E.verbose("Checking for existence of a field with identifier",a),"string"!=typeof a&&E.error(z.identifier,a),n.filter("#"+a).length>0?!0:n.filter('[name="'+a+'"]').length>0?!0:n.filter("[data-"+w.validate+'="'+a+'"]').length>0}},add:{prompt:function(b,c){var e=E.get.field(b),f=e.closest(o),g=f.children(x.prompt),h=0!==g.length;c="string"==typeof c?[c]:c,E.verbose("Adding field error state",b),f.addClass(y.error),u.inline&&(h||(g=u.templates.prompt(c),g.appendTo(f)),g.html(c[0]),h?E.verbose("Inline errors are disabled, no inline error added",b):u.transition&&a.fn.transition!==d&&F.transition("is supported")?(E.verbose("Displaying error with css transition",u.transition),g.transition(u.transition+" in",u.duration)):(E.verbose("Displaying error with fallback javascript animation"),g.fadeIn(u.duration)))},errors:function(a){E.debug("Adding form error messages",a),E.set.error(),p.html(u.templates.error(a))}},remove:{prompt:function(b){var c=E.get.field(b),e=c.closest(o),f=e.children(x.prompt);e.removeClass(y.error),u.inline&&f.is(":visible")&&(E.verbose("Removing prompt for field",b),u.transition&&a.fn.transition!==d&&F.transition("is supported")?f.transition(u.transition+" out",u.duration,function(){f.remove()}):f.fadeOut(u.duration,function(){f.remove()}))}},set:{success:function(){F.removeClass(y.error).addClass(y.success)},defaults:function(){n.each(function(){var b=a(this),c=b.filter(x.checkbox).length>0,d=c?b.is(":checked"):b.val();b.data(w.defaultValue,d)})},error:function(){F.removeClass(y.success).addClass(y.error)},value:function(a,b){var c={};return c[a]=b,E.set.values.call(G,c)},values:function(b){a.isEmptyObject(b)||a.each(b,function(b,c){var d,e=E.get.field(b),f=e.parent(),g=a.isArray(c),h=f.is(x.uiCheckbox),i=f.is(x.uiDropdown),j=e.is(x.radio)&&h,k=e.length>0;k&&(g&&h?(E.verbose("Selecting multiple",c,e),f.checkbox("uncheck"),a.each(c,function(a,b){d=e.filter('[value="'+b+'"]'),f=d.parent(),d.length>0&&f.checkbox("check")})):j?(E.verbose("Selecting radio value",c,e),e.filter('[value="'+c+'"]').parent(x.uiCheckbox).checkbox("check")):h?(E.verbose("Setting checkbox value",c,f),c===!0?f.checkbox("check"):f.checkbox("uncheck")):i?(E.verbose("Setting dropdown value",c,f),f.dropdown("set selected",c)):(E.verbose("Setting field value",c,e),e.val(c)))})}},validate:{form:function(a,b){var c=E.get.values();if(I)return!1;if(H=[],E.is.valid()){if(E.debug("Form has no validation errors, submitting"),E.set.success(),b!==!0)return u.onSuccess.call(G,a,c)}else if(E.debug("Form has errors"),E.set.error(),u.inline||E.add.errors(H),F.data("moduleApi")!==d&&a.stopImmediatePropagation(),b!==!0)return u.onFailure.call(G,H,c)},field:function(b,c){var e=b.identifier||c,f=E.get.field(e),g=!0,h=[];return b.identifier||(E.debug("Using field name as identifier",e),b.identifier=e),f.prop("disabled")?(E.debug("Field is disabled. Skipping",e),g=!0):b.optional&&""===a.trim(f.val())?(E.debug("Field is optional and empty. Skipping",e),g=!0):b.rules!==d&&a.each(b.rules,function(a,c){E.has.field(e)&&!E.validate.rule(b,c)&&(E.debug("Field is invalid",e,c.type),h.push(E.get.prompt(c,b)),g=!1)}),g?(E.remove.prompt(e,h),u.onValid.call(f),!0):(H=H.concat(h),E.add.prompt(e,h),u.onInvalid.call(f,h),!1)},rule:function(b,c){var e=E.get.field(b.identifier),f=(c.type,e.val()),g=E.get.ancillaryValue(c),h=E.get.ruleName(c),i=u.rules[h];return a.isFunction(i)?(f=f===d||""===f||null===f?"":a.trim(f+""),i.call(e,f,g)):void E.error(z.noRule,h)}},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,u,b);else{if(c===d)return u[b];u[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,E,b);else{if(c===d)return E[b];E[b]=c}},debug:function(){u.debug&&(u.performance?E.performance.log(arguments):(E.debug=Function.prototype.bind.call(console.info,console,u.name+":"),E.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?E.performance.log(arguments):(E.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),E.verbose.apply(console,arguments)))},error:function(){E.error=Function.prototype.bind.call(console.error,console,u.name+":"),E.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;u.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:G,"Execution Time":c})),clearTimeout(E.performance.timer),E.performance.timer=setTimeout(E.performance.display,500)},display:function(){var b=u.name+":",c=0;h=!1,clearTimeout(E.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",g&&(b+=" '"+g+"'"),f.length>1&&(b+=" ("+f.length+")"),(console.group!==d||console.table!==d)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,f){var g,h,i,j=D;return c=c||m,f=G||f,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):!1;j=j[e]}})),a.isFunction(h)?i=h.apply(f,c):h!==d&&(i=h),a.isArray(e)?e.push(i):e!==d?e=[e,i]:i!==d&&(e=i),h}},E.initialize()}),e!==d?e:this},a.fn.form.settings={name:"Form",namespace:"form",debug:!1,verbose:!1,performance:!0,fields:!1,keyboardShortcuts:!0,on:"submit",inline:!1,delay:200,revalidate:!0,transition:"scale",duration:200,onValid:function(){},onInvalid:function(){},onSuccess:function(){return!0},onFailure:function(){return!1},metadata:{defaultValue:"default",validate:"validate"},regExp:{bracket:/\[(.*)\]/i,decimal:/^\d*(\.)\d+/,email:"[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,flags:/^\/(.*)\/(.*)?/,integer:/^\-?\d+$/,number:/^\-?\d*(\.\d+)?$/,url:/(https?:\/\/(?:www\.|(?!www))[^\s\.]+\.[^\s]{2,}|www\.[^\s]+\.[^\s]{2,})/i},text:{unspecifiedRule:"Please enter a valid value",unspecifiedField:"This field"},prompt:{empty:"{name} must have a value",checked:"{name} must be checked",email:"{name} must be a valid e-mail",url:"{name} must be a valid url",regExp:"{name} is not formatted correctly",integer:"{name} must be an integer",decimal:"{name} must be a decimal number",number:"{name} must be set to a number",is:'{name} must be "{ruleValue}"',isExactly:'{name} must be exactly "{ruleValue}"',not:'{name} cannot be set to "{ruleValue}"',notExactly:'{name} cannot be set to exactly "{ruleValue}"',contain:'{name} cannot contain "{ruleValue}"',containExactly:'{name} cannot contain exactly "{ruleValue}"',doesntContain:'{name} must contain  "{ruleValue}"',doesntContainExactly:'{name} must contain exactly "{ruleValue}"',minLength:"{name} must be at least {ruleValue} characters",length:"{name} must be at least {ruleValue} characters",exactLength:"{name} must be exactly {ruleValue} characters",maxLength:"{name} cannot be longer than {ruleValue} characters",match:"{name} must match {ruleValue} field",different:"{name} must have a different value than {ruleValue} field",creditCard:"{name} must be a valid credit card number",minCount:"{name} must have at least {ruleValue} choices",exactCount:"{name} must have exactly {ruleValue} choices",maxCount:"{name} must have {ruleValue} or less choices"},selector:{checkbox:'input[type="checkbox"], input[type="radio"]',clear:".clear",field:"input, textarea, select",group:".field",input:"input",message:".error.message",prompt:".prompt.label",radio:'input[type="radio"]',reset:'.reset:not([type="reset"])',submit:'.submit:not([type="submit"])',uiCheckbox:".ui.checkbox",uiDropdown:".ui.dropdown"},className:{error:"error",label:"ui prompt label",pressed:"down",success:"success"},error:{identifier:"You must specify a string identifier for each field",method:"The method you called is not defined.",noRule:"There is no rule matching the one you specified",oldSyntax:"Starting in 2.0 forms now only take a single settings object. Validation settings converted to new syntax automatically."},templates:{error:function(b){var c='<ul class="list">';return a.each(b,function(a,b){c+="<li>"+b+"</li>"}),c+="</ul>",a(c)},prompt:function(b){return a("<div/>").addClass("ui basic red pointing prompt label").html(b[0])}},rules:{empty:function(b){return!(b===d||""===b||a.isArray(b)&&0===b.length)},checked:function(){return a(this).filter(":checked").length>0},email:function(b){var c=new RegExp(a.fn.form.settings.regExp.email,"i");return c.test(b)},url:function(b){return a.fn.form.settings.regExp.url.test(b)},regExp:function(b,c){var d,e=c.match(a.fn.form.settings.regExp.flags);return e&&(c=e.length>=2?e[1]:c,d=e.length>=3?e[2]:""),b.match(new RegExp(c,d))},integer:function(b,c){var e,f,g,h=a.fn.form.settings.regExp.integer;return c&&-1===["",".."].indexOf(c)&&(-1==c.indexOf("..")?h.test(c)&&(e=f=c-0):(g=c.split("..",2),h.test(g[0])&&(e=g[0]-0),h.test(g[1])&&(f=g[1]-0))),h.test(b)&&(e===d||b>=e)&&(f===d||f>=b)},decimal:function(b){return a.fn.form.settings.regExp.decimal.test(b)},number:function(b){return a.fn.form.settings.regExp.number.test(b)},is:function(a,b){return b="string"==typeof b?b.toLowerCase():b,a="string"==typeof a?a.toLowerCase():a,a==b},isExactly:function(a,b){return a==b},not:function(a,b){return a="string"==typeof a?a.toLowerCase():a,b="string"==typeof b?b.toLowerCase():b,a!=b},notExactly:function(a,b){return a!=b},contains:function(b,c){return c=c.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1!==b.search(new RegExp(c,"i"))},containsExactly:function(b,c){return c=c.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1!==b.search(new RegExp(c))},doesntContain:function(b,c){return c=c.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1===b.search(new RegExp(c,"i"))},doesntContainExactly:function(b,c){return c=c.replace(a.fn.form.settings.regExp.escape,"\\$&"),-1===b.search(new RegExp(c))},minLength:function(a,b){return a!==d?a.length>=b:!1},length:function(a,b){return a!==d?a.length>=b:!1},exactLength:function(a,b){return a!==d?a.length==b:!1},maxLength:function(a,b){return a!==d?a.length<=b:!1},match:function(b,c){var e;a(this);return a('[data-validate="'+c+'"]').length>0?e=a('[data-validate="'+c+'"]').val():a("#"+c).length>0?e=a("#"+c).val():a('[name="'+c+'"]').length>0?e=a('[name="'+c+'"]').val():a('[name="'+c+'[]"]').length>0&&(e=a('[name="'+c+'[]"]')),e!==d?b.toString()==e.toString():!1},different:function(b,c){var e;a(this);return a('[data-validate="'+c+'"]').length>0?e=a('[data-validate="'+c+'"]').val():a("#"+c).length>0?e=a("#"+c).val():a('[name="'+c+'"]').length>0?e=a('[name="'+c+'"]').val():a('[name="'+c+'[]"]').length>0&&(e=a('[name="'+c+'[]"]')),e!==d?b.toString()!==e.toString():!1},creditCard:function(b,c){var d,e,f={visa:{pattern:/^4/,length:[16]},amex:{pattern:/^3[47]/,length:[15]},mastercard:{pattern:/^5[1-5]/,length:[16]},discover:{pattern:/^(6011|622(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[0-1][0-9]|92[0-5]|64[4-9])|65)/,length:[16]},unionPay:{pattern:/^(62|88)/,length:[16,17,18,19]},jcb:{pattern:/^35(2[89]|[3-8][0-9])/,length:[16]},maestro:{pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,length:[12,13,14,15,16,17,18,19]},dinersClub:{pattern:/^(30[0-5]|^36)/,length:[14]},laser:{pattern:/^(6304|670[69]|6771)/,length:[16,17,18,19]},visaElectron:{pattern:/^(4026|417500|4508|4844|491(3|7))/,length:[16]}},g={},h=!1,i="string"==typeof c?c.split(","):!1;if("string"==typeof b&&0!==b.length){if(i&&(a.each(i,function(c,d){e=f[d],e&&(g={length:-1!==a.inArray(b.length,e.length),pattern:-1!==b.search(e.pattern)},g.length&&g.pattern&&(h=!0))}),!h))return!1;if(d={number:-1!==a.inArray(b.length,f.unionPay.length),pattern:-1!==b.search(f.unionPay.pattern)},d.number&&d.pattern)return!0;for(var j=b.length,k=0,l=[[0,1,2,3,4,5,6,7,8,9],[0,2,4,6,8,1,3,5,7,9]],m=0;j--;)m+=l[k][parseInt(b.charAt(j),10)],k^=1;return m%10===0&&m>0}},minCount:function(a,b){return 0==b?!0:1==b?""!==a:a.split(",").length>=b},exactCount:function(a,b){return 0==b?""===a:1==b?""!==a&&-1===a.search(","):a.split(",").length==b},maxCount:function(a,b){return 0==b?!1:1==b?-1===a.search(","):a.split(",").length<=b}}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.accordion=function(c){var e,f=a(this),g=(new Date).getTime(),h=[],i=arguments[0],j="string"==typeof i,k=[].slice.call(arguments,1);b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)};return f.each(function(){var l,m,n=a.isPlainObject(c)?a.extend(!0,{},a.fn.accordion.settings,c):a.extend({},a.fn.accordion.settings),o=n.className,p=n.namespace,q=n.selector,r=n.error,s="."+p,t="module-"+p,u=f.selector||"",v=a(this),w=v.find(q.title),x=v.find(q.content),y=this,z=v.data(t);m={initialize:function(){m.debug("Initializing",v),m.bind.events(),n.observeChanges&&m.observeChanges(),m.instantiate()},instantiate:function(){z=m,v.data(t,m)},destroy:function(){m.debug("Destroying previous instance",v),v.off(s).removeData(t)},refresh:function(){w=v.find(q.title),x=v.find(q.content)},observeChanges:function(){"MutationObserver"in b&&(l=new MutationObserver(function(a){m.debug("DOM tree modified, updating selector cache"),m.refresh()}),l.observe(y,{childList:!0,subtree:!0}),m.debug("Setting up mutation observer",l))},bind:{events:function(){m.debug("Binding delegated events"),v.on(n.on+s,q.trigger,m.event.click)}},event:{click:function(){m.toggle.call(this)}},toggle:function(b){var c=b!==d?"number"==typeof b?w.eq(b):a(b).closest(q.title):a(this).closest(q.title),e=c.next(x),f=e.hasClass(o.animating),g=e.hasClass(o.active),h=g&&!f,i=!g&&f;m.debug("Toggling visibility of content",c),h||i?n.collapsible?m.close.call(c):m.debug("Cannot close accordion content collapsing is disabled"):m.open.call(c)},open:function(b){var c=b!==d?"number"==typeof b?w.eq(b):a(b).closest(q.title):a(this).closest(q.title),e=c.next(x),f=e.hasClass(o.animating),g=e.hasClass(o.active),h=g||f;return h?void m.debug("Accordion already open, skipping",e):(m.debug("Opening accordion content",c),n.onOpening.call(e),n.exclusive&&m.closeOthers.call(c),c.addClass(o.active),e.stop(!0,!0).addClass(o.animating),n.animateChildren&&(a.fn.transition!==d&&v.transition("is supported")?e.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:n.debug,verbose:n.verbose,duration:n.duration}):e.children().stop(!0,!0).animate({opacity:1},n.duration,m.resetOpacity)),void e.slideDown(n.duration,n.easing,function(){e.removeClass(o.animating).addClass(o.active),m.reset.display.call(this),n.onOpen.call(this),n.onChange.call(this)}))},close:function(b){var c=b!==d?"number"==typeof b?w.eq(b):a(b).closest(q.title):a(this).closest(q.title),e=c.next(x),f=e.hasClass(o.animating),g=e.hasClass(o.active),h=!g&&f,i=g&&f;!g&&!h||i||(m.debug("Closing accordion content",e),n.onClosing.call(e),c.removeClass(o.active),e.stop(!0,!0).addClass(o.animating),n.animateChildren&&(a.fn.transition!==d&&v.transition("is supported")?e.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:n.debug,verbose:n.verbose,duration:n.duration}):e.children().stop(!0,!0).animate({opacity:0},n.duration,m.resetOpacity)),e.slideUp(n.duration,n.easing,function(){e.removeClass(o.animating).removeClass(o.active),m.reset.display.call(this),n.onClose.call(this),n.onChange.call(this)}))},closeOthers:function(b){var c,e,f,g=b!==d?w.eq(b):a(this).closest(q.title),h=g.parents(q.content).prev(q.title),i=g.closest(q.accordion),j=q.title+"."+o.active+":visible",k=q.content+"."+o.active+":visible";n.closeNested?(c=i.find(j).not(h),f=c.next(x)):(c=i.find(j).not(h),e=i.find(k).find(j).not(h),c=c.not(e),f=c.next(x)),c.length>0&&(m.debug("Exclusive enabled, closing other content",c),c.removeClass(o.active),f.removeClass(o.animating).stop(!0,!0),n.animateChildren&&(a.fn.transition!==d&&v.transition("is supported")?f.children().transition({animation:"fade out",useFailSafe:!0,debug:n.debug,verbose:n.verbose,duration:n.duration}):f.children().stop(!0,!0).animate({opacity:0},n.duration,m.resetOpacity)),f.slideUp(n.duration,n.easing,function(){a(this).removeClass(o.active),m.reset.display.call(this)}))},reset:{display:function(){m.verbose("Removing inline display from element",this),a(this).css("display",""),""===a(this).attr("style")&&a(this).attr("style","").removeAttr("style")},opacity:function(){m.verbose("Removing inline opacity from element",this),a(this).css("opacity",""),""===a(this).attr("style")&&a(this).attr("style","").removeAttr("style")}},setting:function(b,c){if(m.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,n,b);else{if(c===d)return n[b];n[b]=c}},internal:function(b,c){return m.debug("Changing internal",b,c),c===d?m[b]:void(a.isPlainObject(b)?a.extend(!0,m,b):m[b]=c)},debug:function(){n.debug&&(n.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,n.name+":"),m.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,n.name+":"),m.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;n.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:y,"Execution Time":c})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var b=n.name+":",c=0;g=!1,clearTimeout(m.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",u&&(b+=" '"+u+"'"),(console.group!==d||console.table!==d)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,c,f){var g,h,i,j=z;return c=c||k,f=y||f,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):(m.error(r.method,b),!1);j=j[e]}})),a.isFunction(h)?i=h.apply(f,c):h!==d&&(i=h),a.isArray(e)?e.push(i):e!==d?e=[e,i]:i!==d&&(e=i),h}},j?(z===d&&m.initialize(),m.invoke(i)):(z!==d&&z.invoke("destroy"),m.initialize())}),e!==d?e:this},a.fn.accordion.settings={name:"Accordion",namespace:"accordion",debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},a.extend(a.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}})}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.checkbox=function(e){var f,g=a(this),h=g.selector||"",i=(new Date).getTime(),j=[],k=arguments[0],l="string"==typeof k,m=[].slice.call(arguments,1);return g.each(function(){var g,n,o=a.extend(!0,{},a.fn.checkbox.settings,e),p=o.className,q=o.namespace,r=o.selector,s=o.error,t="."+q,u="module-"+q,v=a(this),w=a(this).children(r.label),x=a(this).children(r.input),y=x[0],z=!1,A=!1,B=v.data(u),C=this;
n={initialize:function(){n.verbose("Initializing checkbox",o),n.create.label(),n.bind.events(),n.set.tabbable(),n.hide.input(),n.observeChanges(),n.instantiate(),n.setup()},instantiate:function(){n.verbose("Storing instance of module",n),B=n,v.data(u,n)},destroy:function(){n.verbose("Destroying module"),n.unbind.events(),n.show.input(),v.removeData(u)},fix:{reference:function(){v.is(r.input)&&(n.debug("Behavior called on <input> adjusting invoked element"),v=v.closest(r.checkbox),n.refresh())}},setup:function(){n.set.initialLoad(),n.is.indeterminate()?(n.debug("Initial value is indeterminate"),n.indeterminate()):n.is.checked()?(n.debug("Initial value is checked"),n.check()):(n.debug("Initial value is unchecked"),n.uncheck()),n.remove.initialLoad()},refresh:function(){w=v.children(r.label),x=v.children(r.input),y=x[0]},hide:{input:function(){n.verbose("Modfying <input> z-index to be unselectable"),x.addClass(p.hidden)}},show:{input:function(){n.verbose("Modfying <input> z-index to be selectable"),x.removeClass(p.hidden)}},observeChanges:function(){"MutationObserver"in b&&(g=new MutationObserver(function(a){n.debug("DOM tree modified, updating selector cache"),n.refresh()}),g.observe(C,{childList:!0,subtree:!0}),n.debug("Setting up mutation observer",g))},attachEvents:function(b,c){var d=a(b);c=a.isFunction(n[c])?n[c]:n.toggle,d.length>0?(n.debug("Attaching checkbox events to element",b,c),d.on("click"+t,c)):n.error(s.notFound)},event:{click:function(b){var c=a(b.target);return c.is(r.input)?void n.verbose("Using default check action on initialized checkbox"):c.is(r.link)?void n.debug("Clicking link inside checkbox, skipping toggle"):(n.toggle(),x.focus(),void b.preventDefault())},keydown:function(a){var b=a.which,c={enter:13,space:32,escape:27};b==c.escape?(n.verbose("Escape key pressed blurring field"),x.blur(),A=!0):a.ctrlKey||b!=c.space&&b!=c.enter?A=!1:(n.verbose("Enter/space key pressed, toggling checkbox"),n.toggle(),A=!0)},keyup:function(a){A&&a.preventDefault()}},check:function(){n.should.allowCheck()&&(n.debug("Checking checkbox",x),n.set.checked(),n.should.ignoreCallbacks()||(o.onChecked.call(y),o.onChange.call(y)))},uncheck:function(){n.should.allowUncheck()&&(n.debug("Unchecking checkbox"),n.set.unchecked(),n.should.ignoreCallbacks()||(o.onUnchecked.call(y),o.onChange.call(y)))},indeterminate:function(){return n.should.allowIndeterminate()?void n.debug("Checkbox is already indeterminate"):(n.debug("Making checkbox indeterminate"),n.set.indeterminate(),void(n.should.ignoreCallbacks()||(o.onIndeterminate.call(y),o.onChange.call(y))))},determinate:function(){return n.should.allowDeterminate()?void n.debug("Checkbox is already determinate"):(n.debug("Making checkbox determinate"),n.set.determinate(),void(n.should.ignoreCallbacks()||(o.onDeterminate.call(y),o.onChange.call(y))))},enable:function(){return n.is.enabled()?void n.debug("Checkbox is already enabled"):(n.debug("Enabling checkbox"),n.set.enabled(),void o.onEnabled.call(y))},disable:function(){return n.is.disabled()?void n.debug("Checkbox is already disabled"):(n.debug("Disabling checkbox"),n.set.disabled(),void o.onDisabled.call(y))},get:{radios:function(){var b=n.get.name();return a('input[name="'+b+'"]').closest(r.checkbox)},otherRadios:function(){return n.get.radios().not(v)},name:function(){return x.attr("name")}},is:{initialLoad:function(){return z},radio:function(){return x.hasClass(p.radio)||"radio"==x.attr("type")},indeterminate:function(){return x.prop("indeterminate")!==d&&x.prop("indeterminate")},checked:function(){return x.prop("checked")!==d&&x.prop("checked")},disabled:function(){return x.prop("disabled")!==d&&x.prop("disabled")},enabled:function(){return!n.is.disabled()},determinate:function(){return!n.is.indeterminate()},unchecked:function(){return!n.is.checked()}},should:{allowCheck:function(){return n.is.determinate()&&n.is.checked()&&!n.should.forceCallbacks()?(n.debug("Should not allow check, checkbox is already checked"),!1):o.beforeChecked.apply(y)===!1?(n.debug("Should not allow check, beforeChecked cancelled"),!1):!0},allowUncheck:function(){return n.is.determinate()&&n.is.unchecked()&&!n.should.forceCallbacks()?(n.debug("Should not allow uncheck, checkbox is already unchecked"),!1):o.beforeUnchecked.apply(y)===!1?(n.debug("Should not allow uncheck, beforeUnchecked cancelled"),!1):!0},allowIndeterminate:function(){return n.is.indeterminate()&&!n.should.forceCallbacks()?(n.debug("Should not allow indeterminate, checkbox is already indeterminate"),!1):o.beforeIndeterminate.apply(y)===!1?(n.debug("Should not allow indeterminate, beforeIndeterminate cancelled"),!1):!0},allowDeterminate:function(){return n.is.determinate()&&!n.should.forceCallbacks()?(n.debug("Should not allow determinate, checkbox is already determinate"),!1):o.beforeDeterminate.apply(y)===!1?(n.debug("Should not allow determinate, beforeDeterminate cancelled"),!1):!0},forceCallbacks:function(){return n.is.initialLoad()&&o.fireOnInit},ignoreCallbacks:function(){return z&&!o.fireOnInit}},can:{change:function(){return!(v.hasClass(p.disabled)||v.hasClass(p.readOnly)||x.prop("disabled")||x.prop("readonly"))},uncheck:function(){return"boolean"==typeof o.uncheckable?o.uncheckable:!n.is.radio()}},set:{initialLoad:function(){z=!0},checked:function(){return n.verbose("Setting class to checked"),v.removeClass(p.indeterminate).addClass(p.checked),n.is.radio()&&n.uncheckOthers(),!n.is.indeterminate()&&n.is.checked()?void n.debug("Input is already checked, skipping input property change"):(n.verbose("Setting state to checked",y),x.prop("indeterminate",!1).prop("checked",!0),void n.trigger.change())},unchecked:function(){return n.verbose("Removing checked class"),v.removeClass(p.indeterminate).removeClass(p.checked),!n.is.indeterminate()&&n.is.unchecked()?void n.debug("Input is already unchecked"):(n.debug("Setting state to unchecked"),x.prop("indeterminate",!1).prop("checked",!1),void n.trigger.change())},indeterminate:function(){return n.verbose("Setting class to indeterminate"),v.addClass(p.indeterminate),n.is.indeterminate()?void n.debug("Input is already indeterminate, skipping input property change"):(n.debug("Setting state to indeterminate"),x.prop("indeterminate",!0),void n.trigger.change())},determinate:function(){return n.verbose("Removing indeterminate class"),v.removeClass(p.indeterminate),n.is.determinate()?void n.debug("Input is already determinate, skipping input property change"):(n.debug("Setting state to determinate"),void x.prop("indeterminate",!1))},disabled:function(){return n.verbose("Setting class to disabled"),v.addClass(p.disabled),n.is.disabled()?void n.debug("Input is already disabled, skipping input property change"):(n.debug("Setting state to disabled"),x.prop("disabled","disabled"),void n.trigger.change())},enabled:function(){return n.verbose("Removing disabled class"),v.removeClass(p.disabled),n.is.enabled()?void n.debug("Input is already enabled, skipping input property change"):(n.debug("Setting state to enabled"),x.prop("disabled",!1),void n.trigger.change())},tabbable:function(){n.verbose("Adding tabindex to checkbox"),x.attr("tabindex")===d&&x.attr("tabindex",0)}},remove:{initialLoad:function(){z=!1}},trigger:{change:function(){var a=c.createEvent("HTMLEvents"),b=x[0];b&&(n.verbose("Triggering native change event"),a.initEvent("change",!0,!1),b.dispatchEvent(a))}},create:{label:function(){x.prevAll(r.label).length>0?(x.prev(r.label).detach().insertAfter(x),n.debug("Moving existing label",w)):n.has.label()||(w=a("<label>").insertAfter(x),n.debug("Creating label",w))}},has:{label:function(){return w.length>0}},bind:{events:function(){n.verbose("Attaching checkbox events"),v.on("click"+t,n.event.click).on("keydown"+t,r.input,n.event.keydown).on("keyup"+t,r.input,n.event.keyup)}},unbind:{events:function(){n.debug("Removing events"),v.off(t)}},uncheckOthers:function(){var a=n.get.otherRadios();n.debug("Unchecking other radios",a),a.removeClass(p.checked)},toggle:function(){return n.can.change()?void(n.is.indeterminate()||n.is.unchecked()?(n.debug("Currently unchecked"),n.check()):n.is.checked()&&n.can.uncheck()&&(n.debug("Currently checked"),n.uncheck())):void(n.is.radio()||n.debug("Checkbox is read-only or disabled, ignoring toggle"))},setting:function(b,c){if(n.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,o,b);else{if(c===d)return o[b];o[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,n,b);else{if(c===d)return n[b];n[b]=c}},debug:function(){o.debug&&(o.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,o.name+":"),n.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,o.name+":"),n.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;o.performance&&(b=(new Date).getTime(),d=i||b,c=b-d,i=b,j.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:C,"Execution Time":c})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var b=o.name+":",c=0;i=!1,clearTimeout(n.performance.timer),a.each(j,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",h&&(b+=" '"+h+"'"),(console.group!==d||console.table!==d)&&j.length>0&&(console.groupCollapsed(b),console.table?console.table(j):a.each(j,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(b,c,e){var g,h,i,j=B;return c=c||m,e=C||e,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):(n.error(s.method,b),!1);j=j[e]}})),a.isFunction(h)?i=h.apply(e,c):h!==d&&(i=h),a.isArray(f)?f.push(i):f!==d?f=[f,i]:i!==d&&(f=i),h}},l?(B===d&&n.initialize(),n.invoke(k)):(B!==d&&B.invoke("destroy"),n.initialize())}),f!==d?f:this},a.fn.checkbox.settings={name:"Checkbox",namespace:"checkbox",debug:!1,verbose:!0,performance:!0,uncheckable:"auto",fireOnInit:!1,onChange:function(){},beforeChecked:function(){},beforeUnchecked:function(){},beforeDeterminate:function(){},beforeIndeterminate:function(){},onChecked:function(){},onUnchecked:function(){},onDeterminate:function(){},onIndeterminate:function(){},onEnable:function(){},onDisable:function(){},className:{checked:"checked",indeterminate:"indeterminate",disabled:"disabled",hidden:"hidden",radio:"radio",readOnly:"read-only"},error:{method:"The method you called is not defined"},selector:{checkbox:".ui.checkbox",label:"label, .box",input:'input[type="checkbox"], input[type="radio"]',link:"a[href]"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.dimmer=function(b){var e,f=a(this),g=(new Date).getTime(),h=[],i=arguments[0],j="string"==typeof i,k=[].slice.call(arguments,1);return f.each(function(){var l,m,n,o=a.isPlainObject(b)?a.extend(!0,{},a.fn.dimmer.settings,b):a.extend({},a.fn.dimmer.settings),p=o.selector,q=o.namespace,r=o.className,s=o.error,t="."+q,u="module-"+q,v=f.selector||"",w="ontouchstart"in c.documentElement?"touchstart":"click",x=a(this),y=this,z=x.data(u);n={preinitialize:function(){n.is.dimmer()?(m=x.parent(),l=x):(m=x,l=n.has.dimmer()?o.dimmerName?m.find(p.dimmer).filter("."+o.dimmerName):m.find(p.dimmer):n.create())},initialize:function(){n.debug("Initializing dimmer",o),n.bind.events(),n.set.dimmable(),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),z=n,x.data(u,z)},destroy:function(){n.verbose("Destroying previous module",l),n.unbind.events(),n.remove.variation(),m.off(t)},bind:{events:function(){"hover"==o.on?m.on("mouseenter"+t,n.show).on("mouseleave"+t,n.hide):"click"==o.on&&m.on(w+t,n.toggle),n.is.page()&&(n.debug("Setting as a page dimmer",m),n.set.pageDimmer()),n.is.closable()&&(n.verbose("Adding dimmer close event",l),m.on(w+t,p.dimmer,n.event.click))}},unbind:{events:function(){x.removeData(u)}},event:{click:function(b){n.verbose("Determining if event occured on dimmer",b),(0===l.find(b.target).length||a(b.target).is(p.content))&&(n.hide(),b.stopImmediatePropagation())}},addContent:function(b){var c=a(b);n.debug("Add content to dimmer",c),c.parent()[0]!==l[0]&&c.detach().appendTo(l)},create:function(){var b=a(o.template.dimmer());return o.variation&&(n.debug("Creating dimmer with variation",o.variation),b.addClass(o.variation)),o.dimmerName&&(n.debug("Creating named dimmer",o.dimmerName),b.addClass(o.dimmerName)),b.appendTo(m),b},show:function(b){b=a.isFunction(b)?b:function(){},n.debug("Showing dimmer",l,o),n.is.dimmed()&&!n.is.animating()||!n.is.enabled()?n.debug("Dimmer is already shown or disabled"):(n.animate.show(b),o.onShow.call(y),o.onChange.call(y))},hide:function(b){b=a.isFunction(b)?b:function(){},n.is.dimmed()||n.is.animating()?(n.debug("Hiding dimmer",l),n.animate.hide(b),o.onHide.call(y),o.onChange.call(y)):n.debug("Dimmer is not visible")},toggle:function(){n.verbose("Toggling dimmer visibility",l),n.is.dimmed()?n.hide():n.show()},animate:{show:function(b){b=a.isFunction(b)?b:function(){},o.useCSS&&a.fn.transition!==d&&l.transition("is supported")?("auto"!==o.opacity&&n.set.opacity(),l.transition({animation:o.transition+" in",queue:!1,duration:n.get.duration(),useFailSafe:!0,onStart:function(){n.set.dimmed()},onComplete:function(){n.set.active(),b()}})):(n.verbose("Showing dimmer animation with javascript"),n.set.dimmed(),"auto"==o.opacity&&(o.opacity=.8),l.stop().css({opacity:0,width:"100%",height:"100%"}).fadeTo(n.get.duration(),o.opacity,function(){l.removeAttr("style"),n.set.active(),b()}))},hide:function(b){b=a.isFunction(b)?b:function(){},o.useCSS&&a.fn.transition!==d&&l.transition("is supported")?(n.verbose("Hiding dimmer with css"),l.transition({animation:o.transition+" out",queue:!1,duration:n.get.duration(),useFailSafe:!0,onStart:function(){n.remove.dimmed()},onComplete:function(){n.remove.active(),b()}})):(n.verbose("Hiding dimmer with javascript"),n.remove.dimmed(),l.stop().fadeOut(n.get.duration(),function(){n.remove.active(),l.removeAttr("style"),b()}))}},get:{dimmer:function(){return l},duration:function(){return"object"==typeof o.duration?n.is.active()?o.duration.hide:o.duration.show:o.duration}},has:{dimmer:function(){return o.dimmerName?x.find(p.dimmer).filter("."+o.dimmerName).length>0:x.find(p.dimmer).length>0}},is:{active:function(){return l.hasClass(r.active)},animating:function(){return l.is(":animated")||l.hasClass(r.animating)},closable:function(){return"auto"==o.closable?"hover"!=o.on:o.closable},dimmer:function(){return x.hasClass(r.dimmer)},dimmable:function(){return x.hasClass(r.dimmable)},dimmed:function(){return m.hasClass(r.dimmed)},disabled:function(){return m.hasClass(r.disabled)},enabled:function(){return!n.is.disabled()},page:function(){return m.is("body")},pageDimmer:function(){return l.hasClass(r.pageDimmer)}},can:{show:function(){return!l.hasClass(r.disabled)}},set:{opacity:function(a){var b=l.css("background-color"),c=b.split(","),d=c&&4==c.length;a=0===o.opacity?0:o.opacity||a,d?(c[3]=a+")",b=c.join(",")):b="rgba(0, 0, 0, "+a+")",n.debug("Setting opacity to",a),l.css("background-color",b)},active:function(){l.addClass(r.active)},dimmable:function(){m.addClass(r.dimmable)},dimmed:function(){m.addClass(r.dimmed)},pageDimmer:function(){l.addClass(r.pageDimmer)},disabled:function(){l.addClass(r.disabled)},variation:function(a){a=a||o.variation,a&&l.addClass(a)}},remove:{active:function(){l.removeClass(r.active)},dimmed:function(){m.removeClass(r.dimmed)},disabled:function(){l.removeClass(r.disabled)},variation:function(a){a=a||o.variation,a&&l.removeClass(a)}},setting:function(b,c){if(n.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,o,b);else{if(c===d)return o[b];o[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,n,b);else{if(c===d)return n[b];n[b]=c}},debug:function(){o.debug&&(o.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,o.name+":"),n.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,o.name+":"),n.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;o.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:y,"Execution Time":c})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var b=o.name+":",c=0;g=!1,clearTimeout(n.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",v&&(b+=" '"+v+"'"),f.length>1&&(b+=" ("+f.length+")"),(console.group!==d||console.table!==d)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,c,f){var g,h,i,j=z;return c=c||k,f=y||f,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):(n.error(s.method,b),!1);j=j[e]}})),a.isFunction(h)?i=h.apply(f,c):h!==d&&(i=h),a.isArray(e)?e.push(i):e!==d?e=[e,i]:i!==d&&(e=i),h}},n.preinitialize(),j?(z===d&&n.initialize(),n.invoke(i)):(z!==d&&z.invoke("destroy"),n.initialize())}),e!==d?e:this},a.fn.dimmer.settings={name:"Dimmer",namespace:"dimmer",debug:!1,verbose:!1,performance:!0,dimmerName:!1,variation:!1,closable:"auto",useCSS:!0,transition:"fade",on:!1,opacity:"auto",duration:{show:500,hide:500},onChange:function(){},onShow:function(){},onHide:function(){},error:{method:"The method you called is not defined."},className:{active:"active",animating:"animating",dimmable:"dimmable",dimmed:"dimmed",dimmer:"dimmer",disabled:"disabled",hide:"hide",pageDimmer:"page",show:"show"},selector:{dimmer:"> .ui.dimmer",content:".ui.dimmer > .content, .ui.dimmer > .content > .center"},template:{dimmer:function(){return a("<div />").attr("class","ui dimmer")}}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.dropdown=function(e){var f,g=a(this),h=a(c),i=g.selector||"",j="ontouchstart"in c.documentElement,k=(new Date).getTime(),l=[],m=arguments[0],n="string"==typeof m,o=[].slice.call(arguments,1);return g.each(function(p){var q,r,s,t,u,v,w,x=a.isPlainObject(e)?a.extend(!0,{},a.fn.dropdown.settings,e):a.extend({},a.fn.dropdown.settings),y=x.className,z=x.message,A=x.fields,B=x.keys,C=x.metadata,D=x.namespace,E=x.regExp,F=x.selector,G=x.error,H=x.templates,I="."+D,J="module-"+D,K=a(this),L=a(x.context),M=K.find(F.text),N=K.find(F.search),O=K.find(F.input),P=K.find(F.icon),Q=K.prev().find(F.text).length>0?K.prev().find(F.text):K.prev(),R=K.children(F.menu),S=R.find(F.item),T=!1,U=!1,V=!1,W=this,X=K.data(J);w={initialize:function(){w.debug("Initializing dropdown",x),w.is.alreadySetup()?w.setup.reference():(w.setup.layout(),w.refreshData(),w.save.defaults(),w.restore.selected(),w.create.id(),w.bind.events(),w.observeChanges(),w.instantiate())},instantiate:function(){w.verbose("Storing instance of dropdown",w),X=w,K.data(J,w)},destroy:function(){w.verbose("Destroying previous dropdown",K),w.remove.tabbable(),K.off(I).removeData(J),R.off(I),h.off(s),u&&u.disconnect(),v&&v.disconnect()},observeChanges:function(){"MutationObserver"in b&&(u=new MutationObserver(function(a){w.debug("<select> modified, recreating menu"),w.setup.select()}),v=new MutationObserver(function(a){w.debug("Menu modified, updating selector cache"),w.refresh()}),w.has.input()&&u.observe(O[0],{childList:!0,subtree:!0}),w.has.menu()&&v.observe(R[0],{childList:!0,subtree:!0}),w.debug("Setting up mutation observer",u,v))},create:{id:function(){t=(Math.random().toString(16)+"000000000").substr(2,8),s="."+t,w.verbose("Creating unique id for element",t)},userChoice:function(b){var c,e,f;return(b=b||w.get.userValues())?(b=a.isArray(b)?b:[b],a.each(b,function(b,g){w.get.item(g)===!1&&(f=x.templates.addition(w.add.variables(z.addResult,g)),e=a("<div />").html(f).attr("data-"+C.value,g).attr("data-"+C.text,g).addClass(y.addition).addClass(y.item),c=c===d?e:c.add(e),w.verbose("Creating user choices for value",g,e))}),c):!1},userLabels:function(b){var c=w.get.userValues();c&&(w.debug("Adding user labels",c),a.each(c,function(a,b){w.verbose("Adding custom user value"),w.add.label(b,b)}))},menu:function(){R=a("<div />").addClass(y.menu).appendTo(K)}},search:function(a){a=a!==d?a:w.get.query(),w.verbose("Searching for query",a),w.filter(a)},select:{firstUnfiltered:function(){w.verbose("Selecting first non-filtered element"),w.remove.selectedItem(),S.not(F.unselectable).eq(0).addClass(y.selected)},nextAvailable:function(a){a=a.eq(0);var b=a.nextAll(F.item).not(F.unselectable).eq(0),c=a.prevAll(F.item).not(F.unselectable).eq(0),d=b.length>0;d?(w.verbose("Moving selection to",b),b.addClass(y.selected)):(w.verbose("Moving selection to",c),c.addClass(y.selected))}},setup:{api:function(){var a={debug:x.debug,on:!1};w.verbose("First request, initializing API"),K.api(a)},layout:function(){K.is("select")&&(w.setup.select(),w.setup.returnedObject()),w.has.menu()||w.create.menu(),w.is.search()&&!w.has.search()&&(w.verbose("Adding search input"),N=a("<input />").addClass(y.search).prop("autocomplete","off").insertBefore(M)),x.allowTab&&w.set.tabbable()},select:function(){var b=w.get.selectValues();w.debug("Dropdown initialized on a select",b),K.is("select")&&(O=K),O.parent(F.dropdown).length>0?(w.debug("UI dropdown already exists. Creating dropdown menu only"),K=O.closest(F.dropdown),w.has.menu()||w.create.menu(),R=K.children(F.menu),w.setup.menu(b)):(w.debug("Creating entire dropdown from select"),K=a("<div />").attr("class",O.attr("class")).addClass(y.selection).addClass(y.dropdown).html(H.dropdown(b)).insertBefore(O),O.hasClass(y.multiple)&&O.prop("multiple")===!1&&(w.error(G.missingMultiple),O.prop("multiple",!0)),O.is("[multiple]")&&w.set.multiple(),O.prop("disabled")&&(w.debug("Disabling dropdown"),K.addClass(y.disabled)),O.removeAttr("class").detach().prependTo(K)),w.refresh()},menu:function(a){R.html(H.menu(a,A)),S=R.find(F.item)},reference:function(){w.debug("Dropdown behavior was called on select, replacing with closest dropdown"),K=K.parent(F.dropdown),w.refresh(),w.setup.returnedObject(),n&&(X=w,w.invoke(m))},returnedObject:function(){var a=g.slice(0,p),b=g.slice(p+1);g=a.add(K).add(b)}},refresh:function(){w.refreshSelectors(),w.refreshData()},refreshSelectors:function(){w.verbose("Refreshing selector cache"),M=K.find(F.text),N=K.find(F.search),O=K.find(F.input),P=K.find(F.icon),Q=K.prev().find(F.text).length>0?K.prev().find(F.text):K.prev(),R=K.children(F.menu),S=R.find(F.item)},refreshData:function(){w.verbose("Refreshing cached metadata"),S.removeData(C.text).removeData(C.value),K.removeData(C.defaultText).removeData(C.defaultValue).removeData(C.placeholderText)},toggle:function(){w.verbose("Toggling menu visibility"),w.is.active()?w.hide():w.show()},show:function(b){if(b=a.isFunction(b)?b:function(){},w.can.show()&&!w.is.active()){if(w.debug("Showing dropdown"),w.is.multiple()&&!w.has.search()&&w.is.allFiltered())return!0;!w.has.message()||w.has.maxSelections()||w.has.allResultsFiltered()||w.remove.message(),x.onShow.call(W)!==!1&&w.animate.show(function(){w.can.click()&&w.bind.intent(),w.set.visible(),b.call(W)})}},hide:function(b){b=a.isFunction(b)?b:function(){},w.is.active()&&(w.debug("Hiding dropdown"),x.onHide.call(W)!==!1&&w.animate.hide(function(){w.remove.visible(),b.call(W)}))},hideOthers:function(){w.verbose("Finding other dropdowns to hide"),g.not(K).has(F.menu+"."+y.visible).dropdown("hide")},hideMenu:function(){w.verbose("Hiding menu  instantaneously"),w.remove.active(),w.remove.visible(),R.transition("hide")},hideSubMenus:function(){var a=R.children(F.item).find(F.menu);w.verbose("Hiding sub menus",a),a.transition("hide")},bind:{events:function(){j&&w.bind.touchEvents(),w.bind.keyboardEvents(),w.bind.inputEvents(),w.bind.mouseEvents()},touchEvents:function(){w.debug("Touch device detected binding additional touch events"),w.is.searchSelection()||w.is.single()&&K.on("touchstart"+I,w.event.test.toggle),R.on("touchstart"+I,F.item,w.event.item.mouseenter)},keyboardEvents:function(){w.verbose("Binding keyboard events"),K.on("keydown"+I,w.event.keydown),w.has.search()&&K.on(w.get.inputEvent()+I,F.search,w.event.input),w.is.multiple()&&h.on("keydown"+s,w.event.document.keydown)},inputEvents:function(){w.verbose("Binding input change events"),K.on("change"+I,F.input,w.event.change)},mouseEvents:function(){w.verbose("Binding mouse events"),w.is.multiple()&&K.on("click"+I,F.label,w.event.label.click).on("click"+I,F.remove,w.event.remove.click),w.is.searchSelection()?(K.on("mousedown"+I,F.menu,w.event.menu.mousedown).on("mouseup"+I,F.menu,w.event.menu.mouseup).on("click"+I,F.icon,w.event.icon.click).on("click"+I,F.search,w.show).on("focus"+I,F.search,w.event.search.focus).on("blur"+I,F.search,w.event.search.blur).on("click"+I,F.text,w.event.text.focus),w.is.multiple()&&K.on("click"+I,w.event.click)):("click"==x.on?K.on("click"+I,F.icon,w.event.icon.click).on("click"+I,w.event.test.toggle):"hover"==x.on?K.on("mouseenter"+I,w.delay.show).on("mouseleave"+I,w.delay.hide):K.on(x.on+I,w.toggle),K.on("mousedown"+I,w.event.mousedown).on("mouseup"+I,w.event.mouseup).on("focus"+I,w.event.focus).on("blur"+I,w.event.blur)),R.on("mouseenter"+I,F.item,w.event.item.mouseenter).on("mouseleave"+I,F.item,w.event.item.mouseleave).on("click"+I,F.item,w.event.item.click)},intent:function(){w.verbose("Binding hide intent event to document"),j&&h.on("touchstart"+s,w.event.test.touch).on("touchmove"+s,w.event.test.touch),h.on("click"+s,w.event.test.hide)}},unbind:{intent:function(){w.verbose("Removing hide intent event from document"),j&&h.off("touchstart"+s).off("touchmove"+s),h.off("click"+s)}},filter:function(a){var b=a!==d?a:w.get.query(),c=function(){w.is.multiple()&&w.filterActive(),w.select.firstUnfiltered(),w.has.allResultsFiltered()?x.onNoResults.call(W,b)?x.allowAdditions||(w.verbose("All items filtered, showing message",b),w.add.message(z.noResults)):(w.verbose("All items filtered, hiding dropdown",b),w.hideMenu()):w.remove.message(),x.allowAdditions&&w.add.userSuggestion(a),w.is.searchSelection()&&w.can.show()&&w.is.focusedOnSearch()&&w.show()};x.useLabels&&w.has.maxSelections()||(x.apiSettings?w.can.useAPI()?w.queryRemote(b,function(){c()}):w.error(G.noAPI):(w.filterItems(b),c()))},queryRemote:function(b,c){var d={errorDuration:!1,throttle:x.throttle,urlData:{query:b},onError:function(){w.add.message(z.serverError),c()},onFailure:function(){w.add.message(z.serverError),c()},onSuccess:function(a){w.remove.message(),w.setup.menu({values:a[A.remoteValues]}),c()}};K.api("get request")||w.setup.api(),d=a.extend(!0,{},d,x.apiSettings),K.api("setting",d).api("query")},filterItems:function(b){var c=b!==d?b:w.get.query(),e=null,f=w.escape.regExp(c),g=new RegExp("^"+f,"igm");w.has.query()&&(e=[],w.verbose("Searching for matching values",c),S.each(function(){var b,d,f=a(this);if("both"==x.match||"text"==x.match){if(b=String(w.get.choiceText(f,!1)),-1!==b.search(g))return e.push(this),!0;if(x.fullTextSearch&&w.fuzzySearch(c,b))return e.push(this),!0}if("both"==x.match||"value"==x.match){if(d=String(w.get.choiceValue(f,b)),-1!==d.search(g))return e.push(this),!0;if(x.fullTextSearch&&w.fuzzySearch(c,d))return e.push(this),!0}})),w.debug("Showing only matched items",c),w.remove.filteredItem(),e&&S.not(e).addClass(y.filtered)},fuzzySearch:function(a,b){var c=b.length,d=a.length;if(a=a.toLowerCase(),b=b.toLowerCase(),d>c)return!1;if(d===c)return a===b;a:for(var e=0,f=0;d>e;e++){for(var g=a.charCodeAt(e);c>f;)if(b.charCodeAt(f++)===g)continue a;return!1}return!0},filterActive:function(){x.useLabels&&S.filter("."+y.active).addClass(y.filtered)},focusSearch:function(){w.is.search()&&!w.is.focusedOnSearch()&&N[0].focus()},forceSelection:function(){var a=S.not(y.filtered).filter("."+y.selected).eq(0),b=S.not(y.filtered).filter("."+y.active).eq(0),c=a.length>0?a:b,d=c.size()>0;if(w.has.query()){if(d)return w.debug("Forcing partial selection to selected item",c),void w.event.item.click.call(c);w.remove.searchTerm()}w.hide()},event:{change:function(){V||(w.debug("Input changed, updating selection"),w.set.selected())},focus:function(){x.showOnFocus&&!T&&w.is.hidden()&&!r&&w.show()},click:function(b){var c=a(b.target);c.is(K)&&!w.is.focusedOnSearch()&&w.focusSearch()},blur:function(a){r=c.activeElement===this,T||r||(w.remove.activeLabel(),w.hide())},mousedown:function(){T=!0},mouseup:function(){T=!1},search:{focus:function(){T=!0,w.is.multiple()&&w.remove.activeLabel(),x.showOnFocus&&(w.search(),w.show())},blur:function(a){r=c.activeElement===this,U||r?r&&x.forceSelection&&w.forceSelection():w.is.multiple()?(w.remove.activeLabel(),w.hide()):x.forceSelection?w.forceSelection():w.hide()}},icon:{click:function(a){w.toggle(),a.stopPropagation()}},text:{focus:function(a){T=!0,w.focusSearch()}},input:function(a){(w.is.multiple()||w.is.searchSelection())&&w.set.filtered(),clearTimeout(w.timer),w.timer=setTimeout(w.search,x.delay.search)},label:{click:function(b){var c=a(this),d=K.find(F.label),e=d.filter("."+y.active),f=c.nextAll("."+y.active),g=c.prevAll("."+y.active),h=f.length>0?c.nextUntil(f).add(e).add(c):c.prevUntil(g).add(e).add(c);b.shiftKey?(e.removeClass(y.active),h.addClass(y.active)):b.ctrlKey?c.toggleClass(y.active):(e.removeClass(y.active),c.addClass(y.active)),x.onLabelSelect.apply(this,d.filter("."+y.active))}},remove:{click:function(){var b=a(this).parent();b.hasClass(y.active)?w.remove.activeLabels():w.remove.activeLabels(b)}},test:{toggle:function(a){var b=w.is.multiple()?w.show:w.toggle;w.determine.eventOnElement(a,b)&&a.preventDefault()},touch:function(a){w.determine.eventOnElement(a,function(){"touchstart"==a.type?w.timer=setTimeout(function(){w.hide()},x.delay.touch):"touchmove"==a.type&&clearTimeout(w.timer)}),a.stopPropagation()},hide:function(a){w.determine.eventInModule(a,w.hide)}},menu:{mousedown:function(){U=!0},mouseup:function(){U=!1}},item:{mouseenter:function(b){var c=a(this).children(F.menu),d=a(this).siblings(F.item).children(F.menu);c.length>0&&(clearTimeout(w.itemTimer),w.itemTimer=setTimeout(function(){w.verbose("Showing sub-menu",c),a.each(d,function(){w.animate.hide(!1,a(this))}),w.animate.show(!1,c)},x.delay.show),b.preventDefault())},mouseleave:function(b){var c=a(this).children(F.menu);c.length>0&&(clearTimeout(w.itemTimer),w.itemTimer=setTimeout(function(){w.verbose("Hiding sub-menu",c),w.animate.hide(!1,c)},x.delay.hide))},touchend:function(){},click:function(b){var c=a(this),d=a(b?b.target:""),e=c.find(F.menu),f=w.get.choiceText(c),g=w.get.choiceValue(c,f),h=e.length>0,i=e.find(d).length>0;i||h&&!x.allowCategorySelection||(x.useLabels||(w.remove.filteredItem(),w.remove.searchTerm(),w.set.scrollPosition(c)),w.determine.selectAction.call(this,f,g))}},document:{keydown:function(a){var b=a.which,c=w.is.inObject(b,B);if(c){var d=K.find(F.label),e=d.filter("."+y.active),f=(e.data(C.value),d.index(e)),g=d.length,h=e.length>0,i=e.length>1,j=0===f,k=f+1==g,l=w.is.searchSelection(),m=w.is.focusedOnSearch(),n=w.is.focused(),o=m&&0===w.get.caretPosition();if(l&&!h&&!m)return;b==B.leftArrow?!n&&!o||h?h&&(a.shiftKey?w.verbose("Adding previous label to selection"):(w.verbose("Selecting previous label"),d.removeClass(y.active)),j&&!i?e.addClass(y.active):e.prev(F.siblingLabel).addClass(y.active).end(),
a.preventDefault()):(w.verbose("Selecting previous label"),d.last().addClass(y.active)):b==B.rightArrow?(n&&!h&&d.first().addClass(y.active),h&&(a.shiftKey?w.verbose("Adding next label to selection"):(w.verbose("Selecting next label"),d.removeClass(y.active)),k?l?m?d.removeClass(y.active):w.focusSearch():i?e.next(F.siblingLabel).addClass(y.active):e.addClass(y.active):e.next(F.siblingLabel).addClass(y.active),a.preventDefault())):b==B.deleteKey||b==B.backspace?h?(w.verbose("Removing active labels"),k&&l&&!m&&w.focusSearch(),e.last().next(F.siblingLabel).addClass(y.active),w.remove.activeLabels(e),a.preventDefault()):o&&!h&&b==B.backspace&&(w.verbose("Removing last label on input backspace"),e=d.last().addClass(y.active),w.remove.activeLabels(e)):e.removeClass(y.active)}}},keydown:function(a){var b=a.which,c=w.is.inObject(b,B);if(c){var d,e,f=S.not(F.unselectable).filter("."+y.selected).eq(0),g=R.children("."+y.active).eq(0),h=f.length>0?f:g,i=h.length>0?h.siblings(":not(."+y.filtered+")").andSelf():R.children(":not(."+y.filtered+")"),j=h.children(F.menu),k=h.closest(F.menu),l=k.hasClass(y.visible)||k.hasClass(y.animating)||k.parent(F.menu).length>0,m=j.length>0,n=h.length>0,o=h.not(F.unselectable).length>0,p=b==B.delimiter&&x.allowAdditions&&w.is.multiple();if(w.is.visible()){if((b==B.enter||p)&&(b==B.enter&&n&&m&&!x.allowCategorySelection?(w.verbose("Pressed enter on unselectable category, opening sub menu"),b=B.rightArrow):o&&(w.verbose("Selecting item from keyboard shortcut",h),w.event.item.click.call(h,a),w.is.searchSelection()&&w.remove.searchTerm()),a.preventDefault()),b==B.leftArrow&&(e=k[0]!==R[0],e&&(w.verbose("Left key pressed, closing sub-menu"),w.animate.hide(!1,k),h.removeClass(y.selected),k.closest(F.item).addClass(y.selected),a.preventDefault())),b==B.rightArrow&&m&&(w.verbose("Right key pressed, opening sub-menu"),w.animate.show(!1,j),h.removeClass(y.selected),j.find(F.item).eq(0).addClass(y.selected),a.preventDefault()),b==B.upArrow){if(d=n&&l?h.prevAll(F.item+":not("+F.unselectable+")").eq(0):S.eq(0),i.index(d)<0)return w.verbose("Up key pressed but reached top of current menu"),void a.preventDefault();w.verbose("Up key pressed, changing active item"),h.removeClass(y.selected),d.addClass(y.selected),w.set.scrollPosition(d),a.preventDefault()}if(b==B.downArrow){if(d=n&&l?d=h.nextAll(F.item+":not("+F.unselectable+")").eq(0):S.eq(0),0===d.length)return w.verbose("Down key pressed but reached bottom of current menu"),void a.preventDefault();w.verbose("Down key pressed, changing active item"),S.removeClass(y.selected),d.addClass(y.selected),w.set.scrollPosition(d),a.preventDefault()}b==B.pageUp&&(w.scrollPage("up"),a.preventDefault()),b==B.pageDown&&(w.scrollPage("down"),a.preventDefault()),b==B.escape&&(w.verbose("Escape key pressed, closing dropdown"),w.hide())}else p&&a.preventDefault(),b==B.downArrow&&(w.verbose("Down key pressed, showing dropdown"),w.show(),a.preventDefault())}else w.is.selection()&&!w.is.search()&&w.set.selectedLetter(String.fromCharCode(b))}},trigger:{change:function(){var a=c.createEvent("HTMLEvents"),b=O[0];b&&(w.verbose("Triggering native change event"),a.initEvent("change",!0,!1),b.dispatchEvent(a))}},determine:{selectAction:function(b,c){w.verbose("Determining action",x.action),a.isFunction(w.action[x.action])?(w.verbose("Triggering preset action",x.action,b,c),w.action[x.action].call(this,b,c)):a.isFunction(x.action)?(w.verbose("Triggering user action",x.action,b,c),x.action.call(this,b,c)):w.error(G.action,x.action)},eventInModule:function(b,d){var e=a(b.target),f=e.closest(c.documentElement).length>0,g=e.closest(K).length>0;return d=a.isFunction(d)?d:function(){},f&&!g?(w.verbose("Triggering event",d),d(),!0):(w.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(b,c){var d=a(b.target),e=d.closest(F.siblingLabel),f=0===K.find(e).length,g=0===d.closest(R).length;return c=a.isFunction(c)?c:function(){},f&&g?(w.verbose("Triggering event",c),c(),!0):(w.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(b,c){if(c=c!==d?c:b,w.can.activate(a(this))){if(w.set.selected(c,a(this)),w.is.multiple()&&!w.is.allFiltered())return;w.hideAndClear()}},select:function(a,b){w.action.activate.call(this)},combo:function(b,c){c=c!==d?c:b,w.set.selected(c,a(this)),w.hideAndClear()},hide:function(a,b){w.set.value(b),w.hideAndClear()}},get:{id:function(){return t},defaultText:function(){return K.data(C.defaultText)},defaultValue:function(){return K.data(C.defaultValue)},placeholderText:function(){return K.data(C.placeholderText)||""},text:function(){return M.text()},query:function(){return a.trim(N.val())},searchWidth:function(a){return a*x.glyphWidth+"em"},selectionCount:function(){var b,c=w.get.values();return b=w.is.multiple()?a.isArray(c)?c.length:0:""!==w.get.value()?1:0},transition:function(a){return"auto"==x.transition?w.is.upward(a)?"slide up":"slide down":x.transition},userValues:function(){var b=w.get.values();return b?(b=a.isArray(b)?b:[b],a.grep(b,function(a){return w.get.item(a)===!1})):!1},uniqueArray:function(b){return a.grep(b,function(c,d){return a.inArray(c,b)===d})},caretPosition:function(){var a,b,d=N.get(0);return"selectionStart"in d?d.selectionStart:c.selection?(d.focus(),a=c.selection.createRange(),b=a.text.length,a.moveStart("character",-d.value.length),a.text.length-b):void 0},value:function(){var b=O.length>0?O.val():K.data(C.value);return a.isArray(b)&&1===b.length&&""===b[0]?"":b},values:function(){var a=w.get.value();return""===a?"":!w.has.selectInput()&&w.is.multiple()?"string"==typeof a?a.split(x.delimiter):"":a},remoteValues:function(){var b=w.get.values(),c=!1;return b&&("string"==typeof b&&(b=[b]),c={},a.each(b,function(a,b){var d=w.read.remoteData(b);w.verbose("Restoring value from session data",d,b),c[b]=d?d:b})),c},choiceText:function(b,c){return c=c!==d?c:x.preserveHTML,b?(b.find(F.menu).length>0&&(w.verbose("Retreiving text of element with sub-menu"),b=b.clone(),b.find(F.menu).remove(),b.find(F.menuIcon).remove()),b.data(C.text)!==d?b.data(C.text):c?a.trim(b.html()):a.trim(b.text())):void 0},choiceValue:function(b,c){return c=c||w.get.choiceText(b),b?b.data(C.value)!==d?String(b.data(C.value)):"string"==typeof c?a.trim(c.toLowerCase()):String(c):!1},inputEvent:function(){var a=N[0];return a?a.oninput!==d?"input":a.onpropertychange!==d?"propertychange":"keyup":!1},selectValues:function(){var b={};return b.values=[],K.find("option").each(function(){var c=a(this),e=c.html(),f=c.attr("disabled"),g=c.attr("value")!==d?c.attr("value"):e;"auto"===x.placeholder&&""===g?b.placeholder=e:b.values.push({name:e,value:g,disabled:f})}),x.placeholder&&"auto"!==x.placeholder&&(w.debug("Setting placeholder value to",x.placeholder),b.placeholder=x.placeholder),x.sortSelect?(b.values.sort(function(a,b){return a.name>b.name?1:-1}),w.debug("Retrieved and sorted values from select",b)):w.debug("Retreived values from select",b),b},activeItem:function(){return S.filter("."+y.active)},selectedItem:function(){var a=S.not(F.unselectable).filter("."+y.selected);return a.length>0?a:S.eq(0)},itemWithAdditions:function(a){var b=w.get.item(a),c=w.create.userChoice(a),d=c&&c.length>0;return d&&(b=b.length>0?b.add(c):c),b},item:function(b,c){var e,f,g=!1;return b=b!==d?b:w.get.values()!==d?w.get.values():w.get.text(),e=f?b.length>0:b!==d&&null!==b,f=w.is.multiple()&&a.isArray(b),c=""===b||0===b?!0:c||!1,e&&S.each(function(){var e=a(this),h=w.get.choiceText(e),i=w.get.choiceValue(e,h);if(null!==i&&i!==d)if(f)-1===a.inArray(String(i),b)&&-1===a.inArray(h,b)||(g=g?g.add(e):e);else if(c){if(w.verbose("Ambiguous dropdown value using strict type check",e,b),i===b||h===b)return g=e,!0}else if(String(i)==String(b)||h==b)return w.verbose("Found select item by value",i,b),g=e,!0}),g}},check:{maxSelections:function(a){return x.maxSelections?(a=a!==d?a:w.get.selectionCount(),a>=x.maxSelections?(w.debug("Maximum selection count reached"),x.useLabels&&(S.addClass(y.filtered),w.add.message(z.maxSelections)),!0):(w.verbose("No longer at maximum selection count"),w.remove.message(),w.remove.filteredItem(),w.is.searchSelection()&&w.filterItems(),!1)):!0}},restore:{defaults:function(){w.clear(),w.restore.defaultText(),w.restore.defaultValue()},defaultText:function(){var a=w.get.defaultText(),b=w.get.placeholderText;a===b?(w.debug("Restoring default placeholder text",a),w.set.placeholderText(a)):(w.debug("Restoring default text",a),w.set.text(a))},defaultValue:function(){var a=w.get.defaultValue();a!==d&&(w.debug("Restoring default value",a),""!==a?(w.set.value(a),w.set.selected()):(w.remove.activeItem(),w.remove.selectedItem()))},labels:function(){x.allowAdditions&&(x.useLabels||(w.error(G.labels),x.useLabels=!0),w.debug("Restoring selected values"),w.create.userLabels()),w.check.maxSelections()},selected:function(){w.restore.values(),w.is.multiple()?(w.debug("Restoring previously selected values and labels"),w.restore.labels()):w.debug("Restoring previously selected values")},values:function(){w.set.initialLoad(),x.apiSettings?x.saveRemoteData?w.restore.remoteValues():w.clearValue():w.set.selected(),w.remove.initialLoad()},remoteValues:function(){var b=w.get.remoteValues();w.debug("Recreating selected from session data",b),b&&(w.is.single()?a.each(b,function(a,b){w.set.text(b)}):a.each(b,function(a,b){w.add.label(a,b)}))}},read:{remoteData:function(a){var c;return b.Storage===d?void w.error(G.noStorage):(c=sessionStorage.getItem(a),c!==d?c:!1)}},save:{defaults:function(){w.save.defaultText(),w.save.placeholderText(),w.save.defaultValue()},defaultValue:function(){var a=w.get.value();w.verbose("Saving default value as",a),K.data(C.defaultValue,a)},defaultText:function(){var a=w.get.text();w.verbose("Saving default text as",a),K.data(C.defaultText,a)},placeholderText:function(){var a;x.placeholder!==!1&&M.hasClass(y.placeholder)&&(a=w.get.text(),w.verbose("Saving placeholder text as",a),K.data(C.placeholderText,a))},remoteData:function(a,c){return b.Storage===d?void w.error(G.noStorage):(w.verbose("Saving remote data to session storage",c,a),void sessionStorage.setItem(c,a))}},clear:function(){w.is.multiple()?w.remove.labels():(w.remove.activeItem(),w.remove.selectedItem()),w.set.placeholderText(),w.clearValue()},clearValue:function(){w.set.value("")},scrollPage:function(a,b){var c,d,e,f=b||w.get.selectedItem(),g=f.closest(F.menu),h=g.outerHeight(),i=g.scrollTop(),j=S.eq(0).outerHeight(),k=Math.floor(h/j),l=(g.prop("scrollHeight"),"up"==a?i-j*k:i+j*k),m=S.not(F.unselectable);e="up"==a?m.index(f)-k:m.index(f)+k,c="up"==a?e>=0:e<m.length,d=c?m.eq(e):"up"==a?m.first():m.last(),d.length>0&&(w.debug("Scrolling page",a,d),f.removeClass(y.selected),d.addClass(y.selected),g.scrollTop(l))},set:{filtered:function(){var a=w.is.multiple(),b=w.is.searchSelection(),c=a&&b,d=b?w.get.query():"",e="string"==typeof d&&d.length>0,f=w.get.searchWidth(d.length),g=""!==d;a&&e&&(w.verbose("Adjusting input width",f,x.glyphWidth),N.css("width",f)),e||c&&g?(w.verbose("Hiding placeholder text"),M.addClass(y.filtered)):(!a||c&&!g)&&(w.verbose("Showing placeholder text"),M.removeClass(y.filtered))},loading:function(){K.addClass(y.loading)},placeholderText:function(a){a=a||w.get.placeholderText(),w.debug("Setting placeholder text",a),w.set.text(a),M.addClass(y.placeholder)},tabbable:function(){w.has.search()?(w.debug("Added tabindex to searchable dropdown"),N.val("").attr("tabindex",0),R.attr("tabindex",-1)):(w.debug("Added tabindex to dropdown"),K.attr("tabindex")===d&&(K.attr("tabindex",0),R.attr("tabindex",-1)))},initialLoad:function(){w.verbose("Setting initial load"),q=!0},activeItem:function(a){x.allowAdditions&&a.filter(F.addition).length>0?a.addClass(y.filtered):a.addClass(y.active)},scrollPosition:function(a,b){var c,e,f,g,h,i,j,k,l,m=5;a=a||w.get.selectedItem(),c=a.closest(F.menu),e=a&&a.length>0,b=b!==d?b:!1,a&&c.length>0&&e&&(g=a.position().top,c.addClass(y.loading),i=c.scrollTop(),h=c.offset().top,g=a.offset().top,f=i-h+g,b||(j=c.height(),l=f+m>i+j,k=i>f-m),w.debug("Scrolling to active item",f),(b||k||l)&&c.scrollTop(f),c.removeClass(y.loading))},text:function(a){"select"!==x.action&&("combo"==x.action?(w.debug("Changing combo button text",a,Q),x.preserveHTML?Q.html(a):Q.text(a)):(a!==w.get.placeholderText()&&M.removeClass(y.placeholder),w.debug("Changing text",a,M),M.removeClass(y.filtered),x.preserveHTML?M.html(a):M.text(a)))},selectedLetter:function(b){var c,d=S.filter("."+y.selected),e=d.length>0&&w.has.firstLetter(d,b),f=!1;e&&(c=d.nextAll(S).eq(0),w.has.firstLetter(c,b)&&(f=c)),f||S.each(function(){return w.has.firstLetter(a(this),b)?(f=a(this),!1):void 0}),f&&(w.verbose("Scrolling to next value with letter",b),w.set.scrollPosition(f),d.removeClass(y.selected),f.addClass(y.selected))},direction:function(a){"auto"==x.direction?w.is.onScreen(a)?w.remove.upward(a):w.set.upward(a):"upward"==x.direction&&w.set.upward(a)},upward:function(a){var b=a||K;b.addClass(y.upward)},value:function(a,b,c){var e=O.length>0,f=(!w.has.value(a),w.get.values()),g=a!==d?String(a):a;if(e){if(g==f&&(w.verbose("Skipping value update already same value",a,f),!w.is.initialLoad()))return;w.is.single()&&w.has.selectInput()&&w.can.extendSelect()&&(w.debug("Adding user option",a),w.add.optionValue(a)),w.debug("Updating input value",a,f),V=!0,O.val(a),x.fireOnInit===!1&&w.is.initialLoad()?w.debug("Input native change event ignored on initial load"):w.trigger.change(),V=!1}else w.verbose("Storing value in metadata",a,O),a!==f&&K.data(C.value,g);x.fireOnInit===!1&&w.is.initialLoad()?w.verbose("No callback on initial load",x.onChange):x.onChange.call(W,a,b,c)},active:function(){K.addClass(y.active)},multiple:function(){K.addClass(y.multiple)},visible:function(){K.addClass(y.visible)},exactly:function(a,b){w.debug("Setting selected to exact values"),w.clear(),w.set.selected(a,b)},selected:function(b,c){var d=w.is.multiple();c=x.allowAdditions?c||w.get.itemWithAdditions(b):c||w.get.item(b),c&&(w.debug("Setting selected menu item to",c),w.is.single()?(w.remove.activeItem(),w.remove.selectedItem()):x.useLabels&&w.remove.selectedItem(),c.each(function(){var b=a(this),e=w.get.choiceText(b),f=w.get.choiceValue(b,e),g=b.hasClass(y.filtered),h=b.hasClass(y.active),i=b.hasClass(y.addition),j=d&&1==c.length;d?!h||i?(x.apiSettings&&x.saveRemoteData&&w.save.remoteData(e,f),x.useLabels?(w.add.value(f,e,b),w.add.label(f,e,j),w.set.activeItem(b),w.filterActive(),w.select.nextAvailable(c)):(w.add.value(f,e,b),w.set.text(w.add.variables(z.count)),w.set.activeItem(b))):g||(w.debug("Selected active value, removing label"),w.remove.selected(f)):(x.apiSettings&&x.saveRemoteData&&w.save.remoteData(e,f),w.set.text(e),w.set.value(f,e,b),b.addClass(y.active).addClass(y.selected))}))}},add:{label:function(b,c,d){var e,f=w.is.searchSelection()?N:M;return e=a("<a />").addClass(y.label).attr("data-value",b).html(H.label(b,c)),e=x.onLabelCreate.call(e,b,c),w.has.label(b)?void w.debug("Label already exists, skipping",b):(x.label.variation&&e.addClass(x.label.variation),void(d===!0?(w.debug("Animating in label",e),e.addClass(y.hidden).insertBefore(f).transition(x.label.transition,x.label.duration)):(w.debug("Adding selection label",e),e.insertBefore(f))))},message:function(b){var c=R.children(F.message),d=x.templates.message(w.add.variables(b));c.length>0?c.html(d):c=a("<div/>").html(d).addClass(y.message).appendTo(R)},optionValue:function(b){var c=O.find('option[value="'+b+'"]'),d=c.length>0;d||(u&&(u.disconnect(),w.verbose("Temporarily disconnecting mutation observer",b)),w.is.single()&&(w.verbose("Removing previous user addition"),O.find("option."+y.addition).remove()),a("<option/>").prop("value",b).addClass(y.addition).html(b).appendTo(O),w.verbose("Adding user addition as an <option>",b),u&&u.observe(O[0],{childList:!0,subtree:!0}))},userSuggestion:function(a){var b,c=R.children(F.addition),d=w.get.item(a),e=d&&d.not(F.addition).length,f=c.length>0;if(!x.useLabels||!w.has.maxSelections()){if(""===a||e)return void c.remove();S.removeClass(y.selected),f?(b=x.templates.addition(w.add.variables(z.addResult,a)),c.html(b).attr("data-"+C.value,a).attr("data-"+C.text,a).removeClass(y.filtered).addClass(y.selected),w.verbose("Replacing user suggestion with new value",c)):(c=w.create.userChoice(a),c.prependTo(R).addClass(y.selected),w.verbose("Adding item choice to menu corresponding with user choice addition",c))}},variables:function(a,b){var c,d,e=-1!==a.search("{count}"),f=-1!==a.search("{maxCount}"),g=-1!==a.search("{term}");return w.verbose("Adding templated variables to message",a),e&&(c=w.get.selectionCount(),a=a.replace("{count}",c)),f&&(c=w.get.selectionCount(),a=a.replace("{maxCount}",x.maxSelections)),g&&(d=b||w.get.query(),a=a.replace("{term}",d)),a},value:function(b,c,d){var e,f=w.get.values();return""===b?void w.debug("Cannot select blank values from multiselect"):(a.isArray(f)?(e=f.concat([b]),e=w.get.uniqueArray(e)):e=[b],w.has.selectInput()?w.can.extendSelect()&&(w.debug("Adding value to select",b,e,O),w.add.optionValue(b)):(e=e.join(x.delimiter),w.debug("Setting hidden input to delimited value",e,O)),x.fireOnInit===!1&&w.is.initialLoad()?w.verbose("Skipping onadd callback on initial load",x.onAdd):x.onAdd.call(W,b,c,d),w.set.value(e,b,c,d),void w.check.maxSelections())}},remove:{active:function(){K.removeClass(y.active)},activeLabel:function(){K.find(F.label).removeClass(y.active)},loading:function(){K.removeClass(y.loading)},initialLoad:function(){q=!1},upward:function(a){var b=a||K;b.removeClass(y.upward)},visible:function(){K.removeClass(y.visible)},activeItem:function(){S.removeClass(y.active)},filteredItem:function(){x.useLabels&&w.has.maxSelections()||(x.useLabels&&w.is.multiple()?S.not("."+y.active).removeClass(y.filtered):S.removeClass(y.filtered))},optionValue:function(a){var b=O.find('option[value="'+a+'"]'),c=b.length>0;c&&b.hasClass(y.addition)&&(u&&(u.disconnect(),w.verbose("Temporarily disconnecting mutation observer",a)),b.remove(),w.verbose("Removing user addition as an <option>",a),u&&u.observe(O[0],{childList:!0,subtree:!0}))},message:function(){R.children(F.message).remove()},searchTerm:function(){w.verbose("Cleared search term"),N.val(""),w.set.filtered()},selected:function(b,c){return(c=x.allowAdditions?c||w.get.itemWithAdditions(b):c||w.get.item(b))?void c.each(function(){var b=a(this),c=w.get.choiceText(b),d=w.get.choiceValue(b,c);w.is.multiple()?x.useLabels?(w.remove.value(d,c,b),w.remove.label(d)):(w.remove.value(d,c,b),0===w.get.selectionCount()?w.set.placeholderText():w.set.text(w.add.variables(z.count))):w.remove.value(d,c,b),b.removeClass(y.filtered).removeClass(y.active),x.useLabels&&b.removeClass(y.selected)}):!1},selectedItem:function(){S.removeClass(y.selected)},value:function(a,b,c){var d,e=w.get.values();w.has.selectInput()?(w.verbose("Input is <select> removing selected option",a),d=w.remove.arrayValue(a,e),w.remove.optionValue(a)):(w.verbose("Removing from delimited values",a),d=w.remove.arrayValue(a,e),d=d.join(x.delimiter)),x.fireOnInit===!1&&w.is.initialLoad()?w.verbose("No callback on initial load",x.onRemove):x.onRemove.call(W,a,b,c),w.set.value(d,b,c),w.check.maxSelections()},arrayValue:function(b,c){return a.isArray(c)||(c=[c]),c=a.grep(c,function(a){return b!=a}),w.verbose("Removed value from delimited string",b,c),c},label:function(a,b){var c=K.find(F.label),d=c.filter('[data-value="'+a+'"]');w.verbose("Removing label",d),d.remove()},activeLabels:function(a){a=a||K.find(F.label).filter("."+y.active),w.verbose("Removing active label selections",a),w.remove.labels(a)},labels:function(b){b=b||K.find(F.label),w.verbose("Removing labels",b),b.each(function(){var b=a(this),c=b.data(C.value),e=c!==d?String(c):c,f=w.is.userValue(e);return x.onLabelRemove.call(b,c)===!1?void w.debug("Label remove callback cancelled removal"):void(f?(w.remove.value(e),w.remove.label(e)):w.remove.selected(e))})},tabbable:function(){w.has.search()?(w.debug("Searchable dropdown initialized"),N.removeAttr("tabindex"),R.removeAttr("tabindex")):(w.debug("Simple selection dropdown initialized"),K.removeAttr("tabindex"),R.removeAttr("tabindex"))}},has:{search:function(){return N.length>0},selectInput:function(){return O.is("select")},firstLetter:function(a,b){var c,d;return a&&0!==a.length&&"string"==typeof b?(c=w.get.choiceText(a,!1),b=b.toLowerCase(),d=String(c).charAt(0).toLowerCase(),b==d):!1},input:function(){return O.length>0},items:function(){return S.length>0},menu:function(){return R.length>0},message:function(){return 0!==R.children(F.message).length},label:function(a){var b=K.find(F.label);return b.filter('[data-value="'+a+'"]').length>0},maxSelections:function(){return x.maxSelections&&w.get.selectionCount()>=x.maxSelections},allResultsFiltered:function(){return S.filter(F.unselectable).length===S.length},query:function(){return""!==w.get.query()},value:function(b){var c=w.get.values(),d=a.isArray(c)?c&&-1!==a.inArray(b,c):c==b;return!!d}},is:{active:function(){return K.hasClass(y.active)},alreadySetup:function(){return K.is("select")&&K.parent(F.dropdown).length>0&&0===K.prev().length},animating:function(a){return a?a.transition&&a.transition("is animating"):R.transition&&R.transition("is animating")},disabled:function(){return K.hasClass(y.disabled)},focused:function(){return c.activeElement===K[0]},focusedOnSearch:function(){return c.activeElement===N[0]},allFiltered:function(){return(w.is.multiple()||w.has.search())&&!w.has.message()&&w.has.allResultsFiltered()},hidden:function(a){return!w.is.visible(a)},initialLoad:function(){return q},onScreen:function(a){var b,c=a||R,d=!0,e={};return c.addClass(y.loading),b={context:{scrollTop:L.scrollTop(),height:L.outerHeight()},menu:{offset:c.offset(),height:c.outerHeight()}},e={above:b.context.scrollTop<=b.menu.offset.top-b.menu.height,below:b.context.scrollTop+b.context.height>=b.menu.offset.top+b.menu.height},e.below?(w.verbose("Dropdown can fit in context downward",e),d=!0):e.below||e.above?(w.verbose("Dropdown cannot fit below, opening upward",e),d=!1):(w.verbose("Dropdown cannot fit in either direction, favoring downward",e),d=!0),c.removeClass(y.loading),d},inObject:function(b,c){var d=!1;return a.each(c,function(a,c){return c==b?(d=!0,!0):void 0}),d},multiple:function(){return K.hasClass(y.multiple)},single:function(){return!w.is.multiple()},selectMutation:function(b){var c=!1;return a.each(b,function(b,d){return d.target&&a(d.target).is("select")?(c=!0,!0):void 0}),c},search:function(){return K.hasClass(y.search)},searchSelection:function(){return w.has.search()&&1===N.parent(F.dropdown).length},selection:function(){return K.hasClass(y.selection)},userValue:function(b){return-1!==a.inArray(b,w.get.userValues())},upward:function(a){var b=a||K;return b.hasClass(y.upward)},visible:function(a){return a?a.hasClass(y.visible):R.hasClass(y.visible)}},can:{activate:function(a){return x.useLabels?!0:w.has.maxSelections()?!(!w.has.maxSelections()||!a.hasClass(y.active)):!0},click:function(){return j||"click"==x.on},extendSelect:function(){return x.allowAdditions||x.apiSettings},show:function(){return!w.is.disabled()&&(w.has.items()||w.has.message())},useAPI:function(){return a.fn.api!==d}},animate:{show:function(b,c){var e,f=c||R,g=c?function(){}:function(){w.hideSubMenus(),w.hideOthers(),w.set.active()};b=a.isFunction(b)?b:function(){},w.verbose("Doing menu show animation",f),w.set.direction(c),e=w.get.transition(c),w.is.selection()&&w.set.scrollPosition(w.get.selectedItem(),!0),(w.is.hidden(f)||w.is.animating(f))&&("none"==e?(g(),f.transition("show"),b.call(W)):a.fn.transition!==d&&K.transition("is supported")?f.transition({animation:e+" in",debug:x.debug,verbose:x.verbose,duration:x.duration,queue:!0,onStart:g,onComplete:function(){b.call(W)}}):w.error(G.noTransition,e))},hide:function(b,c){var e=c||R,f=(c?.9*x.duration:x.duration,c?function(){}:function(){w.can.click()&&w.unbind.intent(),w.remove.active()}),g=w.get.transition(c);b=a.isFunction(b)?b:function(){},(w.is.visible(e)||w.is.animating(e))&&(w.verbose("Doing menu hide animation",e),"none"==g?(f(),e.transition("hide"),b.call(W)):a.fn.transition!==d&&K.transition("is supported")?e.transition({animation:g+" out",duration:x.duration,debug:x.debug,verbose:x.verbose,queue:!0,onStart:f,onComplete:function(){"auto"==x.direction&&w.remove.upward(c),b.call(W)}}):w.error(G.transition))}},hideAndClear:function(){w.remove.searchTerm(),w.has.maxSelections()||(w.has.search()?w.hide(function(){w.remove.filteredItem()}):w.hide())},delay:{show:function(){w.verbose("Delaying show event to ensure user intent"),clearTimeout(w.timer),w.timer=setTimeout(w.show,x.delay.show)},hide:function(){w.verbose("Delaying hide event to ensure user intent"),clearTimeout(w.timer),w.timer=setTimeout(w.hide,x.delay.hide)}},escape:{regExp:function(a){return a=String(a),a.replace(E.escape,"\\$&")}},setting:function(b,c){if(w.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,x,b);else{if(c===d)return x[b];x[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,w,b);else{if(c===d)return w[b];w[b]=c}},debug:function(){x.debug&&(x.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,x.name+":"),w.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),w.verbose.apply(console,arguments)))},error:function(){w.error=Function.prototype.bind.call(console.error,console,x.name+":"),w.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;x.performance&&(b=(new Date).getTime(),d=k||b,c=b-d,k=b,l.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:W,"Execution Time":c})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var b=x.name+":",c=0;k=!1,clearTimeout(w.performance.timer),a.each(l,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",i&&(b+=" '"+i+"'"),(console.group!==d||console.table!==d)&&l.length>0&&(console.groupCollapsed(b),console.table?console.table(l):a.each(l,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(b,c,e){var g,h,i,j=X;return c=c||o,e=W||e,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):(w.error(G.method,b),!1);j=j[e]}})),a.isFunction(h)?i=h.apply(e,c):h!==d&&(i=h),a.isArray(f)?f.push(i):f!==d?f=[f,i]:i!==d&&(f=i),h}},n?(X===d&&w.initialize(),w.invoke(m)):(X!==d&&X.invoke("destroy"),w.initialize())}),f!==d?f:g},a.fn.dropdown.settings={debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,saveRemoteData:!0,throttle:200,context:b,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.0714,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(a,b,c){},onAdd:function(a,b,c){},onRemove:function(a,b,c){},onLabelSelect:function(a){},onLabelCreate:function(b,c){return a(this)},onLabelRemove:function(a){return!0},onNoResults:function(a){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",name:"name",value:"value"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},a.fn.dropdown.settings.templates={dropdown:function(b){var c=b.placeholder||!1,d=(b.values||{},"");return d+='<i class="dropdown icon"></i>',d+=b.placeholder?'<div class="default text">'+c+"</div>":'<div class="text"></div>',d+='<div class="menu">',a.each(b.values,function(a,b){d+=b.disabled?'<div class="disabled item" data-value="'+b.value+'">'+b.name+"</div>":'<div class="item" data-value="'+b.value+'">'+b.name+"</div>"}),d+="</div>"},menu:function(b,c){var d=b[c.values]||{},e="";return a.each(d,function(a,b){e+='<div class="item" data-value="'+b[c.value]+'">'+b[c.name]+"</div>"}),e},label:function(a,b){return b+'<i class="delete icon"></i>'},message:function(a){return a},addition:function(a){return a}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.embed=function(c){var e,f=a(this),g=f.selector||"",h=(new Date).getTime(),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1);return f.each(function(){var m,n=a.isPlainObject(c)?a.extend(!0,{},a.fn.embed.settings,c):a.extend({},a.fn.embed.settings),o=n.selector,p=n.className,q=n.sources,r=n.error,s=n.metadata,t=n.namespace,u=n.templates,v="."+t,w="module-"+t,x=(a(b),a(this)),y=x.find(o.placeholder),z=x.find(o.icon),A=x.find(o.embed),B=this,C=x.data(w);m={initialize:function(){m.debug("Initializing embed"),m.determine.autoplay(),m.create(),m.bind.events(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of module",m),C=m,x.data(w,m)},destroy:function(){m.verbose("Destroying previous instance of embed"),m.reset(),x.removeData(w).off(v)},refresh:function(){m.verbose("Refreshing selector cache"),y=x.find(o.placeholder),z=x.find(o.icon),A=x.find(o.embed)},bind:{events:function(){m.has.placeholder()&&(m.debug("Adding placeholder events"),x.on("click"+v,o.placeholder,m.createAndShow).on("click"+v,o.icon,m.createAndShow))}},create:function(){var a=m.get.placeholder();a?m.createPlaceholder():m.createAndShow()},createPlaceholder:function(a){var b=m.get.icon(),c=m.get.url();m.generate.embed(c);a=a||m.get.placeholder(),x.html(u.placeholder(a,b)),m.debug("Creating placeholder for embed",a,b)},createEmbed:function(b){m.refresh(),b=b||m.get.url(),A=a("<div/>").addClass(p.embed).html(m.generate.embed(b)).appendTo(x),n.onCreate.call(B,b),m.debug("Creating embed object",A)},createAndShow:function(){m.createEmbed(),m.show()},change:function(a,b,c){m.debug("Changing video to ",a,b,c),x.data(s.source,a).data(s.id,b).data(s.url,c),
m.create()},reset:function(){m.debug("Clearing embed and showing placeholder"),m.remove.active(),m.remove.embed(),m.showPlaceholder(),n.onReset.call(B)},show:function(){m.debug("Showing embed"),m.set.active(),n.onDisplay.call(B)},hide:function(){m.debug("Hiding embed"),m.showPlaceholder()},showPlaceholder:function(){m.debug("Showing placeholder image"),m.remove.active(),n.onPlaceholderDisplay.call(B)},get:{id:function(){return n.id||x.data(s.id)},placeholder:function(){return n.placeholder||x.data(s.placeholder)},icon:function(){return n.icon?n.icon:x.data(s.icon)!==d?x.data(s.icon):m.determine.icon()},source:function(a){return n.source?n.source:x.data(s.source)!==d?x.data(s.source):m.determine.source()},type:function(){var a=m.get.source();return q[a]!==d?q[a].type:!1},url:function(){return n.url?n.url:x.data(s.url)!==d?x.data(s.url):m.determine.url()}},determine:{autoplay:function(){m.should.autoplay()&&(n.autoplay=!0)},source:function(b){var c=!1;return b=b||m.get.url(),b&&a.each(q,function(a,d){return-1!==b.search(d.domain)?(c=a,!1):void 0}),c},icon:function(){var a=m.get.source();return q[a]!==d?q[a].icon:!1},url:function(){var a,b=n.id||x.data(s.id),c=n.source||x.data(s.source);return a=q[c]!==d?q[c].url.replace("{id}",b):!1,a&&x.data(s.url,a),a}},set:{active:function(){x.addClass(p.active)}},remove:{active:function(){x.removeClass(p.active)},embed:function(){A.empty()}},encode:{parameters:function(a){var b,c=[];for(b in a)c.push(encodeURIComponent(b)+"="+encodeURIComponent(a[b]));return c.join("&amp;")}},generate:{embed:function(a){m.debug("Generating embed html");var b,c,d=m.get.source();return a=m.get.url(a),a?(c=m.generate.parameters(d),b=u.iframe(a,c)):m.error(r.noURL,x),b},parameters:function(b,c){var e=q[b]&&q[b].parameters!==d?q[b].parameters(n):{};return c=c||n.parameters,c&&(e=a.extend({},e,c)),e=n.onEmbed(e),m.encode.parameters(e)}},has:{placeholder:function(){return n.placeholder||x.data(s.placeholder)}},should:{autoplay:function(){return"auto"===n.autoplay?n.placeholder||x.data(s.placeholder)!==d:n.autoplay}},is:{video:function(){return"video"==m.get.type()}},setting:function(b,c){if(m.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,n,b);else{if(c===d)return n[b];n[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,m,b);else{if(c===d)return m[b];m[b]=c}},debug:function(){n.debug&&(n.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,n.name+":"),m.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,n.name+":"),m.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;n.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:B,"Execution Time":c})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var b=n.name+":",c=0;h=!1,clearTimeout(m.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",g&&(b+=" '"+g+"'"),f.length>1&&(b+=" ("+f.length+")"),(console.group!==d||console.table!==d)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,f){var g,h,i,j=C;return c=c||l,f=B||f,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):(m.error(r.method,b),!1);j=j[e]}})),a.isFunction(h)?i=h.apply(f,c):h!==d&&(i=h),a.isArray(e)?e.push(i):e!==d?e=[e,i]:i!==d&&(e=i),h}},k?(C===d&&m.initialize(),m.invoke(j)):(C!==d&&C.invoke("destroy"),m.initialize())}),e!==d?e:this},a.fn.embed.settings={name:"Embed",namespace:"embed",debug:!1,verbose:!1,performance:!0,icon:!1,source:!1,url:!1,id:!1,autoplay:"auto",color:"#444444",hd:!0,brandedUI:!1,parameters:!1,onDisplay:function(){},onPlaceholderDisplay:function(){},onReset:function(){},onCreate:function(a){},onEmbed:function(a){return a},metadata:{id:"id",icon:"icon",placeholder:"placeholder",source:"source",url:"url"},error:{noURL:"No URL specified",method:"The method you called is not defined"},className:{active:"active",embed:"embed"},selector:{embed:".embed",placeholder:".placeholder",icon:".icon"},sources:{youtube:{name:"youtube",type:"video",icon:"video play",domain:"youtube.com",url:"//www.youtube.com/embed/{id}",parameters:function(a){return{autohide:!a.brandedUI,autoplay:a.autoplay,color:a.colors||d,hq:a.hd,jsapi:a.api,modestbranding:!a.brandedUI}}},vimeo:{name:"vimeo",type:"video",icon:"video play",domain:"vimeo.com",url:"//player.vimeo.com/video/{id}",parameters:function(a){return{api:a.api,autoplay:a.autoplay,byline:a.brandedUI,color:a.colors||d,portrait:a.brandedUI,title:a.brandedUI}}}},templates:{iframe:function(a,b){return'<iframe src="'+a+"?"+b+'" width="100%" height="100%" frameborder="0" scrolling="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},placeholder:function(a,b){var c="";return b&&(c+='<i class="'+b+' icon"></i>'),a&&(c+='<img class="placeholder" src="'+a+'">'),c}},api:!0,onPause:function(){},onPlay:function(){},onStop:function(){}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.modal=function(e){var f,g=a(this),h=a(b),i=a(c),j=a("body"),k=g.selector||"",l=(new Date).getTime(),m=[],n=arguments[0],o="string"==typeof n,p=[].slice.call(arguments,1),q=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)};return g.each(function(){var g,r,s,t,u,v,w,x,y,z=a.isPlainObject(e)?a.extend(!0,{},a.fn.modal.settings,e):a.extend({},a.fn.modal.settings),A=z.selector,B=z.className,C=z.namespace,D=z.error,E="."+C,F="module-"+C,G=a(this),H=a(z.context),I=G.find(A.close),J=this,K=G.data(F);y={initialize:function(){y.verbose("Initializing dimmer",H),y.create.id(),y.create.dimmer(),y.refreshModals(),y.bind.events(),z.observeChanges&&y.observeChanges(),y.instantiate()},instantiate:function(){y.verbose("Storing instance of modal"),K=y,G.data(F,K)},create:{dimmer:function(){var b={debug:z.debug,dimmerName:"modals",duration:{show:z.duration,hide:z.duration}},c=a.extend(!0,b,z.dimmerSettings);return z.inverted&&(c.variation=c.variation!==d?c.variation+" inverted":"inverted"),a.fn.dimmer===d?void y.error(D.dimmer):(y.debug("Creating dimmer with settings",c),t=H.dimmer(c),z.detachable?(y.verbose("Modal is detachable, moving content into dimmer"),t.dimmer("add content",G)):y.set.undetached(),z.blurring&&t.addClass(B.blurring),void(u=t.dimmer("get dimmer")))},id:function(){w=(Math.random().toString(16)+"000000000").substr(2,8),v="."+w,y.verbose("Creating unique id for element",w)}},destroy:function(){y.verbose("Destroying previous modal"),G.removeData(F).off(E),h.off(v),I.off(E),H.dimmer("destroy")},observeChanges:function(){"MutationObserver"in b&&(x=new MutationObserver(function(a){y.debug("DOM tree modified, refreshing"),y.refresh()}),x.observe(J,{childList:!0,subtree:!0}),y.debug("Setting up mutation observer",x))},refresh:function(){y.remove.scrolling(),y.cacheSizes(),y.set.screenHeight(),y.set.type(),y.set.position()},refreshModals:function(){r=G.siblings(A.modal),g=r.add(G)},attachEvents:function(b,c){var d=a(b);c=a.isFunction(y[c])?y[c]:y.toggle,d.length>0?(y.debug("Attaching modal events to element",b,c),d.off(E).on("click"+E,c)):y.error(D.notFound,b)},bind:{events:function(){y.verbose("Attaching events"),G.on("click"+E,A.close,y.event.close).on("click"+E,A.approve,y.event.approve).on("click"+E,A.deny,y.event.deny),h.on("resize"+v,y.event.resize)}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){return z.onApprove.call(J,a(this))===!1?void y.verbose("Approve callback returned false cancelling hide"):void y.hide()},deny:function(){return z.onDeny.call(J,a(this))===!1?void y.verbose("Deny callback returned false cancelling hide"):void y.hide()},close:function(){y.hide()},click:function(b){var d=a(b.target),e=d.closest(A.modal).length>0,f=a.contains(c.documentElement,b.target);!e&&f&&(y.debug("Dimmer clicked, hiding all modals"),y.is.active()&&(y.remove.clickaway(),z.allowMultiple?y.hide():y.hideAll()))},debounce:function(a,b){clearTimeout(y.timer),y.timer=setTimeout(a,b)},keyboard:function(a){var b=a.which,c=27;b==c&&(z.closable?(y.debug("Escape key pressed hiding modal"),y.hide()):y.debug("Escape key pressed, but closable is set to false"),a.preventDefault())},resize:function(){t.dimmer("is active")&&q(y.refresh)}},toggle:function(){y.is.active()||y.is.animating()?y.hide():y.show()},show:function(b){b=a.isFunction(b)?b:function(){},y.refreshModals(),y.showModal(b)},hide:function(b){b=a.isFunction(b)?b:function(){},y.refreshModals(),y.hideModal(b)},showModal:function(b){b=a.isFunction(b)?b:function(){},y.is.animating()||!y.is.active()?(y.showDimmer(),y.cacheSizes(),y.set.position(),y.set.screenHeight(),y.set.type(),y.set.clickaway(),!z.allowMultiple&&y.others.active()?y.hideOthers(y.showModal):(z.onShow.call(J),z.transition&&a.fn.transition!==d&&G.transition("is supported")?(y.debug("Showing modal with css animations"),G.transition({debug:z.debug,animation:z.transition+" in",queue:z.queue,duration:z.duration,useFailSafe:!0,onComplete:function(){z.onVisible.apply(J),y.add.keyboardShortcuts(),y.save.focus(),y.set.active(),z.autofocus&&y.set.autofocus(),b()}})):y.error(D.noTransition))):y.debug("Modal is already visible")},hideModal:function(b,c){return b=a.isFunction(b)?b:function(){},y.debug("Hiding modal"),z.onHide.call(J,a(this))===!1?void y.verbose("Hide callback returned false cancelling hide"):void((y.is.animating()||y.is.active())&&(z.transition&&a.fn.transition!==d&&G.transition("is supported")?(y.remove.active(),G.transition({debug:z.debug,animation:z.transition+" out",queue:z.queue,duration:z.duration,useFailSafe:!0,onStart:function(){y.others.active()||c||y.hideDimmer(),y.remove.keyboardShortcuts()},onComplete:function(){z.onHidden.call(J),y.restore.focus(),b()}})):y.error(D.noTransition)))},showDimmer:function(){t.dimmer("is animating")||!t.dimmer("is active")?(y.debug("Showing dimmer"),t.dimmer("show")):y.debug("Dimmer already visible")},hideDimmer:function(){return t.dimmer("is animating")||t.dimmer("is active")?void t.dimmer("hide",function(){y.remove.clickaway(),y.remove.screenHeight()}):void y.debug("Dimmer is not visible cannot hide")},hideAll:function(b){var c=g.filter("."+B.active+", ."+B.animating);b=a.isFunction(b)?b:function(){},c.length>0&&(y.debug("Hiding all visible modals"),y.hideDimmer(),c.modal("hide modal",b))},hideOthers:function(b){var c=r.filter("."+B.active+", ."+B.animating);b=a.isFunction(b)?b:function(){},c.length>0&&(y.debug("Hiding other modals",r),c.modal("hide modal",b,!0))},others:{active:function(){return r.filter("."+B.active).length>0},animating:function(){return r.filter("."+B.animating).length>0}},add:{keyboardShortcuts:function(){y.verbose("Adding keyboard shortcuts"),i.on("keyup"+E,y.event.keyboard)}},save:{focus:function(){s=a(c.activeElement).blur()}},restore:{focus:function(){s&&s.length>0&&s.focus()}},remove:{active:function(){G.removeClass(B.active)},clickaway:function(){z.closable&&u.off("click"+v)},bodyStyle:function(){""===j.attr("style")&&(y.verbose("Removing style attribute"),j.removeAttr("style"))},screenHeight:function(){y.debug("Removing page height"),j.css("height","")},keyboardShortcuts:function(){y.verbose("Removing keyboard shortcuts"),i.off("keyup"+E)},scrolling:function(){t.removeClass(B.scrolling),G.removeClass(B.scrolling)}},cacheSizes:function(){var e=G.outerHeight();y.cache!==d&&0===e||(y.cache={pageHeight:a(c).outerHeight(),height:e+z.offset,contextHeight:"body"==z.context?a(b).height():t.height()}),y.debug("Caching modal and container sizes",y.cache)},can:{fit:function(){return y.cache.height+2*z.padding<y.cache.contextHeight}},is:{active:function(){return G.hasClass(B.active)},animating:function(){return G.transition("is supported")?G.transition("is animating"):G.is(":visible")},scrolling:function(){return t.hasClass(B.scrolling)},modernBrowser:function(){return!(b.ActiveXObject||"ActiveXObject"in b)}},set:{autofocus:function(){var a=G.find(":input").filter(":visible"),b=a.filter("[autofocus]"),c=b.length>0?b.first():a.first();c.length>0&&c.focus()},clickaway:function(){z.closable&&u.on("click"+v,y.event.click)},screenHeight:function(){y.can.fit()?j.css("height",""):(y.debug("Modal is taller than page content, resizing page height"),j.css("height",y.cache.height+2*z.padding))},active:function(){G.addClass(B.active)},scrolling:function(){t.addClass(B.scrolling),G.addClass(B.scrolling)},type:function(){y.can.fit()?(y.verbose("Modal fits on screen"),y.others.active()||y.others.animating()||y.remove.scrolling()):(y.verbose("Modal cannot fit on screen setting to scrolling"),y.set.scrolling())},position:function(){y.verbose("Centering modal on page",y.cache),y.can.fit()?G.css({top:"",marginTop:-(y.cache.height/2)}):G.css({marginTop:"",top:i.scrollTop()})},undetached:function(){t.addClass(B.undetached)}},setting:function(b,c){if(y.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,z,b);else{if(c===d)return z[b];z[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,y,b);else{if(c===d)return y[b];y[b]=c}},debug:function(){z.debug&&(z.performance?y.performance.log(arguments):(y.debug=Function.prototype.bind.call(console.info,console,z.name+":"),y.debug.apply(console,arguments)))},verbose:function(){z.verbose&&z.debug&&(z.performance?y.performance.log(arguments):(y.verbose=Function.prototype.bind.call(console.info,console,z.name+":"),y.verbose.apply(console,arguments)))},error:function(){y.error=Function.prototype.bind.call(console.error,console,z.name+":"),y.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;z.performance&&(b=(new Date).getTime(),d=l||b,c=b-d,l=b,m.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:J,"Execution Time":c})),clearTimeout(y.performance.timer),y.performance.timer=setTimeout(y.performance.display,500)},display:function(){var b=z.name+":",c=0;l=!1,clearTimeout(y.performance.timer),a.each(m,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",k&&(b+=" '"+k+"'"),(console.group!==d||console.table!==d)&&m.length>0&&(console.groupCollapsed(b),console.table?console.table(m):a.each(m,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),m=[]}},invoke:function(b,c,e){var g,h,i,j=K;return c=c||p,e=J||e,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):!1;j=j[e]}})),a.isFunction(h)?i=h.apply(e,c):h!==d&&(i=h),a.isArray(f)?f.push(i):f!==d?f=[f,i]:i!==d&&(f=i),h}},o?(K===d&&y.initialize(),y.invoke(n)):(K!==d&&K.invoke("destroy"),y.initialize())}),f!==d?f:this},a.fn.modal.settings={name:"Modal",namespace:"modal",debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,inverted:!1,blurring:!1,dimmerSettings:{closable:!1,useCSS:!0},context:"body",queue:!1,duration:500,offset:0,transition:"scale",padding:50,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",scrolling:"scrolling",undetached:"undetached"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.nag=function(c){var e,f=a(this),g=f.selector||"",h=(new Date).getTime(),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1);return f.each(function(){var f,m=a.isPlainObject(c)?a.extend(!0,{},a.fn.nag.settings,c):a.extend({},a.fn.nag.settings),n=(m.className,m.selector),o=m.error,p=m.namespace,q="."+p,r=p+"-module",s=a(this),t=(s.find(n.close),a(m.context?m.context:"body")),u=this,v=s.data(r);b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)};f={initialize:function(){f.verbose("Initializing element"),s.on("click"+q,n.close,f.dismiss).data(r,f),m.detachable&&s.parent()[0]!==t[0]&&s.detach().prependTo(t),m.displayTime>0&&setTimeout(f.hide,m.displayTime),f.show()},destroy:function(){f.verbose("Destroying instance"),s.removeData(r).off(q)},show:function(){f.should.show()&&!s.is(":visible")&&(f.debug("Showing nag",m.animation.show),"fade"==m.animation.show?s.fadeIn(m.duration,m.easing):s.slideDown(m.duration,m.easing))},hide:function(){f.debug("Showing nag",m.animation.hide),"fade"==m.animation.show?s.fadeIn(m.duration,m.easing):s.slideUp(m.duration,m.easing)},onHide:function(){f.debug("Removing nag",m.animation.hide),s.remove(),m.onHide&&m.onHide()},dismiss:function(a){m.storageMethod&&f.storage.set(m.key,m.value),f.hide(),a.stopImmediatePropagation(),a.preventDefault()},should:{show:function(){return m.persist?(f.debug("Persistent nag is set, can show nag"),!0):f.storage.get(m.key)!=m.value.toString()?(f.debug("Stored value is not set, can show nag",f.storage.get(m.key)),!0):(f.debug("Stored value is set, cannot show nag",f.storage.get(m.key)),!1)}},get:{storageOptions:function(){var a={};return m.expires&&(a.expires=m.expires),m.domain&&(a.domain=m.domain),m.path&&(a.path=m.path),a}},clear:function(){f.storage.remove(m.key)},storage:{set:function(c,e){var g=f.get.storageOptions();if("localstorage"==m.storageMethod&&b.localStorage!==d)b.localStorage.setItem(c,e),f.debug("Value stored using local storage",c,e);else if("sessionstorage"==m.storageMethod&&b.sessionStorage!==d)b.sessionStorage.setItem(c,e),f.debug("Value stored using session storage",c,e);else{if(a.cookie===d)return void f.error(o.noCookieStorage);a.cookie(c,e,g),f.debug("Value stored using cookie",c,e,g)}},get:function(c,e){var g;return"localstorage"==m.storageMethod&&b.localStorage!==d?g=b.localStorage.getItem(c):"sessionstorage"==m.storageMethod&&b.sessionStorage!==d?g=b.sessionStorage.getItem(c):a.cookie!==d?g=a.cookie(c):f.error(o.noCookieStorage),"undefined"!=g&&"null"!=g&&g!==d&&null!==g||(g=d),g},remove:function(c){var e=f.get.storageOptions();"localstorage"==m.storageMethod&&b.localStorage!==d?b.localStorage.removeItem(c):"sessionstorage"==m.storageMethod&&b.sessionStorage!==d?b.sessionStorage.removeItem(c):a.cookie!==d?a.removeCookie(c,e):f.error(o.noStorage)}},setting:function(b,c){if(f.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,m,b);else{if(c===d)return m[b];m[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,f,b);else{if(c===d)return f[b];f[b]=c}},debug:function(){m.debug&&(m.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,m.name+":"),f.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),f.verbose.apply(console,arguments)))},error:function(){f.error=Function.prototype.bind.call(console.error,console,m.name+":"),f.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;m.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:u,"Execution Time":c})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var b=m.name+":",c=0;h=!1,clearTimeout(f.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",g&&(b+=" '"+g+"'"),(console.group!==d||console.table!==d)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,g){var h,i,j,k=v;return c=c||l,g=u||g,"string"==typeof b&&k!==d&&(b=b.split(/[\. ]/),h=b.length-1,a.each(b,function(c,e){var g=c!=h?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(k[g])&&c!=h)k=k[g];else{if(k[g]!==d)return i=k[g],!1;if(!a.isPlainObject(k[e])||c==h)return k[e]!==d?(i=k[e],!1):(f.error(o.method,b),!1);k=k[e]}})),a.isFunction(i)?j=i.apply(g,c):i!==d&&(j=i),a.isArray(e)?e.push(j):e!==d?e=[e,j]:j!==d&&(e=j),i}},k?(v===d&&f.initialize(),f.invoke(j)):(v!==d&&v.invoke("destroy"),f.initialize())}),e!==d?e:this},a.fn.nag.settings={name:"Nag",debug:!1,verbose:!1,performance:!0,namespace:"Nag",persist:!1,displayTime:0,animation:{show:"slide",hide:"slide"},context:!1,detachable:!1,expires:30,domain:!1,path:"/",storageMethod:"cookie",key:"nag",value:"dismiss",error:{noCookieStorage:"$.cookie is not included. A storage solution is required.",noStorage:"Neither $.cookie or store is defined. A storage solution is required for storing state",method:"The method you called is not defined."},className:{bottom:"bottom",fixed:"fixed"},selector:{close:".close.icon"},speed:500,easing:"easeOutQuad",onHide:function(){}},a.extend(a.easing,{easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c}})}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.popup=function(e){var f,g=a(this),h=a(c),i=a(b),j=a("body"),k=g.selector||"",l=!0,m=(new Date).getTime(),n=[],o=arguments[0],p="string"==typeof o,q=[].slice.call(arguments,1);return g.each(function(){var c,g,r,s,t,u=a.isPlainObject(e)?a.extend(!0,{},a.fn.popup.settings,e):a.extend({},a.fn.popup.settings),v=u.selector,w=u.className,x=u.error,y=u.metadata,z=u.namespace,A="."+u.namespace,B="module-"+z,C=a(this),D=a(u.context),E=u.target?a(u.target):C,F=0,G=!1,H=!1,I=this,J=C.data(B);t={initialize:function(){t.debug("Initializing",C),t.createID(),t.bind.events(),!t.exists()&&u.preserve&&t.create(),t.instantiate()},instantiate:function(){t.verbose("Storing instance",t),J=t,C.data(B,J)},refresh:function(){u.popup?c=a(u.popup).eq(0):u.inline&&(c=E.nextAll(v.popup).eq(0),u.popup=c),u.popup?(c.addClass(w.loading),g=t.get.offsetParent(),c.removeClass(w.loading),u.movePopup&&t.has.popup()&&t.get.offsetParent(c)[0]!==g[0]&&(t.debug("Moving popup to the same offset parent as activating element"),c.detach().appendTo(g))):g=u.inline?t.get.offsetParent(E):t.has.popup()?t.get.offsetParent(c):j,g.is("html")&&g[0]!==j[0]&&(t.debug("Setting page as offset parent"),g=j),t.get.variation()&&t.set.variation()},reposition:function(){t.refresh(),t.set.position()},destroy:function(){t.debug("Destroying previous module"),c&&!u.preserve&&t.removePopup(),clearTimeout(t.hideTimer),clearTimeout(t.showTimer),i.off(r),C.off(A).removeData(B)},event:{start:function(b){var c=a.isPlainObject(u.delay)?u.delay.show:u.delay;clearTimeout(t.hideTimer),H||(t.showTimer=setTimeout(t.show,c))},end:function(){var b=a.isPlainObject(u.delay)?u.delay.hide:u.delay;clearTimeout(t.showTimer),t.hideTimer=setTimeout(t.hide,b)},touchstart:function(a){H=!0,t.show()},resize:function(){t.is.visible()&&t.set.position()},hideGracefully:function(b){b&&0===a(b.target).closest(v.popup).length?(t.debug("Click occurred outside popup hiding popup"),t.hide()):t.debug("Click was inside popup, keeping popup open")}},create:function(){var b=t.get.html(),d=t.get.title(),e=t.get.content();b||e||d?(t.debug("Creating pop-up html"),b||(b=u.templates.popup({title:d,content:e})),c=a("<div/>").addClass(w.popup).data(y.activator,C).html(b),u.inline?(t.verbose("Inserting popup element inline",c),c.insertAfter(C)):(t.verbose("Appending popup element to body",c),c.appendTo(D)),t.refresh(),t.set.variation(),u.hoverable&&t.bind.popup(),u.onCreate.call(c,I)):0!==E.next(v.popup).length?(t.verbose("Pre-existing popup found"),u.inline=!0,u.popups=E.next(v.popup).data(y.activator,C),t.refresh(),u.hoverable&&t.bind.popup()):u.popup?(a(u.popup).data(y.activator,C),t.verbose("Used popup specified in settings"),t.refresh(),u.hoverable&&t.bind.popup()):t.debug("No content specified skipping display",I)},createID:function(){s=(Math.random().toString(16)+"000000000").substr(2,8),r="."+s,t.verbose("Creating unique id for element",s)},toggle:function(){t.debug("Toggling pop-up"),t.is.hidden()?(t.debug("Popup is hidden, showing pop-up"),t.unbind.close(),t.show()):(t.debug("Popup is visible, hiding pop-up"),t.hide())},show:function(a){if(a=a||function(){},t.debug("Showing pop-up",u.transition),t.is.hidden()&&(!t.is.active()||!t.is.dropdown())){if(t.exists()||t.create(),u.onShow.call(c,I)===!1)return void t.debug("onShow callback returned false, cancelling popup animation");u.preserve||u.popup||t.refresh(),c&&t.set.position()&&(t.save.conditions(),u.exclusive&&t.hideAll(),t.animate.show(a))}},hide:function(a){if(a=a||function(){},t.is.visible()||t.is.animating()){if(u.onHide.call(c,I)===!1)return void t.debug("onHide callback returned false, cancelling popup animation");t.remove.visible(),t.unbind.close(),t.restore.conditions(),t.animate.hide(a)}},hideAll:function(){a(v.popup).filter("."+w.visible).each(function(){a(this).data(y.activator).popup("hide")})},exists:function(){return c?u.inline||u.popup?t.has.popup():c.closest(D).length>=1:!1},removePopup:function(){t.has.popup()&&!u.popup&&(t.debug("Removing popup",c),c.remove(),c=d,u.onRemove.call(c,I))},save:{conditions:function(){t.cache={title:C.attr("title")},t.cache.title&&C.removeAttr("title"),t.verbose("Saving original attributes",t.cache.title)}},restore:{conditions:function(){return t.cache&&t.cache.title&&(C.attr("title",t.cache.title),t.verbose("Restoring original attributes",t.cache.title)),!0}},animate:{show:function(b){b=a.isFunction(b)?b:function(){},u.transition&&a.fn.transition!==d&&C.transition("is supported")?(t.set.visible(),c.transition({animation:u.transition+" in",queue:!1,debug:u.debug,verbose:u.verbose,duration:u.duration,onComplete:function(){t.bind.close(),b.call(c,I),u.onVisible.call(c,I)}})):t.error(x.noTransition)},hide:function(b){return b=a.isFunction(b)?b:function(){},t.debug("Hiding pop-up"),u.onHide.call(c,I)===!1?void t.debug("onHide callback returned false, cancelling popup animation"):void(u.transition&&a.fn.transition!==d&&C.transition("is supported")?c.transition({animation:u.transition+" out",queue:!1,duration:u.duration,debug:u.debug,verbose:u.verbose,onComplete:function(){t.reset(),b.call(c,I),u.onHidden.call(c,I)}}):t.error(x.noTransition))}},change:{content:function(a){c.html(a)}},get:{html:function(){return C.removeData(y.html),C.data(y.html)||u.html},title:function(){return C.removeData(y.title),C.data(y.title)||u.title},content:function(){return C.removeData(y.content),C.data(y.content)||C.attr("title")||u.content},variation:function(){return C.removeData(y.variation),C.data(y.variation)||u.variation},popup:function(){return c},popupOffset:function(){return c.offset()},calculations:function(){var a,d=E[0],e=u.inline||u.popup&&u.movePopup?E.position():E.offset(),f={};return f={target:{element:E[0],width:E.outerWidth(),height:E.outerHeight(),top:e.top,left:e.left,margin:{}},popup:{width:c.outerWidth(),height:c.outerHeight()},parent:{width:g.outerWidth(),height:g.outerHeight()},screen:{scroll:{top:i.scrollTop(),left:i.scrollLeft()},width:i.width(),height:i.height()}},u.setFluidWidth&&t.is.fluid()&&(f.container={width:c.parent().outerWidth()},f.popup.width=f.container.width),f.target.margin.top=u.inline?parseInt(b.getComputedStyle(d).getPropertyValue("margin-top"),10):0,f.target.margin.left=u.inline?t.is.rtl()?parseInt(b.getComputedStyle(d).getPropertyValue("margin-right"),10):parseInt(b.getComputedStyle(d).getPropertyValue("margin-left"),10):0,a=f.screen,f.boundary={top:a.scroll.top,bottom:a.scroll.top+a.height,left:a.scroll.left,right:a.scroll.left+a.width},f},id:function(){return s},startEvent:function(){return"hover"==u.on?"mouseenter":"focus"==u.on?"focus":!1},scrollEvent:function(){return"scroll"},endEvent:function(){return"hover"==u.on?"mouseleave":"focus"==u.on?"blur":!1},distanceFromBoundary:function(a,b){var c,d,e={};return a=a||t.get.offset(),b=b||t.get.calculations(),c=b.popup,d=b.boundary,a&&(e={top:a.top-d.top,left:a.left-d.left,right:d.right-(a.left+c.width),bottom:d.bottom-(a.top+c.height)},t.verbose("Distance from boundaries determined",a,e)),e},offsetParent:function(b){var c=b!==d?b[0]:C[0],e=c.parentNode,f=a(e);if(e)for(var g="none"===f.css("transform"),h="static"===f.css("position"),i=f.is("html");e&&!i&&h&&g;)e=e.parentNode,f=a(e),g="none"===f.css("transform"),h="static"===f.css("position"),i=f.is("html");return f&&f.length>0?f:a()},positions:function(){return{"top left":!1,"top center":!1,"top right":!1,"bottom left":!1,"bottom center":!1,"bottom right":!1,"left center":!1,"right center":!1}},nextPosition:function(a){var b=a.split(" "),c=b[0],d=b[1],e={top:"bottom",bottom:"top",left:"right",right:"left"},f={left:"center",center:"right",right:"left"},g={"top left":"top center","top center":"top right","top right":"right center","right center":"bottom right","bottom right":"bottom center","bottom center":"bottom left","bottom left":"left center","left center":"top left"},h="top"==c||"bottom"==c,i=!1,j=!1,k=!1;return G||(t.verbose("All available positions available"),G=t.get.positions()),t.debug("Recording last position tried",a),G[a]=!0,"opposite"===u.prefer&&(k=[e[c],d],k=k.join(" "),i=G[k]===!0,t.debug("Trying opposite strategy",k)),"adjacent"===u.prefer&&h&&(k=[c,f[d]],k=k.join(" "),j=G[k]===!0,t.debug("Trying adjacent strategy",k)),(j||i)&&(t.debug("Using backup position",k),k=g[a]),k}},set:{position:function(a,b){if(0===E.length||0===c.length)return void t.error(x.notFound);var e,f,g,h,i,j,k,l;if(b=b||t.get.calculations(),a=a||C.data(y.position)||u.position,e=C.data(y.offset)||u.offset,f=u.distanceAway,g=b.target,h=b.popup,i=b.parent,0===g.width&&0===g.height&&!(g.element instanceof SVGGraphicsElement))return t.debug("Popup target is hidden, no action taken"),!1;switch(u.inline&&(t.debug("Adding margin to calculation",g.margin),"left center"==a||"right center"==a?(e+=g.margin.top,f+=-g.margin.left):"top left"==a||"top center"==a||"top right"==a?(e+=g.margin.left,f-=g.margin.top):(e+=g.margin.left,f+=g.margin.top)),t.debug("Determining popup position from calculations",a,b),t.is.rtl()&&(a=a.replace(/left|right/g,function(a){return"left"==a?"right":"left"}),t.debug("RTL: Popup position updated",a)),F==u.maxSearchDepth&&"string"==typeof u.lastResort&&(a=u.lastResort),a){case"top left":j={top:"auto",bottom:i.height-g.top+f,left:g.left+e,right:"auto"};break;case"top center":j={bottom:i.height-g.top+f,left:g.left+g.width/2-h.width/2+e,top:"auto",right:"auto"};break;case"top right":j={bottom:i.height-g.top+f,right:i.width-g.left-g.width-e,top:"auto",left:"auto"};break;case"left center":j={top:g.top+g.height/2-h.height/2+e,right:i.width-g.left+f,left:"auto",bottom:"auto"};break;case"right center":j={top:g.top+g.height/2-h.height/2+e,left:g.left+g.width+f,bottom:"auto",right:"auto"};break;case"bottom left":j={top:g.top+g.height+f,left:g.left+e,bottom:"auto",right:"auto"};break;case"bottom center":j={top:g.top+g.height+f,left:g.left+g.width/2-h.width/2+e,bottom:"auto",right:"auto"};break;case"bottom right":j={top:g.top+g.height+f,right:i.width-g.left-g.width-e,left:"auto",bottom:"auto"}}if(j===d&&t.error(x.invalidPosition,a),t.debug("Calculated popup positioning values",j),c.css(j).removeClass(w.position).addClass(a).addClass(w.loading),
k=t.get.popupOffset(),l=t.get.distanceFromBoundary(k,b),t.is.offstage(l,a)){if(t.debug("Position is outside viewport",a),F<u.maxSearchDepth)return F++,a=t.get.nextPosition(a),t.debug("Trying new position",a),c?t.set.position(a,b):!1;if(!u.lastResort)return t.debug("Popup could not find a position to display",c),t.error(x.cannotPlace,I),t.remove.attempts(),t.remove.loading(),t.reset(),u.onUnplaceable.call(c,I),!1;t.debug("No position found, showing with last position")}return t.debug("Position is on stage",a),t.remove.attempts(),t.remove.loading(),u.setFluidWidth&&t.is.fluid()&&t.set.fluidWidth(b),!0},fluidWidth:function(a){a=a||t.get.calculations(),t.debug("Automatically setting element width to parent width",a.parent.width),c.css("width",a.container.width)},variation:function(a){a=a||t.get.variation(),a&&t.has.popup()&&(t.verbose("Adding variation to popup",a),c.addClass(a))},visible:function(){C.addClass(w.visible)}},remove:{loading:function(){c.removeClass(w.loading)},variation:function(a){a=a||t.get.variation(),a&&(t.verbose("Removing variation",a),c.removeClass(a))},visible:function(){C.removeClass(w.visible)},attempts:function(){t.verbose("Resetting all searched positions"),F=0,G=!1}},bind:{events:function(){t.debug("Binding popup events to module"),"click"==u.on&&C.on("click"+A,t.toggle),"hover"==u.on&&l&&C.on("touchstart"+A,t.event.touchstart),t.get.startEvent()&&C.on(t.get.startEvent()+A,t.event.start).on(t.get.endEvent()+A,t.event.end),u.target&&t.debug("Target set to element",E),i.on("resize"+r,t.event.resize)},popup:function(){t.verbose("Allowing hover events on popup to prevent closing"),c&&t.has.popup()&&c.on("mouseenter"+A,t.event.start).on("mouseleave"+A,t.event.end)},close:function(){(u.hideOnScroll===!0||"auto"==u.hideOnScroll&&"click"!=u.on)&&(h.one(t.get.scrollEvent()+r,t.event.hideGracefully),D.one(t.get.scrollEvent()+r,t.event.hideGracefully)),"hover"==u.on&&H&&(t.verbose("Binding popup close event to document"),h.on("touchstart"+r,function(a){t.verbose("Touched away from popup"),t.event.hideGracefully.call(I,a)})),"click"==u.on&&u.closable&&(t.verbose("Binding popup close event to document"),h.on("click"+r,function(a){t.verbose("Clicked away from popup"),t.event.hideGracefully.call(I,a)}))}},unbind:{close:function(){(u.hideOnScroll===!0||"auto"==u.hideOnScroll&&"click"!=u.on)&&(h.off("scroll"+r,t.hide),D.off("scroll"+r,t.hide)),"hover"==u.on&&H&&(h.off("touchstart"+r),H=!1),"click"==u.on&&u.closable&&(t.verbose("Removing close event from document"),h.off("click"+r))}},has:{popup:function(){return c&&c.length>0}},is:{offstage:function(b,c){var d=[];return a.each(b,function(a,b){b<-u.jitter&&(t.debug("Position exceeds allowable distance from edge",a,b,c),d.push(a))}),d.length>0},active:function(){return C.hasClass(w.active)},animating:function(){return c!==d&&c.hasClass(w.animating)},fluid:function(){return c!==d&&c.hasClass(w.fluid)},visible:function(){return c!==d&&c.hasClass(w.visible)},dropdown:function(){return C.hasClass(w.dropdown)},hidden:function(){return!t.is.visible()},rtl:function(){return"rtl"==C.css("direction")}},reset:function(){t.remove.visible(),u.preserve?a.fn.transition!==d&&c.transition("remove transition"):t.removePopup()},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,u,b);else{if(c===d)return u[b];u[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,t,b);else{if(c===d)return t[b];t[b]=c}},debug:function(){u.debug&&(u.performance?t.performance.log(arguments):(t.debug=Function.prototype.bind.call(console.info,console,u.name+":"),t.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?t.performance.log(arguments):(t.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),t.verbose.apply(console,arguments)))},error:function(){t.error=Function.prototype.bind.call(console.error,console,u.name+":"),t.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;u.performance&&(b=(new Date).getTime(),d=m||b,c=b-d,m=b,n.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:I,"Execution Time":c})),clearTimeout(t.performance.timer),t.performance.timer=setTimeout(t.performance.display,500)},display:function(){var b=u.name+":",c=0;m=!1,clearTimeout(t.performance.timer),a.each(n,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",k&&(b+=" '"+k+"'"),(console.group!==d||console.table!==d)&&n.length>0&&(console.groupCollapsed(b),console.table?console.table(n):a.each(n,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),n=[]}},invoke:function(b,c,e){var g,h,i,j=J;return c=c||q,e=I||e,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):!1;j=j[e]}})),a.isFunction(h)?i=h.apply(e,c):h!==d&&(i=h),a.isArray(f)?f.push(i):f!==d?f=[f,i]:i!==d&&(f=i),h}},p?(J===d&&t.initialize(),t.invoke(o)):(J!==d&&J.invoke("destroy"),t.initialize())}),f!==d?f:this},a.fn.popup.settings={name:"Popup",debug:!1,verbose:!1,performance:!0,namespace:"popup",onCreate:function(){},onRemove:function(){},onShow:function(){},onVisible:function(){},onHide:function(){},onUnplaceable:function(){},onHidden:function(){},on:"hover",addTouchEvents:!0,position:"top left",variation:"",movePopup:!0,target:!1,popup:!1,inline:!1,preserve:!1,hoverable:!1,content:!1,html:!1,title:!1,closable:!0,hideOnScroll:"auto",exclusive:!1,context:"body",prefer:"opposite",lastResort:!1,delay:{show:50,hide:70},setFluidWidth:!0,duration:200,transition:"scale",distanceAway:0,jitter:2,offset:0,maxSearchDepth:15,error:{invalidPosition:"The position you specified is not a valid position",cannotPlace:"Popup does not fit within the boundaries of the viewport",method:"The method you called is not defined.",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>",notFound:"The target or popup you specified does not exist on the page"},metadata:{activator:"activator",content:"content",html:"html",offset:"offset",position:"position",title:"title",variation:"variation"},className:{active:"active",animating:"animating",dropdown:"dropdown",fluid:"fluid",loading:"loading",popup:"ui popup",position:"top left center bottom right",visible:"visible"},selector:{popup:".ui.popup"},templates:{escape:function(a){var b=/[&<>"'`]/g,c=/[&<>"'`]/,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e=function(a){return d[a]};return c.test(a)?a.replace(b,e):a},popup:function(b){var c="",e=a.fn.popup.settings.templates.escape;return typeof b!==d&&(typeof b.title!==d&&b.title&&(b.title=e(b.title),c+='<div class="header">'+b.title+"</div>"),typeof b.content!==d&&b.content&&(b.content=e(b.content),c+='<div class="content">'+b.content+"</div>")),c}}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.progress=function(b){var e,f=a(this),g=f.selector||"",h=(new Date).getTime(),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1);return f.each(function(){var f,m,n=a.isPlainObject(b)?a.extend(!0,{},a.fn.progress.settings,b):a.extend({},a.fn.progress.settings),o=n.className,p=n.metadata,q=n.namespace,r=n.selector,s=n.error,t="."+q,u="module-"+q,v=a(this),w=a(this).find(r.bar),x=a(this).find(r.progress),y=a(this).find(r.label),z=this,A=v.data(u),B=!1;m={initialize:function(){m.debug("Initializing progress bar",n),m.set.duration(),m.set.transitionEvent(),m.read.metadata(),m.read.settings(),m.instantiate()},instantiate:function(){m.verbose("Storing instance of progress",m),A=m,v.data(u,m)},destroy:function(){m.verbose("Destroying previous progress for",v),clearInterval(A.interval),m.remove.state(),v.removeData(u),A=d},reset:function(){m.set.percent(0),m.set.value(0)},complete:function(){(m.percent===d||m.percent<100)&&m.set.percent(100)},read:{metadata:function(){var a={percent:v.data(p.percent),total:v.data(p.total),value:v.data(p.value)};a.percent&&(m.debug("Current percent value set from metadata",a.percent),m.set.percent(a.percent)),a.total&&(m.debug("Total value set from metadata",a.total),m.set.total(a.total)),a.value&&(m.debug("Current value set from metadata",a.value),m.set.value(a.value),m.set.progress(a.value))},settings:function(){n.total!==!1&&(m.debug("Current total set in settings",n.total),m.set.total(n.total)),n.value!==!1&&(m.debug("Current value set in settings",n.value),m.set.value(n.value),m.set.progress(m.value)),n.percent!==!1&&(m.debug("Current percent set in settings",n.percent),m.set.percent(n.percent))}},increment:function(a){var b,c,d;m.has.total()?(c=m.get.value(),a=a||1,d=c+a,b=m.get.total(),m.debug("Incrementing value",c,d,b),d>b&&(m.debug("Value cannot increment above total",b),d=b)):(c=m.get.percent(),a=a||m.get.randomValue(),d=c+a,b=100,m.debug("Incrementing percentage by",c,d),d>b&&(m.debug("Value cannot increment above 100 percent"),d=b)),m.set.progress(d)},decrement:function(a){var b,c,d=m.get.total();d?(b=m.get.value(),a=a||1,c=b-a,m.debug("Decrementing value by",a,b)):(b=m.get.percent(),a=a||m.get.randomValue(),c=b-a,m.debug("Decrementing percentage by",a,b)),0>c&&(m.debug("Value cannot decrement below 0"),c=0),m.set.progress(c)},has:{total:function(){return m.get.total()!==!1}},get:{text:function(a){var b=m.value||0,c=m.total||0,d=B?m.get.displayPercent():m.percent||0,e=m.total>0?c-b:100-d;return a=a||"",a=a.replace("{value}",b).replace("{total}",c).replace("{left}",e).replace("{percent}",d),m.debug("Adding variables to progress bar text",a),a},randomValue:function(){return m.debug("Generating random increment percentage"),Math.floor(Math.random()*n.random.max+n.random.min)},numericValue:function(a){return"string"==typeof a?""!==a.replace(/[^\d.]/g,"")?+a.replace(/[^\d.]/g,""):!1:a},transitionEnd:function(){var a,b=c.createElement("element"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in e)if(b.style[a]!==d)return e[a]},displayPercent:function(){var a=w.width(),b=v.width(),c=parseInt(w.css("min-width"),10),d=a>c?a/b*100:m.percent;return n.precision>0?Math.round(d*(10*n.precision))/(10*n.precision):Math.round(d)},percent:function(){return m.percent||0},value:function(){return m.value||0},total:function(){return m.total||!1}},is:{success:function(){return v.hasClass(o.success)},warning:function(){return v.hasClass(o.warning)},error:function(){return v.hasClass(o.error)},active:function(){return v.hasClass(o.active)},visible:function(){return v.is(":visible")}},remove:{state:function(){m.verbose("Removing stored state"),delete m.total,delete m.percent,delete m.value},active:function(){m.verbose("Removing active state"),v.removeClass(o.active)},success:function(){m.verbose("Removing success state"),v.removeClass(o.success)},warning:function(){m.verbose("Removing warning state"),v.removeClass(o.warning)},error:function(){m.verbose("Removing error state"),v.removeClass(o.error)}},set:{barWidth:function(a){a>100?m.error(s.tooHigh,a):0>a?m.error(s.tooLow,a):(w.css("width",a+"%"),v.attr("data-percent",parseInt(a,10)))},duration:function(a){a=a||n.duration,a="number"==typeof a?a+"ms":a,m.verbose("Setting progress bar transition duration",a),w.css({"transition-duration":a})},percent:function(a){a="string"==typeof a?+a.replace("%",""):a,a=n.precision>0?Math.round(a*(10*n.precision))/(10*n.precision):Math.round(a),m.percent=a,m.has.total()||(m.value=n.precision>0?Math.round(a/100*m.total*(10*n.precision))/(10*n.precision):Math.round(a/100*m.total*10)/10,n.limitValues&&(m.value=m.value>100?100:m.value<0?0:m.value)),m.set.barWidth(a),m.set.labelInterval(),m.set.labels(),n.onChange.call(z,a,m.value,m.total)},labelInterval:function(){var a=function(){m.verbose("Bar finished animating, removing continuous label updates"),clearInterval(m.interval),B=!1,m.set.labels()};clearInterval(m.interval),w.one(f+t,a),m.timer=setTimeout(a,n.duration+100),B=!0,m.interval=setInterval(m.set.labels,n.framerate)},labels:function(){m.verbose("Setting both bar progress and outer label text"),m.set.barLabel(),m.set.state()},label:function(a){a=a||"",a&&(a=m.get.text(a),m.debug("Setting label to text",a),y.text(a))},state:function(a){a=a!==d?a:m.percent,100===a?!n.autoSuccess||m.is.warning()||m.is.error()?(m.verbose("Reached 100% removing active state"),m.remove.active()):(m.set.success(),m.debug("Automatically triggering success at 100%")):a>0?(m.verbose("Adjusting active progress bar label",a),m.set.active()):(m.remove.active(),m.set.label(n.text.active))},barLabel:function(a){a!==d?x.text(m.get.text(a)):"ratio"==n.label&&m.total?(m.debug("Adding ratio to bar label"),x.text(m.get.text(n.text.ratio))):"percent"==n.label&&(m.debug("Adding percentage to bar label"),x.text(m.get.text(n.text.percent)))},active:function(a){a=a||n.text.active,m.debug("Setting active state"),n.showActivity&&!m.is.active()&&v.addClass(o.active),m.remove.warning(),m.remove.error(),m.remove.success(),a&&m.set.label(a),n.onActive.call(z,m.value,m.total)},success:function(a){a=a||n.text.success,m.debug("Setting success state"),v.addClass(o.success),m.remove.active(),m.remove.warning(),m.remove.error(),m.complete(),a&&m.set.label(a),n.onSuccess.call(z,m.total)},warning:function(a){a=a||n.text.warning,m.debug("Setting warning state"),v.addClass(o.warning),m.remove.active(),m.remove.success(),m.remove.error(),m.complete(),a&&m.set.label(a),n.onWarning.call(z,m.value,m.total)},error:function(a){a=a||n.text.error,m.debug("Setting error state"),v.addClass(o.error),m.remove.active(),m.remove.success(),m.remove.warning(),m.complete(),a&&m.set.label(a),n.onError.call(z,m.value,m.total)},transitionEvent:function(){f=m.get.transitionEnd()},total:function(a){m.total=a},value:function(a){m.value=a},progress:function(a){var b,c=m.get.numericValue(a);c===!1&&m.error(s.nonNumeric,a),m.has.total()?(m.set.value(c),b=c/m.total*100,m.debug("Calculating percent complete from total",b),m.set.percent(b)):(b=c,m.debug("Setting value to exact percentage value",b),m.set.percent(b))}},setting:function(b,c){if(m.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,n,b);else{if(c===d)return n[b];n[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,m,b);else{if(c===d)return m[b];m[b]=c}},debug:function(){n.debug&&(n.performance?m.performance.log(arguments):(m.debug=Function.prototype.bind.call(console.info,console,n.name+":"),m.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?m.performance.log(arguments):(m.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),m.verbose.apply(console,arguments)))},error:function(){m.error=Function.prototype.bind.call(console.error,console,n.name+":"),m.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;n.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:z,"Execution Time":c})),clearTimeout(m.performance.timer),m.performance.timer=setTimeout(m.performance.display,500)},display:function(){var b=n.name+":",c=0;h=!1,clearTimeout(m.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",g&&(b+=" '"+g+"'"),(console.group!==d||console.table!==d)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,f){var g,h,i,j=A;return c=c||l,f=z||f,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):(m.error(s.method,b),!1);j=j[e]}})),a.isFunction(h)?i=h.apply(f,c):h!==d&&(i=h),a.isArray(e)?e.push(i):e!==d?e=[e,i]:i!==d&&(e=i),h}},k?(A===d&&m.initialize(),m.invoke(j)):(A!==d&&A.invoke("destroy"),m.initialize())}),e!==d?e:this},a.fn.progress.settings={name:"Progress",namespace:"progress",debug:!1,verbose:!1,performance:!0,random:{min:2,max:5},duration:300,autoSuccess:!0,showActivity:!0,limitValues:!0,label:"percent",precision:0,framerate:1e3/30,percent:!1,total:!1,value:!1,onChange:function(a,b,c){},onSuccess:function(a){},onActive:function(a,b){},onError:function(a,b){},onWarning:function(a,b){},error:{method:"The method you called is not defined.",nonNumeric:"Progress value is non numeric",tooHigh:"Value specified is above 100%",tooLow:"Value specified is below 0%"},regExp:{variable:/\{\$*[A-z0-9]+\}/g},metadata:{percent:"percent",total:"total",value:"value"},selector:{bar:"> .bar",label:"> .label",progress:".bar > .progress"},text:{active:!1,error:!1,success:!1,warning:!1,percent:"{percent}%",ratio:"{value} of {total}"},className:{active:"active",error:"error",success:"success",warning:"warning"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.rating=function(b){var c,e=a(this),f=e.selector||"",g=(new Date).getTime(),h=[],i=arguments[0],j="string"==typeof i,k=[].slice.call(arguments,1);return e.each(function(){var l,m=a.isPlainObject(b)?a.extend(!0,{},a.fn.rating.settings,b):a.extend({},a.fn.rating.settings),n=m.namespace,o=m.className,p=m.metadata,q=m.selector,r=(m.error,"."+n),s="module-"+n,t=this,u=a(this).data(s),v=a(this),w=v.find(q.icon);l={initialize:function(){l.verbose("Initializing rating module",m),0===w.length&&l.setup.layout(),m.interactive?l.enable():l.disable(),l.set.rating(l.get.initialRating()),l.instantiate()},instantiate:function(){l.verbose("Instantiating module",m),u=l,v.data(s,l)},destroy:function(){l.verbose("Destroying previous instance",u),l.remove.events(),v.removeData(s)},refresh:function(){w=v.find(q.icon)},setup:{layout:function(){var b=l.get.maxRating(),c=a.fn.rating.settings.templates.icon(b);l.debug("Generating icon html dynamically"),v.html(c),l.refresh()}},event:{mouseenter:function(){var b=a(this);b.nextAll().removeClass(o.selected),v.addClass(o.selected),b.addClass(o.selected).prevAll().addClass(o.selected)},mouseleave:function(){v.removeClass(o.selected),w.removeClass(o.selected)},click:function(){var b=a(this),c=l.get.rating(),d=w.index(b)+1,e="auto"==m.clearable?1===w.length:m.clearable;e&&c==d?l.clearRating():l.set.rating(d)}},clearRating:function(){l.debug("Clearing current rating"),l.set.rating(0)},bind:{events:function(){l.verbose("Binding events"),v.on("mouseenter"+r,q.icon,l.event.mouseenter).on("mouseleave"+r,q.icon,l.event.mouseleave).on("click"+r,q.icon,l.event.click)}},remove:{events:function(){l.verbose("Removing events"),v.off(r)}},enable:function(){l.debug("Setting rating to interactive mode"),l.bind.events(),v.removeClass(o.disabled)},disable:function(){l.debug("Setting rating to read-only mode"),l.remove.events(),v.addClass(o.disabled)},get:{initialRating:function(){return v.data(p.rating)!==d?(v.removeData(p.rating),v.data(p.rating)):m.initialRating},maxRating:function(){return v.data(p.maxRating)!==d?(v.removeData(p.maxRating),v.data(p.maxRating)):m.maxRating},rating:function(){var a=w.filter("."+o.active).length;return l.verbose("Current rating retrieved",a),a}},set:{rating:function(a){var b=a-1>=0?a-1:0,c=w.eq(b);v.removeClass(o.selected),w.removeClass(o.selected).removeClass(o.active),a>0&&(l.verbose("Setting current rating to",a),c.prevAll().andSelf().addClass(o.active)),m.onRate.call(t,a)}},setting:function(b,c){if(l.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,m,b);else{if(c===d)return m[b];m[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,l,b);else{if(c===d)return l[b];l[b]=c}},debug:function(){m.debug&&(m.performance?l.performance.log(arguments):(l.debug=Function.prototype.bind.call(console.info,console,m.name+":"),l.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?l.performance.log(arguments):(l.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),l.verbose.apply(console,arguments)))},error:function(){l.error=Function.prototype.bind.call(console.error,console,m.name+":"),l.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;m.performance&&(b=(new Date).getTime(),d=g||b,c=b-d,g=b,h.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:t,"Execution Time":c})),clearTimeout(l.performance.timer),l.performance.timer=setTimeout(l.performance.display,500)},display:function(){var b=m.name+":",c=0;g=!1,clearTimeout(l.performance.timer),a.each(h,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",f&&(b+=" '"+f+"'"),e.length>1&&(b+=" ("+e.length+")"),(console.group!==d||console.table!==d)&&h.length>0&&(console.groupCollapsed(b),console.table?console.table(h):a.each(h,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(b,e,f){var g,h,i,j=u;return e=e||k,f=t||f,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):!1;j=j[e]}})),a.isFunction(h)?i=h.apply(f,e):h!==d&&(i=h),a.isArray(c)?c.push(i):c!==d?c=[c,i]:i!==d&&(c=i),h}},j?(u===d&&l.initialize(),l.invoke(i)):(u!==d&&u.invoke("destroy"),l.initialize())}),c!==d?c:this},a.fn.rating.settings={name:"Rating",namespace:"rating",debug:!1,verbose:!1,performance:!0,initialRating:0,interactive:!0,maxRating:4,clearable:"auto",onRate:function(a){},error:{method:"The method you called is not defined",noMaximum:"No maximum rating specified. Cannot generate HTML automatically"},metadata:{rating:"rating",maxRating:"maxRating"},className:{active:"active",disabled:"disabled",selected:"selected",loading:"loading"},selector:{icon:".icon"},templates:{icon:function(a){for(var b=1,c="";a>=b;)c+='<i class="icon"></i>',b++;return c}}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.search=function(e){var f,g=a(this),h=g.selector||"",i=(new Date).getTime(),j=[],k=arguments[0],l="string"==typeof k,m=[].slice.call(arguments,1);return a(this).each(function(){var n,o=a.isPlainObject(e)?a.extend(!0,{},a.fn.search.settings,e):a.extend({},a.fn.search.settings),p=o.className,q=o.metadata,r=o.regExp,s=o.fields,t=o.selector,u=o.error,v=o.namespace,w="."+v,x=v+"-module",y=a(this),z=y.find(t.prompt),A=y.find(t.searchButton),B=y.find(t.results),C=(y.find(t.result),y.find(t.category),this),D=y.data(x);n={initialize:function(){n.verbose("Initializing module"),n.determine.searchFields(),n.bind.events(),n.set.type(),n.create.results(),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),D=n,y.data(x,n)},destroy:function(){n.verbose("Destroying instance"),y.off(w).removeData(x)},bind:{events:function(){n.verbose("Binding events to search"),o.automatic&&(y.on(n.get.inputEvent()+w,t.prompt,n.event.input),z.attr("autocomplete","off")),y.on("focus"+w,t.prompt,n.event.focus).on("blur"+w,t.prompt,n.event.blur).on("keydown"+w,t.prompt,n.handleKeyboard).on("click"+w,t.searchButton,n.query).on("mousedown"+w,t.results,n.event.result.mousedown).on("mouseup"+w,t.results,n.event.result.mouseup).on("click"+w,t.result,n.event.result.click)}},determine:{searchFields:function(){e&&e.searchFields!==d&&(o.searchFields=e.searchFields)}},event:{input:function(){clearTimeout(n.timer),n.timer=setTimeout(n.query,o.searchDelay)},focus:function(){n.set.focus(),n.has.minimumCharacters()&&(n.query(),n.can.show()&&n.showResults())},blur:function(a){var b=c.activeElement===this,d=function(){n.cancel.query(),n.remove.focus(),n.timer=setTimeout(n.hideResults,o.hideDelay)};b||(n.resultsClicked?(n.debug("Determining if user action caused search to close"),y.one("click",t.results,function(a){n.is.animating()||n.is.hidden()||d()})):(n.debug("Input blurred without user action, closing results"),d()))},result:{mousedown:function(){n.resultsClicked=!0},mouseup:function(){n.resultsClicked=!1},click:function(c){n.debug("Search result selected");var d=a(this),e=d.find(t.title).eq(0),f=d.find("a[href]").eq(0),g=f.attr("href")||!1,h=f.attr("target")||!1,i=(e.html(),e.length>0?e.text():!1),j=n.get.results(),k=d.data(q.result)||n.get.result(i,j);return a.isFunction(o.onSelect)&&o.onSelect.call(C,k,j)===!1?void n.debug("Custom onSelect callback cancelled default select action"):(n.hideResults(),i&&n.set.value(i),void(g&&(n.verbose("Opening search link found in result",f),"_blank"==h||c.ctrlKey?b.open(g):b.location.href=g)))}}},handleKeyboard:function(a){var b,c=y.find(t.result),d=y.find(t.category),e=c.index(c.filter("."+p.active)),f=c.length,g=a.which,h={backspace:8,enter:13,escape:27,upArrow:38,downArrow:40};if(g==h.escape&&(n.verbose("Escape key pressed, blurring search field"),n.trigger.blur()),n.is.visible())if(g==h.enter){if(n.verbose("Enter key pressed, selecting active result"),c.filter("."+p.active).length>0)return n.event.result.click.call(c.filter("."+p.active),a),a.preventDefault(),!1}else g==h.upArrow?(n.verbose("Up key pressed, changing active result"),b=0>e-1?e:e-1,d.removeClass(p.active),c.removeClass(p.active).eq(b).addClass(p.active).closest(d).addClass(p.active),a.preventDefault()):g==h.downArrow&&(n.verbose("Down key pressed, changing active result"),b=e+1>=f?e:e+1,d.removeClass(p.active),c.removeClass(p.active).eq(b).addClass(p.active).closest(d).addClass(p.active),a.preventDefault());else g==h.enter&&(n.verbose("Enter key pressed, executing query"),n.query(),n.set.buttonPressed(),z.one("keyup",n.remove.buttonFocus))},setup:{api:function(){var a={debug:o.debug,on:!1,cache:"local",action:"search",onError:n.error};n.verbose("First request, initializing API"),y.api(a)}},can:{useAPI:function(){return a.fn.api!==d},show:function(){return n.is.focused()&&!n.is.visible()&&!n.is.empty()},transition:function(){return o.transition&&a.fn.transition!==d&&y.transition("is supported")}},is:{animating:function(){return B.hasClass(p.animating)},hidden:function(){return B.hasClass(p.hidden)},empty:function(){return""===B.html()},visible:function(){return B.filter(":visible").length>0},focused:function(){return z.filter(":focus").length>0}},trigger:{blur:function(){var a=c.createEvent("HTMLEvents"),b=z[0];b&&(n.verbose("Triggering native blur event"),a.initEvent("blur",!1,!1),b.dispatchEvent(a))}},get:{inputEvent:function(){var a=z[0],b=a!==d&&a.oninput!==d?"input":a!==d&&a.onpropertychange!==d?"propertychange":"keyup";return b},value:function(){return z.val()},results:function(){var a=y.data(q.results);return a},result:function(b,c){var e=["title","id"],f=!1;return b=b!==d?b:n.get.value(),c=c!==d?c:n.get.results(),"category"===o.type?(n.debug("Finding result that matches",b),a.each(c,function(c,d){return a.isArray(d.results)&&(f=n.search.object(b,d.results,e)[0])?!1:void 0})):(n.debug("Finding result in results object",b),f=n.search.object(b,c,e)[0]),f||!1}},set:{focus:function(){y.addClass(p.focus)},loading:function(){y.addClass(p.loading)},value:function(a){n.verbose("Setting search input value",a),z.val(a)},type:function(a){a=a||o.type,"category"==o.type&&y.addClass(o.type)},buttonPressed:function(){A.addClass(p.pressed)}},remove:{loading:function(){y.removeClass(p.loading)},focus:function(){y.removeClass(p.focus)},buttonPressed:function(){A.removeClass(p.pressed)}},query:function(){var b=n.get.value(),c=n.read.cache(b);n.has.minimumCharacters()?(c?(n.debug("Reading result from cache",b),n.save.results(c.results),n.addResults(c.html),n.inject.id(c.results)):(n.debug("Querying for",b),a.isPlainObject(o.source)||a.isArray(o.source)?n.search.local(b):n.can.useAPI()?n.search.remote(b):n.error(u.source)),o.onSearchQuery.call(C,b)):n.hideResults()},search:{local:function(a){var b,c=n.search.object(a,o.content);n.set.loading(),n.save.results(c),n.debug("Returned local search results",c),b=n.generateResults({results:c}),n.remove.loading(),n.addResults(b),n.inject.id(c),n.write.cache(a,{html:b,results:c})},remote:function(b){var c={onSuccess:function(a){n.parse.response.call(C,a,b)},onFailure:function(){n.displayMessage(u.serverError)},urlData:{query:b}};y.api("get request")||n.setup.api(),a.extend(!0,c,o.apiSettings),n.debug("Executing search",c),n.cancel.query(),y.api("setting",c).api("query")},object:function(b,c,e){var f=[],g=[],h=b.toString().replace(r.escape,"\\$&"),i=new RegExp(r.beginsWith+h,"i"),j=function(b,c){var d=-1==a.inArray(c,f),e=-1==a.inArray(c,g);d&&e&&b.push(c)};return c=c||o.source,e=e!==d?e:o.searchFields,a.isArray(e)||(e=[e]),c===d||c===!1?(n.error(u.source),[]):(a.each(e,function(d,e){a.each(c,function(a,c){var d="string"==typeof c[e];d&&(-1!==c[e].search(i)?j(f,c):o.searchFullText&&n.fuzzySearch(b,c[e])&&j(g,c))})}),a.merge(f,g))}},fuzzySearch:function(a,b){var c=b.length,d=a.length;if("string"!=typeof a)return!1;if(a=a.toLowerCase(),b=b.toLowerCase(),d>c)return!1;if(d===c)return a===b;a:for(var e=0,f=0;d>e;e++){for(var g=a.charCodeAt(e);c>f;)if(b.charCodeAt(f++)===g)continue a;return!1}return!0},parse:{response:function(a,b){var c=n.generateResults(a);n.verbose("Parsing server response",a),a!==d&&b!==d&&a[s.results]!==d&&(n.addResults(c),n.inject.id(a[s.results]),n.write.cache(b,{html:c,results:a[s.results]}),n.save.results(a[s.results]))}},cancel:{query:function(){n.can.useAPI()&&y.api("abort")}},has:{minimumCharacters:function(){var a=n.get.value(),b=a.length;return b>=o.minCharacters}},clear:{cache:function(a){var b=y.data(q.cache);a?a&&b&&b[a]&&(n.debug("Removing value from cache",a),delete b[a],y.data(q.cache,b)):(n.debug("Clearing cache",a),y.removeData(q.cache))}},read:{cache:function(a){var b=y.data(q.cache);return o.cache?(n.verbose("Checking cache for generated html for query",a),"object"==typeof b&&b[a]!==d?b[a]:!1):!1}},create:{id:function(a,b){var c,e,f=a+1;return b!==d?(c=String.fromCharCode(97+b),e=c+f,n.verbose("Creating category result id",e)):(e=f,n.verbose("Creating result id",e)),e},results:function(){0===B.length&&(B=a("<div />").addClass(p.results).appendTo(y))}},inject:{result:function(a,b,c){n.verbose("Injecting result into results");var e=c!==d?B.children().eq(c).children(t.result).eq(b):B.children(t.result).eq(b);n.verbose("Injecting results metadata",e),e.data(q.result,a)},id:function(b){n.debug("Injecting unique ids into results");var c=0,e=0;return"category"===o.type?a.each(b,function(b,f){e=0,a.each(f.results,function(a,b){var g=f.results[a];g.id===d&&(g.id=n.create.id(e,c)),n.inject.result(g,e,c),e++}),c++}):a.each(b,function(a,c){var f=b[a];f.id===d&&(f.id=n.create.id(e)),n.inject.result(f,e),e++}),b}},save:{results:function(a){n.verbose("Saving current search results to metadata",a),y.data(q.results,a)}},write:{cache:function(a,b){var c=y.data(q.cache)!==d?y.data(q.cache):{};o.cache&&(n.verbose("Writing generated html to cache",a,b),c[a]=b,y.data(q.cache,c))}},addResults:function(b){return a.isFunction(o.onResultsAdd)&&o.onResultsAdd.call(B,b)===!1?(n.debug("onResultsAdd callback cancelled default action"),!1):(B.html(b),void(n.can.show()&&n.showResults()))},showResults:function(){n.is.visible()||(n.can.transition()?(n.debug("Showing results with css animations"),B.transition({animation:o.transition+" in",debug:o.debug,verbose:o.verbose,duration:o.duration,queue:!0})):(n.debug("Showing results with javascript"),B.stop().fadeIn(o.duration,o.easing)),o.onResultsOpen.call(B))},hideResults:function(){n.is.visible()&&(n.can.transition()?(n.debug("Hiding results with css animations"),B.transition({animation:o.transition+" out",debug:o.debug,verbose:o.verbose,duration:o.duration,queue:!0})):(n.debug("Hiding results with javascript"),B.stop().fadeOut(o.duration,o.easing)),o.onResultsClose.call(B))},generateResults:function(b){n.debug("Generating html from response",b);var c=o.templates[o.type],d=a.isPlainObject(b[s.results])&&!a.isEmptyObject(b[s.results]),e=a.isArray(b[s.results])&&b[s.results].length>0,f="";return d||e?(o.maxResults>0&&(d?"standard"==o.type&&n.error(u.maxResults):b[s.results]=b[s.results].slice(0,o.maxResults)),
a.isFunction(c)?f=c(b,s):n.error(u.noTemplate,!1)):f=n.displayMessage(u.noResults,"empty"),o.onResults.call(C,b),f},displayMessage:function(a,b){return b=b||"standard",n.debug("Displaying message",a,b),n.addResults(o.templates.message(a,b)),o.templates.message(a,b)},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,o,b);else{if(c===d)return o[b];o[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,n,b);else{if(c===d)return n[b];n[b]=c}},debug:function(){o.debug&&(o.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,o.name+":"),n.debug.apply(console,arguments)))},verbose:function(){o.verbose&&o.debug&&(o.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),n.verbose.apply(console,arguments)))},error:function(){n.error=Function.prototype.bind.call(console.error,console,o.name+":"),n.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;o.performance&&(b=(new Date).getTime(),d=i||b,c=b-d,i=b,j.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:C,"Execution Time":c})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var b=o.name+":",c=0;i=!1,clearTimeout(n.performance.timer),a.each(j,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",h&&(b+=" '"+h+"'"),g.length>1&&(b+=" ("+g.length+")"),(console.group!==d||console.table!==d)&&j.length>0&&(console.groupCollapsed(b),console.table?console.table(j):a.each(j,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(b,c,e){var g,h,i,j=D;return c=c||m,e=C||e,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):!1;j=j[e]}})),a.isFunction(h)?i=h.apply(e,c):h!==d&&(i=h),a.isArray(f)?f.push(i):f!==d?f=[f,i]:i!==d&&(f=i),h}},l?(D===d&&n.initialize(),n.invoke(k)):(D!==d&&D.invoke("destroy"),n.initialize())}),f!==d?f:this},a.fn.search.settings={name:"Search",namespace:"search",debug:!1,verbose:!1,performance:!0,type:"standard",minCharacters:1,apiSettings:!1,source:!1,searchFields:["title","description"],displayField:"",searchFullText:!0,automatic:!0,hideDelay:0,searchDelay:200,maxResults:7,cache:!0,transition:"scale",duration:200,easing:"easeOutExpo",onSelect:!1,onResultsAdd:!1,onSearchQuery:function(a){},onResults:function(a){},onResultsOpen:function(){},onResultsClose:function(){},className:{animating:"animating",active:"active",empty:"empty",focus:"focus",hidden:"hidden",loading:"loading",results:"results",pressed:"down"},error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"Your search returned no results",logging:"Error in debug logging, exiting.",noEndpoint:"No search endpoint was specified",noTemplate:"A valid template name was not specified.",serverError:"There was an issue querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},metadata:{cache:"cache",results:"results",result:"result"},regExp:{escape:/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,beginsWith:"(?:s|^)"},fields:{categories:"results",categoryName:"name",categoryResults:"results",description:"description",image:"image",price:"price",results:"results",title:"title",url:"url",action:"action",actionText:"text",actionURL:"url"},selector:{prompt:".prompt",searchButton:".search.button",results:".results",category:".category",result:".result",title:".title, .name"},templates:{escape:function(a){var b=/[&<>"'`]/g,c=/[&<>"'`]/,d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},e=function(a){return d[a]};return c.test(a)?a.replace(b,e):a},message:function(a,b){var c="";return a!==d&&b!==d&&(c+='<div class="message '+b+'">',c+="empty"==b?'<div class="header">No Results</div class="header"><div class="description">'+a+'</div class="description">':' <div class="description">'+a+"</div>",c+="</div>"),c},category:function(b,c){var e="";a.fn.search.settings.templates.escape;return b[c.categoryResults]!==d?(a.each(b[c.categoryResults],function(b,f){f[c.results]!==d&&f.results.length>0&&(e+='<div class="category">',f[c.categoryName]!==d&&(e+='<div class="name">'+f[c.categoryName]+"</div>"),a.each(f.results,function(a,b){e+=b[c.url]?'<a class="result" href="'+b[c.url]+'">':'<a class="result">',b[c.image]!==d&&(e+='<div class="image"> <img src="'+b[c.image]+'"></div>'),e+='<div class="content">',b[c.price]!==d&&(e+='<div class="price">'+b[c.price]+"</div>"),b[c.title]!==d&&(e+='<div class="title">'+b[c.title]+"</div>"),b[c.description]!==d&&(e+='<div class="description">'+b[c.description]+"</div>"),e+="</div>",e+="</a>"}),e+="</div>")}),b[c.action]&&(e+='<a href="'+b[c.action][c.actionURL]+'" class="action">'+b[c.action][c.actionText]+"</a>"),e):!1},standard:function(b,c){var e="";return b[c.results]!==d?(a.each(b[c.results],function(a,b){e+=b[c.url]?'<a class="result" href="'+b[c.url]+'">':'<a class="result">',b[c.image]!==d&&(e+='<div class="image"> <img src="'+b[c.image]+'"></div>'),e+='<div class="content">',b[c.price]!==d&&(e+='<div class="price">'+b[c.price]+"</div>"),b[c.title]!==d&&(e+='<div class="title">'+b[c.title]+"</div>"),b[c.description]!==d&&(e+='<div class="description">'+b[c.description]+"</div>"),e+="</div>",e+="</a>"}),b[c.action]&&(e+='<a href="'+b[c.action][c.actionURL]+'" class="action">'+b[c.action][c.actionText]+"</a>"),e):!1}}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.shape=function(e){var f,g=a(this),h=(a("body"),(new Date).getTime()),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1),m=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)};return g.each(function(){var b,n,o,p=g.selector||"",q=a.isPlainObject(e)?a.extend(!0,{},a.fn.shape.settings,e):a.extend({},a.fn.shape.settings),r=q.namespace,s=q.selector,t=q.error,u=q.className,v="."+r,w="module-"+r,x=a(this),y=x.find(s.sides),z=x.find(s.side),A=!1,B=this,C=x.data(w);o={initialize:function(){o.verbose("Initializing module for",B),o.set.defaultSide(),o.instantiate()},instantiate:function(){o.verbose("Storing instance of module",o),C=o,x.data(w,C)},destroy:function(){o.verbose("Destroying previous module for",B),x.removeData(w).off(v)},refresh:function(){o.verbose("Refreshing selector cache for",B),x=a(B),y=a(this).find(s.shape),z=a(this).find(s.side)},repaint:function(){o.verbose("Forcing repaint event");var a=y[0]||c.createElement("div");a.offsetWidth},animate:function(a,c){o.verbose("Animating box with properties",a),c=c||function(a){o.verbose("Executing animation callback"),a!==d&&a.stopPropagation(),o.reset(),o.set.active()},q.beforeChange.call(n[0]),o.get.transitionEvent()?(o.verbose("Starting CSS animation"),x.addClass(u.animating),y.css(a).one(o.get.transitionEvent(),c),o.set.duration(q.duration),m(function(){x.addClass(u.animating),b.addClass(u.hidden)})):c()},queue:function(a){o.debug("Queueing animation of",a),y.one(o.get.transitionEvent(),function(){o.debug("Executing queued animation"),setTimeout(function(){x.shape(a)},0)})},reset:function(){o.verbose("Animating states reset"),x.removeClass(u.animating).attr("style","").removeAttr("style"),y.attr("style","").removeAttr("style"),z.attr("style","").removeAttr("style").removeClass(u.hidden),n.removeClass(u.animating).attr("style","").removeAttr("style")},is:{complete:function(){return z.filter("."+u.active)[0]==n[0]},animating:function(){return x.hasClass(u.animating)}},set:{defaultSide:function(){b=x.find("."+q.className.active),n=b.next(s.side).length>0?b.next(s.side):x.find(s.side).first(),A=!1,o.verbose("Active side set to",b),o.verbose("Next side set to",n)},duration:function(a){a=a||q.duration,a="number"==typeof a?a+"ms":a,o.verbose("Setting animation duration",a),(q.duration||0===q.duration)&&y.add(z).css({"-webkit-transition-duration":a,"-moz-transition-duration":a,"-ms-transition-duration":a,"-o-transition-duration":a,"transition-duration":a})},currentStageSize:function(){var a=x.find("."+q.className.active),b=a.outerWidth(!0),c=a.outerHeight(!0);x.css({width:b,height:c})},stageSize:function(){var a=x.clone().addClass(u.loading),b=a.find("."+q.className.active),c=A?a.find(s.side).eq(A):b.next(s.side).length>0?b.next(s.side):a.find(s.side).first(),d={};o.set.currentStageSize(),b.removeClass(u.active),c.addClass(u.active),a.insertAfter(x),d={width:c.outerWidth(!0),height:c.outerHeight(!0)},a.remove(),x.css(d),o.verbose("Resizing stage to fit new content",d)},nextSide:function(a){A=a,n=z.filter(a),A=z.index(n),0===n.length&&(o.set.defaultSide(),o.error(t.side)),o.verbose("Next side manually set to",n)},active:function(){o.verbose("Setting new side to active",n),z.removeClass(u.active),n.addClass(u.active),q.onChange.call(n[0]),o.set.defaultSide()}},flip:{up:function(){return!o.is.complete()||o.is.animating()||q.allowRepeats?void(o.is.animating()?o.queue("flip up"):(o.debug("Flipping up",n),o.set.stageSize(),o.stage.above(),o.animate(o.get.transform.up()))):void o.debug("Side already visible",n)},down:function(){return!o.is.complete()||o.is.animating()||q.allowRepeats?void(o.is.animating()?o.queue("flip down"):(o.debug("Flipping down",n),o.set.stageSize(),o.stage.below(),o.animate(o.get.transform.down()))):void o.debug("Side already visible",n)},left:function(){return!o.is.complete()||o.is.animating()||q.allowRepeats?void(o.is.animating()?o.queue("flip left"):(o.debug("Flipping left",n),o.set.stageSize(),o.stage.left(),o.animate(o.get.transform.left()))):void o.debug("Side already visible",n)},right:function(){return!o.is.complete()||o.is.animating()||q.allowRepeats?void(o.is.animating()?o.queue("flip right"):(o.debug("Flipping right",n),o.set.stageSize(),o.stage.right(),o.animate(o.get.transform.right()))):void o.debug("Side already visible",n)},over:function(){return!o.is.complete()||o.is.animating()||q.allowRepeats?void(o.is.animating()?o.queue("flip over"):(o.debug("Flipping over",n),o.set.stageSize(),o.stage.behind(),o.animate(o.get.transform.over()))):void o.debug("Side already visible",n)},back:function(){return!o.is.complete()||o.is.animating()||q.allowRepeats?void(o.is.animating()?o.queue("flip back"):(o.debug("Flipping back",n),o.set.stageSize(),o.stage.behind(),o.animate(o.get.transform.back()))):void o.debug("Side already visible",n)}},get:{transform:{up:function(){var a={y:-((b.outerHeight(!0)-n.outerHeight(!0))/2),z:-(b.outerHeight(!0)/2)};return{transform:"translateY("+a.y+"px) translateZ("+a.z+"px) rotateX(-90deg)"}},down:function(){var a={y:-((b.outerHeight(!0)-n.outerHeight(!0))/2),z:-(b.outerHeight(!0)/2)};return{transform:"translateY("+a.y+"px) translateZ("+a.z+"px) rotateX(90deg)"}},left:function(){var a={x:-((b.outerWidth(!0)-n.outerWidth(!0))/2),z:-(b.outerWidth(!0)/2)};return{transform:"translateX("+a.x+"px) translateZ("+a.z+"px) rotateY(90deg)"}},right:function(){var a={x:-((b.outerWidth(!0)-n.outerWidth(!0))/2),z:-(b.outerWidth(!0)/2)};return{transform:"translateX("+a.x+"px) translateZ("+a.z+"px) rotateY(-90deg)"}},over:function(){var a={x:-((b.outerWidth(!0)-n.outerWidth(!0))/2)};return{transform:"translateX("+a.x+"px) rotateY(180deg)"}},back:function(){var a={x:-((b.outerWidth(!0)-n.outerWidth(!0))/2)};return{transform:"translateX("+a.x+"px) rotateY(-180deg)"}}},transitionEvent:function(){var a,b=c.createElement("element"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in e)if(b.style[a]!==d)return e[a]},nextSide:function(){return b.next(s.side).length>0?b.next(s.side):x.find(s.side).first()}},stage:{above:function(){var a={origin:(b.outerHeight(!0)-n.outerHeight(!0))/2,depth:{active:n.outerHeight(!0)/2,next:b.outerHeight(!0)/2}};o.verbose("Setting the initial animation position as above",n,a),y.css({transform:"translateZ(-"+a.depth.active+"px)"}),b.css({transform:"rotateY(0deg) translateZ("+a.depth.active+"px)"}),n.addClass(u.animating).css({top:a.origin+"px",transform:"rotateX(90deg) translateZ("+a.depth.next+"px)"})},below:function(){var a={origin:(b.outerHeight(!0)-n.outerHeight(!0))/2,depth:{active:n.outerHeight(!0)/2,next:b.outerHeight(!0)/2}};o.verbose("Setting the initial animation position as below",n,a),y.css({transform:"translateZ(-"+a.depth.active+"px)"}),b.css({transform:"rotateY(0deg) translateZ("+a.depth.active+"px)"}),n.addClass(u.animating).css({top:a.origin+"px",transform:"rotateX(-90deg) translateZ("+a.depth.next+"px)"})},left:function(){var a={active:b.outerWidth(!0),next:n.outerWidth(!0)},c={origin:(a.active-a.next)/2,depth:{active:a.next/2,next:a.active/2}};o.verbose("Setting the initial animation position as left",n,c),y.css({transform:"translateZ(-"+c.depth.active+"px)"}),b.css({transform:"rotateY(0deg) translateZ("+c.depth.active+"px)"}),n.addClass(u.animating).css({left:c.origin+"px",transform:"rotateY(-90deg) translateZ("+c.depth.next+"px)"})},right:function(){var a={active:b.outerWidth(!0),next:n.outerWidth(!0)},c={origin:(a.active-a.next)/2,depth:{active:a.next/2,next:a.active/2}};o.verbose("Setting the initial animation position as left",n,c),y.css({transform:"translateZ(-"+c.depth.active+"px)"}),b.css({transform:"rotateY(0deg) translateZ("+c.depth.active+"px)"}),n.addClass(u.animating).css({left:c.origin+"px",transform:"rotateY(90deg) translateZ("+c.depth.next+"px)"})},behind:function(){var a={active:b.outerWidth(!0),next:n.outerWidth(!0)},c={origin:(a.active-a.next)/2,depth:{active:a.next/2,next:a.active/2}};o.verbose("Setting the initial animation position as behind",n,c),b.css({transform:"rotateY(0deg)"}),n.addClass(u.animating).css({left:c.origin+"px",transform:"rotateY(-180deg)"})}},setting:function(b,c){if(o.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,q,b);else{if(c===d)return q[b];q[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,o,b);else{if(c===d)return o[b];o[b]=c}},debug:function(){q.debug&&(q.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,q.name+":"),o.debug.apply(console,arguments)))},verbose:function(){q.verbose&&q.debug&&(q.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,q.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,q.name+":"),o.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;q.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:B,"Execution Time":c})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var b=q.name+":",c=0;h=!1,clearTimeout(o.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",p&&(b+=" '"+p+"'"),g.length>1&&(b+=" ("+g.length+")"),(console.group!==d||console.table!==d)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,e){var g,h,i,j=C;return c=c||l,e=B||e,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):!1;j=j[e]}})),a.isFunction(h)?i=h.apply(e,c):h!==d&&(i=h),a.isArray(f)?f.push(i):f!==d?f=[f,i]:i!==d&&(f=i),h}},k?(C===d&&o.initialize(),o.invoke(j)):(C!==d&&C.invoke("destroy"),o.initialize())}),f!==d?f:this},a.fn.shape.settings={name:"Shape",debug:!1,verbose:!1,performance:!0,namespace:"shape",beforeChange:function(){},onChange:function(){},allowRepeats:!1,duration:!1,error:{side:"You tried to switch to a side that does not exist.",method:"The method you called is not defined"},className:{animating:"animating",hidden:"hidden",loading:"loading",active:"active"},selector:{sides:".sides",side:".side"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.sidebar=function(e){var f,g=a(this),h=a(b),i=a(c),j=a("html"),k=a("head"),l=g.selector||"",m=(new Date).getTime(),n=[],o=arguments[0],p="string"==typeof o,q=[].slice.call(arguments,1),r=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)};return g.each(function(){var g,s,t,u,v,w,x=a.isPlainObject(e)?a.extend(!0,{},a.fn.sidebar.settings,e):a.extend({},a.fn.sidebar.settings),y=x.selector,z=x.className,A=x.namespace,B=x.regExp,C=x.error,D="."+A,E="module-"+A,F=a(this),G=a(x.context),H=F.children(y.sidebar),I=G.children(y.fixed),J=G.children(y.pusher),K=this,L=F.data(E);w={initialize:function(){w.debug("Initializing sidebar",e),w.create.id(),v=w.get.transitionEvent(),w.is.ios()&&w.set.ios(),x.delaySetup?r(w.setup.layout):w.setup.layout(),r(function(){w.setup.cache()}),w.instantiate()},instantiate:function(){w.verbose("Storing instance of module",w),L=w,F.data(E,w)},create:{id:function(){t=(Math.random().toString(16)+"000000000").substr(2,8),s="."+t,w.verbose("Creating unique id for element",t)}},destroy:function(){w.verbose("Destroying previous module for",F),F.off(D).removeData(E),w.is.ios()&&w.remove.ios(),G.off(s),h.off(s),i.off(s)},event:{clickaway:function(a){var b=J.find(a.target).length>0||J.is(a.target),c=G.is(a.target);b&&(w.verbose("User clicked on dimmed page"),w.hide()),c&&(w.verbose("User clicked on dimmable context (scaled out page)"),w.hide())},touch:function(a){},containScroll:function(a){K.scrollTop<=0&&(K.scrollTop=1),K.scrollTop+K.offsetHeight>=K.scrollHeight&&(K.scrollTop=K.scrollHeight-K.offsetHeight-1)},scroll:function(b){0===a(b.target).closest(y.sidebar).length&&b.preventDefault()}},bind:{clickaway:function(){w.verbose("Adding clickaway events to context",G),x.closable&&G.on("click"+s,w.event.clickaway).on("touchend"+s,w.event.clickaway)},scrollLock:function(){x.scrollLock&&(w.debug("Disabling page scroll"),h.on("DOMMouseScroll"+s,w.event.scroll)),w.verbose("Adding events to contain sidebar scroll"),i.on("touchmove"+s,w.event.touch),F.on("scroll"+D,w.event.containScroll)}},unbind:{clickaway:function(){w.verbose("Removing clickaway events from context",G),G.off(s)},scrollLock:function(){w.verbose("Removing scroll lock from page"),i.off(s),h.off(s),F.off("scroll"+D)}},add:{inlineCSS:function(){var b,c=w.cache.width||F.outerWidth(),d=w.cache.height||F.outerHeight(),e=w.is.rtl(),f=w.get.direction(),h={left:c,right:-c,top:d,bottom:-d};e&&(w.verbose("RTL detected, flipping widths"),h.left=-c,h.right=c),b="<style>","left"===f||"right"===f?(w.debug("Adding CSS rules for animation distance",c),b+=" .ui.visible."+f+".sidebar ~ .fixed, .ui.visible."+f+".sidebar ~ .pusher {   -webkit-transform: translate3d("+h[f]+"px, 0, 0);           transform: translate3d("+h[f]+"px, 0, 0); }"):"top"!==f&&"bottom"!=f||(b+=" .ui.visible."+f+".sidebar ~ .fixed, .ui.visible."+f+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+h[f]+"px, 0);           transform: translate3d(0, "+h[f]+"px, 0); }"),w.is.ie()&&("left"===f||"right"===f?(w.debug("Adding CSS rules for animation distance",c),b+=" body.pushable > .ui.visible."+f+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+h[f]+"px, 0, 0);           transform: translate3d("+h[f]+"px, 0, 0); }"):"top"!==f&&"bottom"!=f||(b+=" body.pushable > .ui.visible."+f+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+h[f]+"px, 0);           transform: translate3d(0, "+h[f]+"px, 0); }"),b+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),b+="</style>",g=a(b).appendTo(k),w.debug("Adding sizing css to head",g)}},refresh:function(){w.verbose("Refreshing selector cache"),G=a(x.context),H=G.children(y.sidebar),J=G.children(y.pusher),I=G.children(y.fixed),w.clear.cache()},refreshSidebars:function(){w.verbose("Refreshing other sidebars"),H=G.children(y.sidebar)},repaint:function(){w.verbose("Forcing repaint event"),K.style.display="none";K.offsetHeight;K.scrollTop=K.scrollTop,K.style.display=""},setup:{cache:function(){w.cache={width:F.outerWidth(),height:F.outerHeight(),rtl:"rtl"==F.css("direction")}},layout:function(){0===G.children(y.pusher).length&&(w.debug("Adding wrapper element for sidebar"),w.error(C.pusher),J=a('<div class="pusher" />'),G.children().not(y.omitted).not(H).wrapAll(J),w.refresh()),0!==F.nextAll(y.pusher).length&&F.nextAll(y.pusher)[0]===J[0]||(w.debug("Moved sidebar to correct parent element"),w.error(C.movedSidebar,K),F.detach().prependTo(G),w.refresh()),w.clear.cache(),w.set.pushable(),w.set.direction()}},attachEvents:function(b,c){var d=a(b);c=a.isFunction(w[c])?w[c]:w.toggle,d.length>0?(w.debug("Attaching sidebar events to element",b,c),d.on("click"+D,c)):w.error(C.notFound,b)},show:function(b){if(b=a.isFunction(b)?b:function(){},w.is.hidden()){if(w.refreshSidebars(),x.overlay&&(w.error(C.overlay),x.transition="overlay"),w.refresh(),w.othersActive())if(w.debug("Other sidebars currently visible"),x.exclusive){if("overlay"!=x.transition)return void w.hideOthers(w.show);w.hideOthers()}else x.transition="overlay";w.pushPage(function(){b.call(K),x.onShow.call(K)}),x.onChange.call(K),x.onVisible.call(K)}else w.debug("Sidebar is already visible")},hide:function(b){b=a.isFunction(b)?b:function(){},(w.is.visible()||w.is.animating())&&(w.debug("Hiding sidebar",b),w.refreshSidebars(),w.pullPage(function(){b.call(K),x.onHidden.call(K)}),x.onChange.call(K),x.onHide.call(K))},othersAnimating:function(){return H.not(F).filter("."+z.animating).length>0},othersVisible:function(){return H.not(F).filter("."+z.visible).length>0},othersActive:function(){return w.othersVisible()||w.othersAnimating()},hideOthers:function(a){var b=H.not(F).filter("."+z.visible),c=b.length,d=0;a=a||function(){},b.sidebar("hide",function(){d++,d==c&&a()})},toggle:function(){w.verbose("Determining toggled direction"),w.is.hidden()?w.show():w.hide()},pushPage:function(b){var c,d,e,f=w.get.transition(),g="overlay"===f||w.othersActive()?F:J;b=a.isFunction(b)?b:function(){},"scale down"==x.transition&&w.scrollToTop(),w.set.transition(f),w.repaint(),c=function(){w.bind.clickaway(),w.add.inlineCSS(),w.set.animating(),w.set.visible()},d=function(){w.set.dimmed()},e=function(a){a.target==g[0]&&(g.off(v+s,e),w.remove.animating(),w.bind.scrollLock(),b.call(K))},g.off(v+s),g.on(v+s,e),r(c),x.dimPage&&!w.othersVisible()&&r(d)},pullPage:function(b){var c,d,e=w.get.transition(),f="overlay"==e||w.othersActive()?F:J;b=a.isFunction(b)?b:function(){},w.verbose("Removing context push state",w.get.direction()),w.unbind.clickaway(),w.unbind.scrollLock(),c=function(){w.set.transition(e),w.set.animating(),w.remove.visible(),x.dimPage&&!w.othersVisible()&&J.removeClass(z.dimmed)},d=function(a){a.target==f[0]&&(f.off(v+s,d),w.remove.animating(),w.remove.transition(),w.remove.inlineCSS(),("scale down"==e||x.returnScroll&&w.is.mobile())&&w.scrollBack(),b.call(K))},f.off(v+s),f.on(v+s,d),r(c)},scrollToTop:function(){w.verbose("Scrolling to top of page to avoid animation issues"),u=a(b).scrollTop(),F.scrollTop(0),b.scrollTo(0,0)},scrollBack:function(){w.verbose("Scrolling back to original page position"),b.scrollTo(0,u)},clear:{cache:function(){w.verbose("Clearing cached dimensions"),w.cache={}}},set:{ios:function(){j.addClass(z.ios)},pushed:function(){G.addClass(z.pushed)},pushable:function(){G.addClass(z.pushable)},dimmed:function(){J.addClass(z.dimmed)},active:function(){F.addClass(z.active)},animating:function(){F.addClass(z.animating)},transition:function(a){a=a||w.get.transition(),F.addClass(a)},direction:function(a){a=a||w.get.direction(),F.addClass(z[a])},visible:function(){F.addClass(z.visible)},overlay:function(){F.addClass(z.overlay)}},remove:{inlineCSS:function(){w.debug("Removing inline css styles",g),g&&g.length>0&&g.remove()},ios:function(){j.removeClass(z.ios)},pushed:function(){G.removeClass(z.pushed)},pushable:function(){G.removeClass(z.pushable)},active:function(){F.removeClass(z.active)},animating:function(){F.removeClass(z.animating)},transition:function(a){a=a||w.get.transition(),F.removeClass(a)},direction:function(a){a=a||w.get.direction(),F.removeClass(z[a])},visible:function(){F.removeClass(z.visible)},overlay:function(){F.removeClass(z.overlay)}},get:{direction:function(){return F.hasClass(z.top)?z.top:F.hasClass(z.right)?z.right:F.hasClass(z.bottom)?z.bottom:z.left},transition:function(){var a,b=w.get.direction();return a=w.is.mobile()?"auto"==x.mobileTransition?x.defaultTransition.mobile[b]:x.mobileTransition:"auto"==x.transition?x.defaultTransition.computer[b]:x.transition,w.verbose("Determined transition",a),a},transitionEvent:function(){var a,b=c.createElement("element"),e={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in e)if(b.style[a]!==d)return e[a]}},is:{ie:function(){var a=!b.ActiveXObject&&"ActiveXObject"in b,c="ActiveXObject"in b;return a||c},ios:function(){var a=navigator.userAgent,b=a.match(B.ios),c=a.match(B.mobileChrome);return b&&!c?(w.verbose("Browser was found to be iOS",a),!0):!1},mobile:function(){var a=navigator.userAgent,b=a.match(B.mobile);return b?(w.verbose("Browser was found to be mobile",a),!0):(w.verbose("Browser is not mobile, using regular transition",a),!1)},hidden:function(){return!w.is.visible()},visible:function(){return F.hasClass(z.visible)},open:function(){return w.is.visible()},closed:function(){return w.is.hidden()},vertical:function(){return F.hasClass(z.top)},animating:function(){return G.hasClass(z.animating)},rtl:function(){return w.cache.rtl===d&&(w.cache.rtl="rtl"==F.css("direction")),w.cache.rtl}},setting:function(b,c){if(w.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,x,b);else{if(c===d)return x[b];x[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,w,b);else{if(c===d)return w[b];w[b]=c}},debug:function(){x.debug&&(x.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,x.name+":"),w.debug.apply(console,arguments)))},verbose:function(){x.verbose&&x.debug&&(x.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,x.name+":"),w.verbose.apply(console,arguments)))},error:function(){w.error=Function.prototype.bind.call(console.error,console,x.name+":"),w.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;x.performance&&(b=(new Date).getTime(),d=m||b,c=b-d,m=b,n.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:K,"Execution Time":c})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var b=x.name+":",c=0;m=!1,clearTimeout(w.performance.timer),a.each(n,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",l&&(b+=" '"+l+"'"),(console.group!==d||console.table!==d)&&n.length>0&&(console.groupCollapsed(b),console.table?console.table(n):a.each(n,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),n=[]}},invoke:function(b,c,e){var g,h,i,j=L;return c=c||q,e=K||e,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):(w.error(C.method,b),!1);j=j[e]}})),a.isFunction(h)?i=h.apply(e,c):h!==d&&(i=h),a.isArray(f)?f.push(i):f!==d?f=[f,i]:i!==d&&(f=i),h}},p?(L===d&&w.initialize(),w.invoke(o)):(L!==d&&w.invoke("destroy"),w.initialize())}),f!==d?f:this},a.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.sticky=function(c){var e,f=a(this),g=f.selector||"",h=(new Date).getTime(),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1);return f.each(function(){var f,m,n,o,p=a.isPlainObject(c)?a.extend(!0,{},a.fn.sticky.settings,c):a.extend({},a.fn.sticky.settings),q=p.className,r=p.namespace,s=p.error,t="."+r,u="module-"+r,v=a(this),w=a(b),x=a(p.scrollContext),y=(v.selector||"",v.data(u)),z=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)},A=this;o={initialize:function(){o.determineContainer(),o.determineContext(),o.verbose("Initializing sticky",p,f),o.save.positions(),o.checkErrors(),o.bind.events(),p.observeChanges&&o.observeChanges(),o.instantiate()},instantiate:function(){o.verbose("Storing instance of module",o),y=o,v.data(u,o)},destroy:function(){o.verbose("Destroying previous instance"),o.reset(),n&&n.disconnect(),w.off("load"+t,o.event.load).off("resize"+t,o.event.resize),x.off("scrollchange"+t,o.event.scrollchange),v.removeData(u)},observeChanges:function(){var a=m[0];"MutationObserver"in b&&(n=new MutationObserver(function(a){clearTimeout(o.timer),o.timer=setTimeout(function(){o.verbose("DOM tree modified, updating sticky menu",a),o.refresh()},100)}),n.observe(A,{childList:!0,subtree:!0}),n.observe(a,{childList:!0,subtree:!0}),o.debug("Setting up mutation observer",n))},determineContainer:function(){f=v.offsetParent()},determineContext:function(){return m=p.context?a(p.context):f,0===m.length?void o.error(s.invalidContext,p.context,v):void 0},checkErrors:function(){return o.is.hidden()&&o.error(s.visible,v),o.cache.element.height>o.cache.context.height?(o.reset(),void o.error(s.elementSize,v)):void 0},bind:{events:function(){w.on("load"+t,o.event.load).on("resize"+t,o.event.resize),x.off("scroll"+t).on("scroll"+t,o.event.scroll).on("scrollchange"+t,o.event.scrollchange)}},event:{load:function(){o.verbose("Page contents finished loading"),z(o.refresh)},resize:function(){o.verbose("Window resized"),z(o.refresh)},scroll:function(){z(function(){x.triggerHandler("scrollchange"+t,x.scrollTop())})},scrollchange:function(a,b){o.stick(b),p.onScroll.call(A)}},refresh:function(a){o.reset(),p.context||o.determineContext(),a&&o.determineContainer(),
o.save.positions(),o.stick(),p.onReposition.call(A)},supports:{sticky:function(){var b=a("<div/>");b[0];return b.addClass(q.supported),b.css("position").match("sticky")}},save:{lastScroll:function(a){o.lastScroll=a},elementScroll:function(a){o.elementScroll=a},positions:function(){var a={height:x.height()},b={margin:{top:parseInt(v.css("margin-top"),10),bottom:parseInt(v.css("margin-bottom"),10)},offset:v.offset(),width:v.outerWidth(),height:v.outerHeight()},c={offset:m.offset(),height:m.outerHeight()};({height:f.outerHeight()});o.is.standardScroll()||(o.debug("Non-standard scroll. Removing scroll offset from element offset"),a.top=x.scrollTop(),a.left=x.scrollLeft(),b.offset.top+=a.top,c.offset.top+=a.top,b.offset.left+=a.left,c.offset.left+=a.left),o.cache={fits:b.height<a.height,scrollContext:{height:a.height},element:{margin:b.margin,top:b.offset.top-b.margin.top,left:b.offset.left,width:b.width,height:b.height,bottom:b.offset.top+b.height},context:{top:c.offset.top,height:c.height,bottom:c.offset.top+c.height}},o.set.containerSize(),o.set.size(),o.stick(),o.debug("Caching element positions",o.cache)}},get:{direction:function(a){var b="down";return a=a||x.scrollTop(),o.lastScroll!==d&&(o.lastScroll<a?b="down":o.lastScroll>a&&(b="up")),b},scrollChange:function(a){return a=a||x.scrollTop(),o.lastScroll?a-o.lastScroll:0},currentElementScroll:function(){return o.elementScroll?o.elementScroll:o.is.top()?Math.abs(parseInt(v.css("top"),10))||0:Math.abs(parseInt(v.css("bottom"),10))||0},elementScroll:function(a){a=a||x.scrollTop();var b=o.cache.element,c=o.cache.scrollContext,d=o.get.scrollChange(a),e=b.height-c.height+p.offset,f=o.get.currentElementScroll(),g=f+d;return f=o.cache.fits||0>g?0:g>e?e:g}},remove:{lastScroll:function(){delete o.lastScroll},elementScroll:function(a){delete o.elementScroll},offset:function(){v.css("margin-top","")}},set:{offset:function(){o.verbose("Setting offset on element",p.offset),v.css("margin-top",p.offset)},containerSize:function(){var a=f.get(0).tagName;"HTML"===a||"body"==a?o.determineContainer():Math.abs(f.outerHeight()-o.cache.context.height)>p.jitter&&(o.debug("Context has padding, specifying exact height for container",o.cache.context.height),f.css({height:o.cache.context.height}))},minimumSize:function(){var a=o.cache.element;f.css("min-height",a.height)},scroll:function(a){o.debug("Setting scroll on element",a),o.elementScroll!=a&&(o.is.top()&&v.css("bottom","").css("top",-a),o.is.bottom()&&v.css("top","").css("bottom",a))},size:function(){0!==o.cache.element.height&&0!==o.cache.element.width&&(A.style.setProperty("width",o.cache.element.width+"px","important"),A.style.setProperty("height",o.cache.element.height+"px","important"))}},is:{standardScroll:function(){return x[0]==b},top:function(){return v.hasClass(q.top)},bottom:function(){return v.hasClass(q.bottom)},initialPosition:function(){return!o.is.fixed()&&!o.is.bound()},hidden:function(){return!v.is(":visible")},bound:function(){return v.hasClass(q.bound)},fixed:function(){return v.hasClass(q.fixed)}},stick:function(a){var b=a||x.scrollTop(),c=o.cache,d=c.fits,e=c.element,f=c.scrollContext,g=c.context,h=o.is.bottom()&&p.pushing?p.bottomOffset:p.offset,a={top:b+h,bottom:b+h+f.height},i=(o.get.direction(a.top),d?0:o.get.elementScroll(a.top)),j=!d,k=0!==e.height;k&&(o.is.initialPosition()?a.top>=g.bottom?(o.debug("Initial element position is bottom of container"),o.bindBottom()):a.top>e.top&&(e.height+a.top-i>=g.bottom?(o.debug("Initial element position is bottom of container"),o.bindBottom()):(o.debug("Initial element position is fixed"),o.fixTop())):o.is.fixed()?o.is.top()?a.top<=e.top?(o.debug("Fixed element reached top of container"),o.setInitialPosition()):e.height+a.top-i>=g.bottom?(o.debug("Fixed element reached bottom of container"),o.bindBottom()):j&&(o.set.scroll(i),o.save.lastScroll(a.top),o.save.elementScroll(i)):o.is.bottom()&&(a.bottom-e.height<=e.top?(o.debug("Bottom fixed rail has reached top of container"),o.setInitialPosition()):a.bottom>=g.bottom?(o.debug("Bottom fixed rail has reached bottom of container"),o.bindBottom()):j&&(o.set.scroll(i),o.save.lastScroll(a.top),o.save.elementScroll(i))):o.is.bottom()&&(a.top<=e.top?(o.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),o.setInitialPosition()):p.pushing?o.is.bound()&&a.bottom<=g.bottom&&(o.debug("Fixing bottom attached element to bottom of browser."),o.fixBottom()):o.is.bound()&&a.top<=g.bottom-e.height&&(o.debug("Fixing bottom attached element to top of browser."),o.fixTop())))},bindTop:function(){o.debug("Binding element to top of parent container"),o.remove.offset(),v.css({left:"",top:"",marginBottom:""}).removeClass(q.fixed).removeClass(q.bottom).addClass(q.bound).addClass(q.top),p.onTop.call(A),p.onUnstick.call(A)},bindBottom:function(){o.debug("Binding element to bottom of parent container"),o.remove.offset(),v.css({left:"",top:""}).removeClass(q.fixed).removeClass(q.top).addClass(q.bound).addClass(q.bottom),p.onBottom.call(A),p.onUnstick.call(A)},setInitialPosition:function(){o.debug("Returning to initial position"),o.unfix(),o.unbind()},fixTop:function(){o.debug("Fixing element to top of page"),o.set.minimumSize(),o.set.offset(),v.css({left:o.cache.element.left,bottom:"",marginBottom:""}).removeClass(q.bound).removeClass(q.bottom).addClass(q.fixed).addClass(q.top),p.onStick.call(A)},fixBottom:function(){o.debug("Sticking element to bottom of page"),o.set.minimumSize(),o.set.offset(),v.css({left:o.cache.element.left,bottom:"",marginBottom:""}).removeClass(q.bound).removeClass(q.top).addClass(q.fixed).addClass(q.bottom),p.onStick.call(A)},unbind:function(){o.is.bound()&&(o.debug("Removing container bound position on element"),o.remove.offset(),v.removeClass(q.bound).removeClass(q.top).removeClass(q.bottom))},unfix:function(){o.is.fixed()&&(o.debug("Removing fixed position on element"),o.remove.offset(),v.removeClass(q.fixed).removeClass(q.top).removeClass(q.bottom),p.onUnstick.call(A))},reset:function(){o.debug("Reseting elements position"),o.unbind(),o.unfix(),o.resetCSS(),o.remove.offset(),o.remove.lastScroll()},resetCSS:function(){v.css({width:"",height:""}),f.css({height:""})},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,p,b);else{if(c===d)return p[b];p[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,o,b);else{if(c===d)return o[b];o[b]=c}},debug:function(){p.debug&&(p.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,p.name+":"),o.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,p.name+":"),o.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;p.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:A,"Execution Time":c})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,0)},display:function(){var b=p.name+":",c=0;h=!1,clearTimeout(o.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",g&&(b+=" '"+g+"'"),(console.group!==d||console.table!==d)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,f){var g,h,i,j=y;return c=c||l,f=A||f,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):!1;j=j[e]}})),a.isFunction(h)?i=h.apply(f,c):h!==d&&(i=h),a.isArray(e)?e.push(i):e!==d?e=[e,i]:i!==d&&(e=i),h}},k?(y===d&&o.initialize(),o.invoke(j)):(y!==d&&y.invoke("destroy"),o.initialize())}),e!==d?e:this},a.fn.sticky.settings={name:"Sticky",namespace:"sticky",debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,scrollContext:b,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.tab=function(e){var f,g=a(a.isFunction(this)?b:this),h=g.selector||"",i=(new Date).getTime(),j=[],k=arguments[0],l="string"==typeof k,m=[].slice.call(arguments,1),n=!1;return g.each(function(){var o,p,q,r,s,t,u=a.isPlainObject(e)?a.extend(!0,{},a.fn.tab.settings,e):a.extend({},a.fn.tab.settings),v=u.className,w=u.metadata,x=u.selector,y=u.error,z="."+u.namespace,A="module-"+u.namespace,B=a(this),C={},D=!0,E=0,F=this,G=B.data(A);s={initialize:function(){s.debug("Initializing tab menu item",B),s.fix.callbacks(),s.determineTabs(),s.debug("Determining tabs",u.context,p),u.auto&&s.set.auto(),s.bind.events(),u.history&&!n&&(s.initializeHistory(),n=!0),s.instantiate()},instantiate:function(){s.verbose("Storing instance of module",s),G=s,B.data(A,s)},destroy:function(){s.debug("Destroying tabs",B),B.removeData(A).off(z)},bind:{events:function(){a.isWindow(F)||(s.debug("Attaching tab activation events to element",B),B.on("click"+z,s.event.click))}},determineTabs:function(){var b;"parent"===u.context?(B.closest(x.ui).length>0?(b=B.closest(x.ui),s.verbose("Using closest UI element as parent",b)):b=B,o=b.parent(),s.verbose("Determined parent element for creating context",o)):u.context?(o=a(u.context),s.verbose("Using selector for tab context",u.context,o)):o=a("body"),u.childrenOnly?(p=o.children(x.tabs),s.debug("Searching tab context children for tabs",o,p)):(p=o.find(x.tabs),s.debug("Searching tab context for tabs",o,p))},fix:{callbacks:function(){a.isPlainObject(e)&&(e.onTabLoad||e.onTabInit)&&(e.onTabLoad&&(e.onLoad=e.onTabLoad,delete e.onTabLoad,s.error(y.legacyLoad,e.onLoad)),e.onTabInit&&(e.onFirstLoad=e.onTabInit,delete e.onTabInit,s.error(y.legacyInit,e.onFirstLoad)),u=a.extend(!0,{},a.fn.tab.settings,e))}},initializeHistory:function(){if(s.debug("Initializing page state"),a.address===d)return s.error(y.state),!1;if("state"==u.historyType){if(s.debug("Using HTML5 to manage state"),u.path===!1)return s.error(y.path),!1;a.address.history(!0).state(u.path)}a.address.bind("change",s.event.history.change)},event:{click:function(b){var c=a(this).data(w.tab);c!==d?(u.history?(s.verbose("Updating page state",b),a.address.value(c)):(s.verbose("Changing tab",b),s.changeTab(c)),b.preventDefault()):s.debug("No tab specified")},history:{change:function(b){var c=b.pathNames.join("/")||s.get.initialPath(),e=u.templates.determineTitle(c)||!1;s.performance.display(),s.debug("History change event",c,b),t=b,c!==d&&s.changeTab(c),e&&a.address.title(e)}}},refresh:function(){q&&(s.debug("Refreshing tab",q),s.changeTab(q))},cache:{read:function(a){return a!==d?C[a]:!1},add:function(a,b){a=a||q,s.debug("Adding cached content for",a),C[a]=b},remove:function(a){a=a||q,s.debug("Removing cached content for",a),delete C[a]}},set:{auto:function(){var b="string"==typeof u.path?u.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";s.verbose("Setting up automatic tab retrieval from server",b),a.isPlainObject(u.apiSettings)?u.apiSettings.url=b:u.apiSettings={url:b}},loading:function(a){var b=s.get.tabElement(a),c=b.hasClass(v.loading);c||(s.verbose("Setting loading state for",b),b.addClass(v.loading).siblings(p).removeClass(v.active+" "+v.loading),b.length>0&&u.onRequest.call(b[0],a))},state:function(b){a.address.value(b)}},changeTab:function(c){var d=b.history&&b.history.pushState,e=d&&u.ignoreFirstLoad&&D,f=u.auto||a.isPlainObject(u.apiSettings),g=f&&!e?s.utilities.pathToArray(c):s.get.defaultPathArray(c);c=s.utilities.arrayToPath(g),a.each(g,function(b,d){var h,i,j,k,l=g.slice(0,b+1),m=s.utilities.arrayToPath(l),n=s.is.tab(m),p=b+1==g.length,x=s.get.tabElement(m);if(s.verbose("Looking for tab",d),n){if(s.verbose("Tab was found",d),q=m,r=s.utilities.filterArray(g,l),p?k=!0:(i=g.slice(0,b+2),j=s.utilities.arrayToPath(i),k=!s.is.tab(j),k&&s.verbose("Tab parameters found",i)),k&&f)return e?(s.debug("Ignoring remote content on first tab load",m),D=!1,s.cache.add(c,x.html()),s.activate.all(m),u.onFirstLoad.call(x[0],m,r,t),u.onLoad.call(x[0],m,r,t)):(s.activate.navigation(m),s.fetch.content(m,c)),!1;s.debug("Opened local tab",m),s.activate.all(m),s.cache.read(m)||(s.cache.add(m,!0),s.debug("First time tab loaded calling tab init"),u.onFirstLoad.call(x[0],m,r,t)),u.onLoad.call(x[0],m,r,t)}else{if(-1!=c.search("/")||""===c)return s.error(y.missingTab,B,o,m),!1;if(h=a("#"+c+', a[name="'+c+'"]'),m=h.closest("[data-tab]").data(w.tab),x=s.get.tabElement(m),h&&h.length>0&&m)return s.debug("Anchor link used, opening parent tab",x,h),x.hasClass(v.active)||setTimeout(function(){s.scrollTo(h)},0),s.activate.all(m),s.cache.read(m)||(s.cache.add(m,!0),s.debug("First time tab loaded calling tab init"),u.onFirstLoad.call(x[0],m,r,t)),u.onLoad.call(x[0],m,r,t),!1}})},scrollTo:function(b){var d=b&&b.length>0?b.offset().top:!1;d!==!1&&(s.debug("Forcing scroll to an in-page link in a hidden tab",d,b),a(c).scrollTop(d))},update:{content:function(a,b,c){var e=s.get.tabElement(a),f=e[0];c=c!==d?c:u.evaluateScripts,c?(s.debug("Updating HTML and evaluating inline scripts",a,b),e.html(b)):(s.debug("Updating HTML",a,b),f.innerHTML=b)}},fetch:{content:function(b,c){var e,f,g=s.get.tabElement(b),h={dataType:"html",encodeParameters:!1,on:"now",cache:u.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(a){s.cache.add(c,a),s.update.content(b,a),b==q?(s.debug("Content loaded",b),s.activate.tab(b)):s.debug("Content loaded in background",b),u.onFirstLoad.call(g[0],b,r,t),u.onLoad.call(g[0],b,r,t)},urlData:{tab:c}},i=g.api("get request")||!1,j=i&&"pending"===i.state();c=c||b,f=s.cache.read(c),u.cache&&f?(s.activate.tab(b),s.debug("Adding cached content",c),"once"==u.evaluateScripts?s.update.content(b,f,!1):s.update.content(b,f),u.onLoad.call(g[0],b,r,t)):j?(s.set.loading(b),s.debug("Content is already loading",c)):a.api!==d?(e=a.extend(!0,{},u.apiSettings,h),s.debug("Retrieving remote content",c,e),s.set.loading(b),g.api(e)):s.error(y.api)}},activate:{all:function(a){s.activate.tab(a),s.activate.navigation(a)},tab:function(a){var b=s.get.tabElement(a),c=b.hasClass(v.active);s.verbose("Showing tab content for",b),c||(b.addClass(v.active).siblings(p).removeClass(v.active+" "+v.loading),b.length>0&&u.onVisible.call(b[0],a))},navigation:function(a){var b=s.get.navElement(a),c=b.hasClass(v.active);s.verbose("Activating tab navigation for",b,a),c||b.addClass(v.active).siblings(g).removeClass(v.active+" "+v.loading)}},deactivate:{all:function(){s.deactivate.navigation(),s.deactivate.tabs()},navigation:function(){g.removeClass(v.active)},tabs:function(){p.removeClass(v.active+" "+v.loading)}},is:{tab:function(a){return a!==d?s.get.tabElement(a).length>0:!1}},get:{initialPath:function(){return g.eq(0).data(w.tab)||p.eq(0).data(w.tab)},path:function(){return a.address.value()},defaultPathArray:function(a){return s.utilities.pathToArray(s.get.defaultPath(a))},defaultPath:function(a){var b=g.filter("[data-"+w.tab+'^="'+a+'/"]').eq(0),c=b.data(w.tab)||!1;if(c){if(s.debug("Found default tab",c),E<u.maxDepth)return E++,s.get.defaultPath(c);s.error(y.recursion)}else s.debug("No default tabs found for",a,p);return E=0,a},navElement:function(a){return a=a||q,g.filter("[data-"+w.tab+'="'+a+'"]')},tabElement:function(a){var b,c,d,e;return a=a||q,d=s.utilities.pathToArray(a),e=s.utilities.last(d),b=p.filter("[data-"+w.tab+'="'+a+'"]'),c=p.filter("[data-"+w.tab+'="'+e+'"]'),b.length>0?b:c},tab:function(){return q}},utilities:{filterArray:function(b,c){return a.grep(b,function(b){return-1==a.inArray(b,c)})},last:function(b){return a.isArray(b)?b[b.length-1]:!1},pathToArray:function(a){return a===d&&(a=q),"string"==typeof a?a.split("/"):[a]},arrayToPath:function(b){return a.isArray(b)?b.join("/"):!1}},setting:function(b,c){if(s.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,u,b);else{if(c===d)return u[b];u[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,s,b);else{if(c===d)return s[b];s[b]=c}},debug:function(){u.debug&&(u.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,u.name+":"),s.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),s.verbose.apply(console,arguments)))},error:function(){s.error=Function.prototype.bind.call(console.error,console,u.name+":"),s.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;u.performance&&(b=(new Date).getTime(),d=i||b,c=b-d,i=b,j.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:F,"Execution Time":c})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var b=u.name+":",c=0;i=!1,clearTimeout(s.performance.timer),a.each(j,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",h&&(b+=" '"+h+"'"),(console.group!==d||console.table!==d)&&j.length>0&&(console.groupCollapsed(b),console.table?console.table(j):a.each(j,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(b,c,e){var g,h,i,j=G;return c=c||m,e=F||e,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):(s.error(y.method,b),!1);j=j[e]}})),a.isFunction(h)?i=h.apply(e,c):h!==d&&(i=h),a.isArray(f)?f.push(i):f!==d?f=[f,i]:i!==d&&(f=i),h}},l?(G===d&&s.initialize(),s.invoke(k)):(G!==d&&G.invoke("destroy"),s.initialize())}),f!==d?f:this},a.tab=function(){a(b).tab.apply(this,arguments)},a.fn.tab.settings={name:"Tab",namespace:"tab",debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,alwaysRefresh:!1,cache:!0,ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(a,b,c){},onLoad:function(a,b,c){},onVisible:function(a,b,c){},onRequest:function(a,b,c){},templates:{determineTitle:function(a){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.transition=function(){var e,f=a(this),g=f.selector||"",h=(new Date).getTime(),i=[],j=arguments,k=j[0],l=[].slice.call(arguments,1),m="string"==typeof k;b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)};return f.each(function(b){var n,o,p,q,r,s,t,u,v,w=a(this),x=this;v={initialize:function(){n=v.get.settings.apply(x,j),q=n.className,p=n.error,r=n.metadata,u="."+n.namespace,t="module-"+n.namespace,o=w.data(t)||v,s=v.get.animationEndEvent(),m&&(m=v.invoke(k)),m===!1&&(v.verbose("Converted arguments into settings object",n),n.interval?v.delay(n.animate):v.animate(),v.instantiate())},instantiate:function(){v.verbose("Storing instance of module",v),o=v,w.data(t,o)},destroy:function(){v.verbose("Destroying previous module for",x),w.removeData(t)},refresh:function(){v.verbose("Refreshing display type on next animation"),delete v.displayType},forceRepaint:function(){v.verbose("Forcing element repaint");var a=w.parent(),b=w.next();0===b.length?w.detach().appendTo(a):w.detach().insertBefore(b)},repaint:function(){v.verbose("Repainting element");x.offsetWidth},delay:function(a){var c,e,g=v.get.animationDirection();g||(g=v.can.transition()?v.get.direction():"static"),a=a!==d?a:n.interval,c="auto"==n.reverse&&g==q.outward,e=c||1==n.reverse?(f.length-b)*n.interval:b*n.interval,v.debug("Delaying animation by",e),setTimeout(v.animate,e)},animate:function(a){if(n=a||n,!v.is.supported())return v.error(p.support),!1;if(v.debug("Preparing animation",n.animation),v.is.animating()){if(n.queue)return!n.allowRepeats&&v.has.direction()&&v.is.occurring()&&v.queuing!==!0?v.debug("Animation is currently occurring, preventing queueing same animation",n.animation):v.queue(n.animation),!1;if(!n.allowRepeats&&v.is.occurring())return v.debug("Animation is already occurring, will not execute repeated animation",n.animation),!1;v.debug("New animation started, completing previous early",n.animation),o.complete()}v.can.animate()?v.set.animating(n.animation):v.error(p.noAnimation,n.animation,x)},reset:function(){v.debug("Resetting animation to beginning conditions"),v.remove.animationCallbacks(),v.restore.conditions(),v.remove.animating()},queue:function(a){v.debug("Queueing animation of",a),v.queuing=!0,w.one(s+".queue"+u,function(){v.queuing=!1,v.repaint(),v.animate.apply(this,n)})},complete:function(a){v.debug("Animation complete",n.animation),v.remove.completeCallback(),v.remove.failSafe(),v.is.looping()||(v.is.outward()?(v.verbose("Animation is outward, hiding element"),v.restore.conditions(),v.hide()):v.is.inward()?(v.verbose("Animation is outward, showing element"),v.restore.conditions(),v.show()):(v.verbose("Static animation completed"),v.restore.conditions(),n.onComplete.call(x)))},force:{visible:function(){var a=w.attr("style"),b=v.get.userStyle(),c=v.get.displayType(),e=b+"display: "+c+" !important;",f=w.css("display"),g=a===d||""===a;f!==c?(v.verbose("Overriding default display to show element",c),w.attr("style",e)):g&&w.removeAttr("style")},hidden:function(){var a=w.attr("style"),b=w.css("display"),c=a===d||""===a;"none"===b||v.is.hidden()?c&&w.removeAttr("style"):(v.verbose("Overriding default display to hide element"),w.css("display","none"))}},has:{direction:function(b){var c=!1;return b=b||n.animation,"string"==typeof b&&(b=b.split(" "),a.each(b,function(a,b){b!==q.inward&&b!==q.outward||(c=!0)})),c},inlineDisplay:function(){var b=w.attr("style")||"";return a.isArray(b.match(/display.*?;/,""))}},set:{animating:function(a){var b;v.remove.completeCallback(),a=a||n.animation,b=v.get.animationClass(a),v.save.animation(b),v.force.visible(),v.remove.hidden(),v.remove.direction(),v.start.animation(b)},duration:function(a,b){b=b||n.duration,b="number"==typeof b?b+"ms":b,(b||0===b)&&(v.verbose("Setting animation duration",b),w.css({"animation-duration":b}))},direction:function(a){a=a||v.get.direction(),a==q.inward?v.set.inward():v.set.outward()},looping:function(){v.debug("Transition set to loop"),w.addClass(q.looping)},hidden:function(){w.addClass(q.transition).addClass(q.hidden)},inward:function(){v.debug("Setting direction to inward"),w.removeClass(q.outward).addClass(q.inward)},outward:function(){v.debug("Setting direction to outward"),w.removeClass(q.inward).addClass(q.outward)},visible:function(){w.addClass(q.transition).addClass(q.visible)}},start:{animation:function(a){a=a||v.get.animationClass(),v.debug("Starting tween",a),w.addClass(a).one(s+".complete"+u,v.complete),n.useFailSafe&&v.add.failSafe(),v.set.duration(n.duration),n.onStart.call(x)}},save:{animation:function(a){v.cache||(v.cache={}),v.cache.animation=a},displayType:function(a){"none"!==a&&w.data(r.displayType,a)},transitionExists:function(b,c){a.fn.transition.exists[b]=c,v.verbose("Saving existence of transition",b,c)}},restore:{conditions:function(){var a=v.get.currentAnimation();a&&(w.removeClass(a),v.verbose("Removing animation class",v.cache)),v.remove.duration()}},add:{failSafe:function(){var a=v.get.duration();v.timer=setTimeout(function(){w.triggerHandler(s)},a+n.failSafeDelay),v.verbose("Adding fail safe timer",v.timer)}},remove:{animating:function(){w.removeClass(q.animating)},animationCallbacks:function(){v.remove.queueCallback(),v.remove.completeCallback()},queueCallback:function(){w.off(".queue"+u)},completeCallback:function(){w.off(".complete"+u)},display:function(){w.css("display","")},direction:function(){w.removeClass(q.inward).removeClass(q.outward)},duration:function(){w.css("animation-duration","")},failSafe:function(){v.verbose("Removing fail safe timer",v.timer),v.timer&&clearTimeout(v.timer)},hidden:function(){w.removeClass(q.hidden)},visible:function(){w.removeClass(q.visible)},looping:function(){v.debug("Transitions are no longer looping"),v.is.looping()&&(v.reset(),w.removeClass(q.looping))},transition:function(){w.removeClass(q.visible).removeClass(q.hidden)}},get:{settings:function(b,c,d){return"object"==typeof b?a.extend(!0,{},a.fn.transition.settings,b):"function"==typeof d?a.extend({},a.fn.transition.settings,{animation:b,onComplete:d,duration:c}):"string"==typeof c||"number"==typeof c?a.extend({},a.fn.transition.settings,{animation:b,duration:c}):"object"==typeof c?a.extend({},a.fn.transition.settings,c,{animation:b}):"function"==typeof c?a.extend({},a.fn.transition.settings,{animation:b,onComplete:c}):a.extend({},a.fn.transition.settings,{animation:b})},animationClass:function(a){var b=a||n.animation,c=v.can.transition()&&!v.has.direction()?v.get.direction()+" ":"";return q.animating+" "+q.transition+" "+c+b},currentAnimation:function(){return v.cache&&v.cache.animation!==d?v.cache.animation:!1},currentDirection:function(){return v.is.inward()?q.inward:q.outward},direction:function(){return v.is.hidden()||!v.is.visible()?q.inward:q.outward},animationDirection:function(b){var c;return b=b||n.animation,"string"==typeof b&&(b=b.split(" "),a.each(b,function(a,b){b===q.inward?c=q.inward:b===q.outward&&(c=q.outward)})),c?c:!1},duration:function(a){return a=a||n.duration,a===!1&&(a=w.css("animation-duration")||0),"string"==typeof a?a.indexOf("ms")>-1?parseFloat(a):1e3*parseFloat(a):a},displayType:function(){return n.displayType?n.displayType:(w.data(r.displayType)===d&&v.can.transition(!0),w.data(r.displayType))},userStyle:function(a){return a=a||w.attr("style")||"",a.replace(/display.*?;/,"")},transitionExists:function(b){return a.fn.transition.exists[b]},animationStartEvent:function(){var a,b=c.createElement("div"),e={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(a in e)if(b.style[a]!==d)return e[a];return!1},animationEndEvent:function(){var a,b=c.createElement("div"),e={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(a in e)if(b.style[a]!==d)return e[a];return!1}},can:{transition:function(b){var c,e,f,g,h,i,j,k=n.animation,l=v.get.transitionExists(k);if(l===d||b){if(v.verbose("Determining whether animation exists"),c=w.attr("class"),e=w.prop("tagName"),f=a("<"+e+" />").addClass(c).insertAfter(w),g=f.addClass(k).removeClass(q.inward).removeClass(q.outward).addClass(q.animating).addClass(q.transition).css("animationName"),h=f.addClass(q.inward).css("animationName"),j=f.attr("class",c).removeAttr("style").removeClass(q.hidden).removeClass(q.visible).show().css("display"),v.verbose("Determining final display state",j),v.save.displayType(j),f.remove(),g!=h)v.debug("Direction exists for animation",k),i=!0;else{if("none"==g||!g)return void v.debug("No animation defined in css",k);v.debug("Static animation found",k,j),i=!1}v.save.transitionExists(k,i)}return l!==d?l:i},animate:function(){return v.can.transition()!==d}},is:{animating:function(){return w.hasClass(q.animating)},inward:function(){return w.hasClass(q.inward)},outward:function(){return w.hasClass(q.outward)},looping:function(){return w.hasClass(q.looping)},occurring:function(a){return a=a||n.animation,a="."+a.replace(" ","."),w.filter(a).length>0},visible:function(){return w.is(":visible")},hidden:function(){return"hidden"===w.css("visibility")},supported:function(){return s!==!1}},hide:function(){v.verbose("Hiding element"),v.is.animating()&&v.reset(),x.blur(),v.remove.display(),v.remove.visible(),v.set.hidden(),v.force.hidden(),n.onHide.call(x),n.onComplete.call(x)},show:function(a){v.verbose("Showing element",a),v.remove.hidden(),v.set.visible(),v.force.visible(),n.onShow.call(x),n.onComplete.call(x)},toggle:function(){v.is.visible()?v.hide():v.show()},stop:function(){v.debug("Stopping current animation"),w.triggerHandler(s)},stopAll:function(){v.debug("Stopping all animation"),v.remove.queueCallback(),w.triggerHandler(s)},clear:{queue:function(){v.debug("Clearing animation queue"),v.remove.queueCallback()}},enable:function(){v.verbose("Starting animation"),w.removeClass(q.disabled)},disable:function(){v.debug("Stopping animation"),w.addClass(q.disabled)},setting:function(b,c){if(v.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,n,b);else{if(c===d)return n[b];n[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,v,b);else{if(c===d)return v[b];v[b]=c}},debug:function(){n.debug&&(n.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,n.name+":"),v.debug.apply(console,arguments)))},verbose:function(){n.verbose&&n.debug&&(n.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,n.name+":"),v.verbose.apply(console,arguments)))},error:function(){v.error=Function.prototype.bind.call(console.error,console,n.name+":"),v.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;n.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:x,"Execution Time":c})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var b=n.name+":",c=0;h=!1,clearTimeout(v.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",g&&(b+=" '"+g+"'"),f.length>1&&(b+=" ("+f.length+")"),(console.group!==d||console.table!==d)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,f){var g,h,i,j=o;return c=c||l,f=x||f,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):!1;j=j[e]}})),a.isFunction(h)?i=h.apply(f,c):h!==d&&(i=h),a.isArray(e)?e.push(i):e!==d?e=[e,i]:i!==d&&(e=i),h!==d?h:!1}},v.initialize()}),e!==d?e:this},a.fn.transition.exists={},a.fn.transition.settings={name:"Transition",debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",
hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.api=a.fn.api=function(c){var e,f=a(a.isFunction(this)?b:this),g=f.selector||"",h=(new Date).getTime(),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1);return f.each(function(){var f,m,n,o,p,q,r=a.isPlainObject(c)?a.extend(!0,{},a.fn.api.settings,c):a.extend({},a.fn.api.settings),s=r.namespace,t=r.metadata,u=r.selector,v=r.error,w=r.className,x="."+s,y="module-"+s,z=a(this),A=z.closest(u.form),B=r.stateContext?a(r.stateContext):z,C=this,D=B[0],E=z.data(y);q={initialize:function(){k||q.bind.events(),q.instantiate()},instantiate:function(){q.verbose("Storing instance of module",q),E=q,z.data(y,E)},destroy:function(){q.verbose("Destroying previous module for",C),z.removeData(y).off(x)},bind:{events:function(){var a=q.get.event();a?(q.verbose("Attaching API events to element",a),z.on(a+x,q.event.trigger)):"now"==r.on&&(q.debug("Querying API endpoint immediately"),q.query())}},decode:{json:function(a){if(a!==d&&"string"==typeof a)try{a=JSON.parse(a)}catch(b){}return a}},read:{cachedResponse:function(a){var c;return b.Storage===d?void q.error(v.noStorage):(c=sessionStorage.getItem(a),q.debug("Using cached response",a,c),c=q.decode.json(c),!1)}},write:{cachedResponse:function(c,e){return e&&""===e?void q.debug("Response empty, not caching",e):b.Storage===d?void q.error(v.noStorage):(a.isPlainObject(e)&&(e=JSON.stringify(e)),sessionStorage.setItem(c,e),void q.verbose("Storing cached response for url",c,e))}},query:function(){if(q.is.disabled())return void q.debug("Element is disabled API request aborted");if(q.is.loading()){if(!r.interruptRequests)return void q.debug("Cancelling request, previous request is still pending");q.debug("Interrupting previous request"),q.abort()}return r.defaultData&&a.extend(!0,r.urlData,q.get.defaultData()),r.serializeForm&&(r.data=q.add.formData(r.data)),m=q.get.settings(),m===!1?(q.cancelled=!0,void q.error(v.beforeSend)):(q.cancelled=!1,n=q.get.templatedURL(),n||q.is.mocked()?(n=q.add.urlData(n),n||q.is.mocked()?(m.url=r.base+n,f=a.extend(!0,{},r,{type:r.method||r.type,data:o,url:r.base+n,beforeSend:r.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),q.debug("Querying URL",f.url),q.verbose("Using AJAX settings",f),"local"===r.cache&&q.read.cachedResponse(n)?(q.debug("Response returned from local cache"),q.request=q.create.request(),void q.request.resolveWith(D,[q.read.cachedResponse(n)])):void(r.throttle?r.throttleFirstRequest||q.timer?(q.debug("Throttling request",r.throttle),clearTimeout(q.timer),q.timer=setTimeout(function(){q.timer&&delete q.timer,q.debug("Sending throttled request",o,f.method),q.send.request()},r.throttle)):(q.debug("Sending request",o,f.method),q.send.request(),q.timer=setTimeout(function(){},r.throttle)):(q.debug("Sending request",o,f.method),q.send.request()))):void 0):void q.error(v.missingURL))},should:{removeError:function(){return r.hideError===!0||"auto"===r.hideError&&!q.is.form()}},is:{disabled:function(){return z.filter(u.disabled).length>0},form:function(){return z.is("form")||B.is("form")},mocked:function(){return r.mockResponse||r.mockResponseAsync||r.response||r.responseAsync},input:function(){return z.is("input")},loading:function(){return q.request&&"pending"==q.request.state()},abortedRequest:function(a){return a&&a.readyState!==d&&0===a.readyState?(q.verbose("XHR request determined to be aborted"),!0):(q.verbose("XHR request was not aborted"),!1)},validResponse:function(b){return"json"!==r.dataType&&"jsonp"!==r.dataType||!a.isFunction(r.successTest)?(q.verbose("Response is not JSON, skipping validation",r.successTest,b),!0):(q.debug("Checking JSON returned success",r.successTest,b),r.successTest(b)?(q.debug("Response passed success test",b),!0):(q.debug("Response failed success test",b),!1))}},was:{cancelled:function(){return q.cancelled||!1},succesful:function(){return q.request&&"resolved"==q.request.state()},failure:function(){return q.request&&"rejected"==q.request.state()},complete:function(){return q.request&&("resolved"==q.request.state()||"rejected"==q.request.state())}},add:{urlData:function(b,c){var e,f;return b&&(e=b.match(r.regExp.required),f=b.match(r.regExp.optional),c=c||r.urlData,e&&(q.debug("Looking for required URL variables",e),a.each(e,function(e,f){var g=-1!==f.indexOf("$")?f.substr(2,f.length-3):f.substr(1,f.length-2),h=a.isPlainObject(c)&&c[g]!==d?c[g]:z.data(g)!==d?z.data(g):B.data(g)!==d?B.data(g):c[g];return h===d?(q.error(v.requiredParameter,g,b),b=!1,!1):(q.verbose("Found required variable",g,h),h=r.encodeParameters?q.get.urlEncodedValue(h):h,b=b.replace(f,h),void 0)})),f&&(q.debug("Looking for optional URL variables",e),a.each(f,function(e,f){var g=-1!==f.indexOf("$")?f.substr(3,f.length-4):f.substr(2,f.length-3),h=a.isPlainObject(c)&&c[g]!==d?c[g]:z.data(g)!==d?z.data(g):B.data(g)!==d?B.data(g):c[g];h!==d?(q.verbose("Optional variable Found",g,h),b=b.replace(f,h)):(q.verbose("Optional variable not found",g),b=-1!==b.indexOf("/"+f)?b.replace("/"+f,""):b.replace(f,""))}))),b},formData:function(b){var c,e=a.fn.serializeObject!==d,f=e?A.serializeObject():A.serialize();return b=b||r.data,c=a.isPlainObject(b),c?e?(q.debug("Extending existing data with form data",b,f),b=a.extend(!0,{},b,f)):(q.error(v.missingSerialize),q.debug("Cant extend data. Replacing data with form data",b,f),b=f):(q.debug("Adding form data",f),b=f),b}},send:{request:function(){q.set.loading(),q.request=q.create.request(),q.is.mocked()?q.mockedXHR=q.create.mockedXHR():q.xhr=q.create.xhr(),r.onRequest.call(D,q.request,q.xhr)}},event:{trigger:function(a){q.query(),"submit"!=a.type&&"click"!=a.type||a.preventDefault()},xhr:{always:function(){},done:function(b,c,d){var e=this,f=(new Date).getTime()-p,g=r.loadingDuration-f,h=a.isFunction(r.onResponse)?r.onResponse.call(e,a.extend(!0,{},b)):!1;g=g>0?g:0,h&&(q.debug("Modified API response in onResponse callback",r.onResponse,h,b),b=h),g>0&&q.debug("Response completed early delaying state change by",g),setTimeout(function(){q.is.validResponse(b)?q.request.resolveWith(e,[b,d]):q.request.rejectWith(e,[d,"invalid"])},g)},fail:function(a,b,c){var d=this,e=(new Date).getTime()-p,f=r.loadingDuration-e;f=f>0?f:0,f>0&&q.debug("Response completed early delaying state change by",f),setTimeout(function(){q.is.abortedRequest(a)?q.request.rejectWith(d,[a,"aborted",c]):q.request.rejectWith(d,[a,"error",b,c])},f)}},request:{done:function(a,b){q.debug("Successful API Response",a),"local"===r.cache&&n&&(q.write.cachedResponse(n,a),q.debug("Saving server response locally",q.cache)),r.onSuccess.call(D,a,z,b)},complete:function(a,b){var c,d;q.was.succesful()?(d=a,c=b):(c=a,d=q.get.responseFromXHR(c)),q.remove.loading(),r.onComplete.call(D,d,z,c)},fail:function(a,b,c){var e=q.get.responseFromXHR(a),g=q.get.errorFromRequest(e,b,c);"aborted"==b?(q.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",b,c),r.onAbort.call(D,b,z,a)):"invalid"==b?q.debug("JSON did not pass success test. A server-side error has most likely occurred",e):"error"==b&&a!==d&&(q.debug("XHR produced a server error",b,c),200!=a.status&&c!==d&&""!==c&&q.error(v.statusMessage+c,f.url),r.onError.call(D,g,z,a)),r.errorDuration&&"aborted"!==b&&(q.debug("Adding error state"),q.set.error(),q.should.removeError()&&setTimeout(q.remove.error,r.errorDuration)),q.debug("API Request failed",g,a),r.onFailure.call(D,e,z,a)}}},create:{request:function(){return a.Deferred().always(q.event.request.complete).done(q.event.request.done).fail(q.event.request.fail)},mockedXHR:function(){var b,c,d,e=!1,f=!1,g=!1,h=r.mockResponse||r.response,i=r.mockResponseAsync||r.responseAsync;return d=a.Deferred().always(q.event.xhr.complete).done(q.event.xhr.done).fail(q.event.xhr.fail),h?(a.isFunction(h)?(q.debug("Using specified synchronous callback",h),c=h.call(D,m)):(q.debug("Using settings specified response",h),c=h),d.resolveWith(D,[c,e,{responseText:c}])):a.isFunction(i)&&(b=function(a){q.debug("Async callback returned response",a),a?d.resolveWith(D,[a,e,{responseText:a}]):d.rejectWith(D,[{responseText:a},f,g])},q.debug("Using specified async response callback",i),i.call(D,m,b)),d},xhr:function(){var b;return b=a.ajax(f).always(q.event.xhr.always).done(q.event.xhr.done).fail(q.event.xhr.fail),q.verbose("Created server request",b),b}},set:{error:function(){q.verbose("Adding error state to element",B),B.addClass(w.error)},loading:function(){q.verbose("Adding loading state to element",B),B.addClass(w.loading),p=(new Date).getTime()}},remove:{error:function(){q.verbose("Removing error state from element",B),B.removeClass(w.error)},loading:function(){q.verbose("Removing loading state from element",B),B.removeClass(w.loading)}},get:{responseFromXHR:function(b){return a.isPlainObject(b)?"json"==r.dataType||"jsonp"==r.dataType?q.decode.json(b.responseText):b.responseText:!1},errorFromRequest:function(b,c,e){return a.isPlainObject(b)&&b.error!==d?b.error:r.error[c]!==d?r.error[c]:e},request:function(){return q.request||!1},xhr:function(){return q.xhr||!1},settings:function(){var b;return b=r.beforeSend.call(D,r),b&&(b.success!==d&&(q.debug("Legacy success callback detected",b),q.error(v.legacyParameters,b.success),b.onSuccess=b.success),b.failure!==d&&(q.debug("Legacy failure callback detected",b),q.error(v.legacyParameters,b.failure),b.onFailure=b.failure),b.complete!==d&&(q.debug("Legacy complete callback detected",b),q.error(v.legacyParameters,b.complete),b.onComplete=b.complete)),b===d&&q.error(v.noReturnedValue),b!==d?a.extend(!0,{},b):a.extend(!0,{},r)},urlEncodedValue:function(a){var c=b.decodeURIComponent(a),d=b.encodeURIComponent(a),e=c!==a;return e?(q.debug("URL value is already encoded, avoiding double encoding",a),a):(q.verbose("Encoding value using encodeURIComponent",a,d),d)},defaultData:function(){var b={};return a.isWindow(C)||(q.is.input()?b.value=z.val():q.is.form()&&(b.text=z.text())),b},event:function(){return a.isWindow(C)||"now"==r.on?(q.debug("API called without element, no events attached"),!1):"auto"==r.on?z.is("input")?C.oninput!==d?"input":C.onpropertychange!==d?"propertychange":"keyup":z.is("form")?"submit":"click":r.on},templatedURL:function(a){if(a=a||z.data(t.action)||r.action||!1,n=z.data(t.url)||r.url||!1)return q.debug("Using specified url",n),n;if(a){if(q.debug("Looking up url for action",a,r.api),r.api[a]===d&&!q.is.mocked())return void q.error(v.missingAction,r.action,r.api);n=r.api[a]}else q.is.form()&&(n=z.attr("action")||B.attr("action")||!1,q.debug("No url or action specified, defaulting to form action",n));return n}},abort:function(){var a=q.get.xhr();a&&"resolved"!==a.state()&&(q.debug("Cancelling API request"),a.abort())},reset:function(){q.remove.error(),q.remove.loading()},setting:function(b,c){if(q.debug("Changing setting",b,c),a.isPlainObject(b))a.extend(!0,r,b);else{if(c===d)return r[b];r[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,q,b);else{if(c===d)return q[b];q[b]=c}},debug:function(){r.debug&&(r.performance?q.performance.log(arguments):(q.debug=Function.prototype.bind.call(console.info,console,r.name+":"),q.debug.apply(console,arguments)))},verbose:function(){r.verbose&&r.debug&&(r.performance?q.performance.log(arguments):(q.verbose=Function.prototype.bind.call(console.info,console,r.name+":"),q.verbose.apply(console,arguments)))},error:function(){q.error=Function.prototype.bind.call(console.error,console,r.name+":"),q.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;r.performance&&(b=(new Date).getTime(),d=h||b,c=b-d,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"","Execution Time":c})),clearTimeout(q.performance.timer),q.performance.timer=setTimeout(q.performance.display,500)},display:function(){var b=r.name+":",c=0;h=!1,clearTimeout(q.performance.timer),a.each(i,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",g&&(b+=" '"+g+"'"),(console.group!==d||console.table!==d)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,c,f){var g,h,i,j=E;return c=c||l,f=C||f,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):(q.error(v.method,b),!1);j=j[e]}})),a.isFunction(h)?i=h.apply(f,c):h!==d&&(i=h),a.isArray(e)?e.push(i):e!==d?e=[e,i]:i!==d&&(e=i),h}},k?(E===d&&q.initialize(),q.invoke(j)):(E!==d&&E.invoke("destroy"),q.initialize())}),e!==d?e:this},a.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(a){return a},beforeXHR:function(a){},onRequest:function(a,b){},onResponse:!1,onSuccess:function(a,b){},onComplete:function(a,b){},onFailure:function(a,b){},onError:function(a,b){},onAbort:function(a,b){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.state=function(b){var e,f=a(this),g=f.selector||"",h=("ontouchstart"in c.documentElement,(new Date).getTime()),i=[],j=arguments[0],k="string"==typeof j,l=[].slice.call(arguments,1);return f.each(function(){var c,m=a.isPlainObject(b)?a.extend(!0,{},a.fn.state.settings,b):a.extend({},a.fn.state.settings),n=m.error,o=m.metadata,p=m.className,q=m.namespace,r=m.states,s=m.text,t="."+q,u=q+"-module",v=a(this),w=this,x=v.data(u);c={initialize:function(){c.verbose("Initializing module"),m.automatic&&c.add.defaults(),m.context&&""!==g?a(m.context).on(g,"mouseenter"+t,c.change.text).on(g,"mouseleave"+t,c.reset.text).on(g,"click"+t,c.toggle.state):v.on("mouseenter"+t,c.change.text).on("mouseleave"+t,c.reset.text).on("click"+t,c.toggle.state),c.instantiate()},instantiate:function(){c.verbose("Storing instance of module",c),x=c,v.data(u,c)},destroy:function(){c.verbose("Destroying previous module",x),v.off(t).removeData(u)},refresh:function(){c.verbose("Refreshing selector cache"),v=a(w)},add:{defaults:function(){var e=b&&a.isPlainObject(b.states)?b.states:{};a.each(m.defaults,function(b,f){c.is[b]!==d&&c.is[b]()&&(c.verbose("Adding default states",b,w),a.extend(m.states,f,e))})}},is:{active:function(){return v.hasClass(p.active)},loading:function(){return v.hasClass(p.loading)},inactive:function(){return!v.hasClass(p.active)},state:function(a){return p[a]===d?!1:v.hasClass(p[a])},enabled:function(){return!v.is(m.filter.active)},disabled:function(){return v.is(m.filter.active)},textEnabled:function(){return!v.is(m.filter.text)},button:function(){return v.is(".button:not(a, .submit)")},input:function(){return v.is("input")},progress:function(){return v.is(".ui.progress")}},allow:function(a){c.debug("Now allowing state",a),r[a]=!0},disallow:function(a){c.debug("No longer allowing",a),r[a]=!1},allows:function(a){return r[a]||!1},enable:function(){v.removeClass(p.disabled)},disable:function(){v.addClass(p.disabled)},setState:function(a){c.allows(a)&&v.addClass(p[a])},removeState:function(a){c.allows(a)&&v.removeClass(p[a])},toggle:{state:function(){var b,e;if(c.allows("active")&&c.is.enabled()){if(c.refresh(),a.fn.api!==d)if(b=v.api("get request"),e=v.api("was cancelled"))c.debug("API Request cancelled by beforesend"),m.activateTest=function(){return!1},m.deactivateTest=function(){return!1};else if(b)return void c.listenTo(b);c.change.state()}}},listenTo:function(b){c.debug("API request detected, waiting for state signal",b),b&&(s.loading&&c.update.text(s.loading),a.when(b).then(function(){"resolved"==b.state()?(c.debug("API request succeeded"),m.activateTest=function(){return!0},m.deactivateTest=function(){return!0}):(c.debug("API request failed"),m.activateTest=function(){return!1},m.deactivateTest=function(){return!1}),c.change.state()}))},change:{state:function(){c.debug("Determining state change direction"),c.is.inactive()?c.activate():c.deactivate(),m.sync&&c.sync(),m.onChange.call(w)},text:function(){c.is.textEnabled()&&(c.is.disabled()?(c.verbose("Changing text to disabled text",s.hover),c.update.text(s.disabled)):c.is.active()?s.hover?(c.verbose("Changing text to hover text",s.hover),c.update.text(s.hover)):s.deactivate&&(c.verbose("Changing text to deactivating text",s.deactivate),c.update.text(s.deactivate)):s.hover?(c.verbose("Changing text to hover text",s.hover),c.update.text(s.hover)):s.activate&&(c.verbose("Changing text to activating text",s.activate),c.update.text(s.activate)))}},activate:function(){m.activateTest.call(w)&&(c.debug("Setting state to active"),v.addClass(p.active),c.update.text(s.active),m.onActivate.call(w))},deactivate:function(){m.deactivateTest.call(w)&&(c.debug("Setting state to inactive"),v.removeClass(p.active),c.update.text(s.inactive),m.onDeactivate.call(w))},sync:function(){c.verbose("Syncing other buttons to current state"),c.is.active()?f.not(v).state("activate"):f.not(v).state("deactivate")},get:{text:function(){return m.selector.text?v.find(m.selector.text).text():v.html()},textFor:function(a){return s[a]||!1}},flash:{text:function(a,b,d){var e=c.get.text();c.debug("Flashing text message",a,b),a=a||m.text.flash,b=b||m.flashDuration,d=d||function(){},c.update.text(a),setTimeout(function(){c.update.text(e),d.call(w)},b)}},reset:{text:function(){var a=s.active||v.data(o.storedText),b=s.inactive||v.data(o.storedText);c.is.textEnabled()&&(c.is.active()&&a?(c.verbose("Resetting active text",a),c.update.text(a)):b&&(c.verbose("Resetting inactive text",a),c.update.text(b)))}},update:{text:function(a){var b=c.get.text();a&&a!==b?(c.debug("Updating text",a),m.selector.text?v.data(o.storedText,a).find(m.selector.text).text(a):v.data(o.storedText,a).html(a)):c.debug("Text is already set, ignoring update",a)}},setting:function(b,e){if(c.debug("Changing setting",b,e),a.isPlainObject(b))a.extend(!0,m,b);else{if(e===d)return m[b];m[b]=e}},internal:function(b,e){if(a.isPlainObject(b))a.extend(!0,c,b);else{if(e===d)return c[b];c[b]=e}},debug:function(){m.debug&&(m.performance?c.performance.log(arguments):(c.debug=Function.prototype.bind.call(console.info,console,m.name+":"),c.debug.apply(console,arguments)))},verbose:function(){m.verbose&&m.debug&&(m.performance?c.performance.log(arguments):(c.verbose=Function.prototype.bind.call(console.info,console,m.name+":"),c.verbose.apply(console,arguments)))},error:function(){c.error=Function.prototype.bind.call(console.error,console,m.name+":"),c.error.apply(console,arguments)},performance:{log:function(a){var b,d,e;m.performance&&(b=(new Date).getTime(),e=h||b,d=b-e,h=b,i.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:w,"Execution Time":d})),clearTimeout(c.performance.timer),c.performance.timer=setTimeout(c.performance.display,500)},display:function(){var b=m.name+":",e=0;h=!1,clearTimeout(c.performance.timer),a.each(i,function(a,b){e+=b["Execution Time"]}),b+=" "+e+"ms",g&&(b+=" '"+g+"'"),(console.group!==d||console.table!==d)&&i.length>0&&(console.groupCollapsed(b),console.table?console.table(i):a.each(i,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),i=[]}},invoke:function(b,f,g){var h,i,j,k=x;return f=f||l,g=w||g,"string"==typeof b&&k!==d&&(b=b.split(/[\. ]/),h=b.length-1,a.each(b,function(e,f){var g=e!=h?f+b[e+1].charAt(0).toUpperCase()+b[e+1].slice(1):b;if(a.isPlainObject(k[g])&&e!=h)k=k[g];else{if(k[g]!==d)return i=k[g],!1;if(!a.isPlainObject(k[f])||e==h)return k[f]!==d?(i=k[f],!1):(c.error(n.method,b),!1);k=k[f]}})),a.isFunction(i)?j=i.apply(g,f):i!==d&&(j=i),a.isArray(e)?e.push(j):e!==d?e=[e,j]:j!==d&&(e=j),i}},k?(x===d&&c.initialize(),c.invoke(j)):(x!==d&&x.invoke("destroy"),c.initialize())}),e!==d?e:this},a.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(a,b,c,d){"use strict";a.fn.visibility=function(e){var f,g=a(this),h=g.selector||"",i=(new Date).getTime(),j=[],k=arguments[0],l="string"==typeof k,m=[].slice.call(arguments,1);return g.each(function(){var g,n,o,p=a.isPlainObject(e)?a.extend(!0,{},a.fn.visibility.settings,e):a.extend({},a.fn.visibility.settings),q=p.className,r=p.namespace,s=p.error,t=p.metadata,u="."+r,v="module-"+r,w=a(b),x=a(this),y=a(p.context),z=(x.selector||"",x.data(v)),A=b.requestAnimationFrame||b.mozRequestAnimationFrame||b.webkitRequestAnimationFrame||b.msRequestAnimationFrame||function(a){setTimeout(a,0)},B=this,C=!1;o={initialize:function(){o.debug("Initializing",p),o.setup.cache(),o.should.trackChanges()&&("image"==p.type&&o.setup.image(),"fixed"==p.type&&o.setup.fixed(),p.observeChanges&&o.observeChanges(),o.bind.events()),o.save.position(),o.is.visible()||o.error(s.visible,x),p.initialCheck&&o.checkVisibility(),o.instantiate()},instantiate:function(){o.debug("Storing instance",o),x.data(v,o),z=o},destroy:function(){o.verbose("Destroying previous module"),n&&n.disconnect(),w.off("load"+u,o.event.load).off("resize"+u,o.event.resize),y.off("scrollchange"+u,o.event.scrollchange),x.off(u).removeData(v)},observeChanges:function(){"MutationObserver"in b&&(n=new MutationObserver(function(a){o.verbose("DOM tree modified, updating visibility calculations"),o.timer=setTimeout(function(){o.verbose("DOM tree modified, updating sticky menu"),o.refresh()},100)}),n.observe(B,{childList:!0,subtree:!0}),o.debug("Setting up mutation observer",n))},bind:{events:function(){o.verbose("Binding visibility events to scroll and resize"),p.refreshOnLoad&&w.on("load"+u,o.event.load),w.on("resize"+u,o.event.resize),y.off("scroll"+u).on("scroll"+u,o.event.scroll).on("scrollchange"+u,o.event.scrollchange)}},event:{resize:function(){o.debug("Window resized"),p.refreshOnResize&&A(o.refresh)},load:function(){o.debug("Page finished loading"),A(o.refresh)},scroll:function(){p.throttle?(clearTimeout(o.timer),o.timer=setTimeout(function(){y.triggerHandler("scrollchange"+u,[y.scrollTop()])},p.throttle)):A(function(){y.triggerHandler("scrollchange"+u,[y.scrollTop()])})},scrollchange:function(a,b){o.checkVisibility(b)}},precache:function(b,d){b instanceof Array||(b=[b]);for(var e=b.length,f=0,g=[],h=c.createElement("img"),i=function(){f++,f>=b.length&&a.isFunction(d)&&d()};e--;)h=c.createElement("img"),h.onload=i,h.onerror=i,h.src=b[e],g.push(h)},enableCallbacks:function(){o.debug("Allowing callbacks to occur"),C=!1},disableCallbacks:function(){o.debug("Disabling all callbacks temporarily"),C=!0},should:{trackChanges:function(){return l?(o.debug("One time query, no need to bind events"),!1):(o.debug("Callbacks being attached"),!0)}},setup:{cache:function(){o.cache={occurred:{},screen:{},element:{}}},image:function(){var a=x.data(t.src);a&&(o.verbose("Lazy loading image",a),p.once=!0,p.observeChanges=!1,p.onOnScreen=function(){o.debug("Image on screen",B),o.precache(a,function(){o.set.image(a)})})},fixed:function(){o.debug("Setting up fixed"),p.once=!1,p.observeChanges=!1,p.initialCheck=!0,p.refreshOnLoad=!0,e.transition||(p.transition=!1),o.create.placeholder(),o.debug("Added placeholder",g),p.onTopPassed=function(){o.debug("Element passed, adding fixed position",x),o.show.placeholder(),o.set.fixed(),p.transition&&a.fn.transition!==d&&x.transition(p.transition,p.duration)},p.onTopPassedReverse=function(){o.debug("Element returned to position, removing fixed",x),o.hide.placeholder(),o.remove.fixed()}}},create:{placeholder:function(){o.verbose("Creating fixed position placeholder"),g=x.clone(!1).css("display","none").addClass(q.placeholder).insertAfter(x)}},show:{placeholder:function(){o.verbose("Showing placeholder"),g.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){o.verbose("Hiding placeholder"),g.css("display","none").css("visibility","")}},set:{fixed:function(){o.verbose("Setting element to fixed position"),x.addClass(q.fixed).css({position:"fixed",top:p.offset+"px",left:"auto",zIndex:"1"})},image:function(b){x.attr("src",b),p.transition?a.fn.transition!==d?x.transition(p.transition,p.duration):x.fadeIn(p.duration):x.show()}},is:{onScreen:function(){var a=o.get.elementCalculations();return a.onScreen},offScreen:function(){var a=o.get.elementCalculations();return a.offScreen},visible:function(){return o.cache&&o.cache.element?!(0===o.cache.element.width&&0===o.cache.element.offset.top):!1}},refresh:function(){o.debug("Refreshing constants (width/height)"),"fixed"==p.type&&(o.remove.fixed(),o.remove.occurred()),o.reset(),o.save.position(),p.checkOnRefresh&&o.checkVisibility(),p.onRefresh.call(B)},reset:function(){o.verbose("Reseting all cached values"),a.isPlainObject(o.cache)&&(o.cache.screen={},o.cache.element={})},checkVisibility:function(a){o.verbose("Checking visibility of element",o.cache.element),!C&&o.is.visible()&&(o.save.scroll(a),o.save.calculations(),o.passed(),o.passingReverse(),o.topVisibleReverse(),o.bottomVisibleReverse(),o.topPassedReverse(),o.bottomPassedReverse(),o.onScreen(),o.offScreen(),o.passing(),o.topVisible(),o.bottomVisible(),o.topPassed(),o.bottomPassed(),p.onUpdate&&p.onUpdate.call(B,o.get.elementCalculations()))},passed:function(b,c){var e=o.get.elementCalculations();if(b&&c)p.onPassed[b]=c;else{if(b!==d)return o.get.pixelsPassed(b)>e.pixelsPassed;e.passing&&a.each(p.onPassed,function(a,b){e.bottomVisible||e.pixelsPassed>o.get.pixelsPassed(a)?o.execute(b,a):p.once||o.remove.occurred(b)})}},onScreen:function(a){var b=o.get.elementCalculations(),c=a||p.onOnScreen,e="onScreen";return a&&(o.debug("Adding callback for onScreen",a),p.onOnScreen=a),b.onScreen?o.execute(c,e):p.once||o.remove.occurred(e),a!==d?b.onOnScreen:void 0},offScreen:function(a){var b=o.get.elementCalculations(),c=a||p.onOffScreen,e="offScreen";return a&&(o.debug("Adding callback for offScreen",a),p.onOffScreen=a),b.offScreen?o.execute(c,e):p.once||o.remove.occurred(e),a!==d?b.onOffScreen:void 0},passing:function(a){var b=o.get.elementCalculations(),c=a||p.onPassing,e="passing";return a&&(o.debug("Adding callback for passing",a),p.onPassing=a),b.passing?o.execute(c,e):p.once||o.remove.occurred(e),a!==d?b.passing:void 0},topVisible:function(a){var b=o.get.elementCalculations(),c=a||p.onTopVisible,e="topVisible";return a&&(o.debug("Adding callback for top visible",a),p.onTopVisible=a),b.topVisible?o.execute(c,e):p.once||o.remove.occurred(e),a===d?b.topVisible:void 0},bottomVisible:function(a){var b=o.get.elementCalculations(),c=a||p.onBottomVisible,e="bottomVisible";return a&&(o.debug("Adding callback for bottom visible",a),p.onBottomVisible=a),b.bottomVisible?o.execute(c,e):p.once||o.remove.occurred(e),a===d?b.bottomVisible:void 0},topPassed:function(a){var b=o.get.elementCalculations(),c=a||p.onTopPassed,e="topPassed";return a&&(o.debug("Adding callback for top passed",a),p.onTopPassed=a),b.topPassed?o.execute(c,e):p.once||o.remove.occurred(e),a===d?b.topPassed:void 0},bottomPassed:function(a){var b=o.get.elementCalculations(),c=a||p.onBottomPassed,e="bottomPassed";return a&&(o.debug("Adding callback for bottom passed",a),p.onBottomPassed=a),b.bottomPassed?o.execute(c,e):p.once||o.remove.occurred(e),a===d?b.bottomPassed:void 0},passingReverse:function(a){var b=o.get.elementCalculations(),c=a||p.onPassingReverse,e="passingReverse";return a&&(o.debug("Adding callback for passing reverse",a),p.onPassingReverse=a),b.passing?p.once||o.remove.occurred(e):o.get.occurred("passing")&&o.execute(c,e),a!==d?!b.passing:void 0},topVisibleReverse:function(a){var b=o.get.elementCalculations(),c=a||p.onTopVisibleReverse,e="topVisibleReverse";return a&&(o.debug("Adding callback for top visible reverse",a),p.onTopVisibleReverse=a),b.topVisible?p.once||o.remove.occurred(e):o.get.occurred("topVisible")&&o.execute(c,e),a===d?!b.topVisible:void 0},bottomVisibleReverse:function(a){var b=o.get.elementCalculations(),c=a||p.onBottomVisibleReverse,e="bottomVisibleReverse";return a&&(o.debug("Adding callback for bottom visible reverse",a),p.onBottomVisibleReverse=a),b.bottomVisible?p.once||o.remove.occurred(e):o.get.occurred("bottomVisible")&&o.execute(c,e),a===d?!b.bottomVisible:void 0},topPassedReverse:function(a){var b=o.get.elementCalculations(),c=a||p.onTopPassedReverse,e="topPassedReverse";return a&&(o.debug("Adding callback for top passed reverse",a),p.onTopPassedReverse=a),b.topPassed?p.once||o.remove.occurred(e):o.get.occurred("topPassed")&&o.execute(c,e),a===d?!b.onTopPassed:void 0},bottomPassedReverse:function(a){var b=o.get.elementCalculations(),c=a||p.onBottomPassedReverse,e="bottomPassedReverse";return a&&(o.debug("Adding callback for bottom passed reverse",a),p.onBottomPassedReverse=a),b.bottomPassed?p.once||o.remove.occurred(e):o.get.occurred("bottomPassed")&&o.execute(c,e),a===d?!b.bottomPassed:void 0},execute:function(a,b){var c=o.get.elementCalculations(),d=o.get.screenCalculations();a=a||!1,a&&(p.continuous?(o.debug("Callback being called continuously",b,c),a.call(B,c,d)):o.get.occurred(b)||(o.debug("Conditions met",b,c),a.call(B,c,d))),o.save.occurred(b)},remove:{fixed:function(){o.debug("Removing fixed position"),x.removeClass(q.fixed).css({position:"",top:"",left:"",zIndex:""})},occurred:function(a){if(a){var b=o.cache.occurred;b[a]!==d&&b[a]===!0&&(o.debug("Callback can now be called again",a),o.cache.occurred[a]=!1)}else o.cache.occurred={}}},save:{calculations:function(){o.verbose("Saving all calculations necessary to determine positioning"),o.save.direction(),o.save.screenCalculations(),
o.save.elementCalculations()},occurred:function(a){a&&(o.cache.occurred[a]!==d&&o.cache.occurred[a]===!0||(o.verbose("Saving callback occurred",a),o.cache.occurred[a]=!0))},scroll:function(a){a=a+p.offset||y.scrollTop()+p.offset,o.cache.scroll=a},direction:function(){var a,b=o.get.scroll(),c=o.get.lastScroll();return a=b>c&&c?"down":c>b&&c?"up":"static",o.cache.direction=a,o.cache.direction},elementPosition:function(){var a=o.cache.element,b=o.get.screenSize();return o.verbose("Saving element position"),a.fits=a.height<b.height,a.offset=x.offset(),a.width=x.outerWidth(),a.height=x.outerHeight(),o.cache.element=a,a},elementCalculations:function(){var a=o.get.screenCalculations(),b=o.get.elementPosition();return p.includeMargin?(b.margin={},b.margin.top=parseInt(x.css("margin-top"),10),b.margin.bottom=parseInt(x.css("margin-bottom"),10),b.top=b.offset.top-b.margin.top,b.bottom=b.offset.top+b.height+b.margin.bottom):(b.top=b.offset.top,b.bottom=b.offset.top+b.height),b.topVisible=a.bottom>=b.top,b.topPassed=a.top>=b.top,b.bottomVisible=a.bottom>=b.bottom,b.bottomPassed=a.top>=b.bottom,b.pixelsPassed=0,b.percentagePassed=0,b.onScreen=b.topVisible&&!b.bottomPassed,b.passing=b.topPassed&&!b.bottomPassed,b.offScreen=!b.onScreen,b.passing&&(b.pixelsPassed=a.top-b.top,b.percentagePassed=(a.top-b.top)/b.height),o.cache.element=b,o.verbose("Updated element calculations",b),b},screenCalculations:function(){var a=o.get.scroll();return o.save.direction(),o.cache.screen.top=a,o.cache.screen.bottom=a+o.cache.screen.height,o.cache.screen},screenSize:function(){o.verbose("Saving window position"),o.cache.screen={height:y.height()}},position:function(){o.save.screenSize(),o.save.elementPosition()}},get:{pixelsPassed:function(a){var b=o.get.elementCalculations();return a.search("%")>-1?b.height*(parseInt(a,10)/100):parseInt(a,10)},occurred:function(a){return o.cache.occurred!==d?o.cache.occurred[a]||!1:!1},direction:function(){return o.cache.direction===d&&o.save.direction(),o.cache.direction},elementPosition:function(){return o.cache.element===d&&o.save.elementPosition(),o.cache.element},elementCalculations:function(){return o.cache.element===d&&o.save.elementCalculations(),o.cache.element},screenCalculations:function(){return o.cache.screen===d&&o.save.screenCalculations(),o.cache.screen},screenSize:function(){return o.cache.screen===d&&o.save.screenSize(),o.cache.screen},scroll:function(){return o.cache.scroll===d&&o.save.scroll(),o.cache.scroll},lastScroll:function(){return o.cache.screen===d?(o.debug("First scroll event, no last scroll could be found"),!1):o.cache.screen.top}},setting:function(b,c){if(a.isPlainObject(b))a.extend(!0,p,b);else{if(c===d)return p[b];p[b]=c}},internal:function(b,c){if(a.isPlainObject(b))a.extend(!0,o,b);else{if(c===d)return o[b];o[b]=c}},debug:function(){p.debug&&(p.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,p.name+":"),o.debug.apply(console,arguments)))},verbose:function(){p.verbose&&p.debug&&(p.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,p.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,p.name+":"),o.error.apply(console,arguments)},performance:{log:function(a){var b,c,d;p.performance&&(b=(new Date).getTime(),d=i||b,c=b-d,i=b,j.push({Name:a[0],Arguments:[].slice.call(a,1)||"",Element:B,"Execution Time":c})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var b=p.name+":",c=0;i=!1,clearTimeout(o.performance.timer),a.each(j,function(a,b){c+=b["Execution Time"]}),b+=" "+c+"ms",h&&(b+=" '"+h+"'"),(console.group!==d||console.table!==d)&&j.length>0&&(console.groupCollapsed(b),console.table?console.table(j):a.each(j,function(a,b){console.log(b.Name+": "+b["Execution Time"]+"ms")}),console.groupEnd()),j=[]}},invoke:function(b,c,e){var g,h,i,j=z;return c=c||m,e=B||e,"string"==typeof b&&j!==d&&(b=b.split(/[\. ]/),g=b.length-1,a.each(b,function(c,e){var f=c!=g?e+b[c+1].charAt(0).toUpperCase()+b[c+1].slice(1):b;if(a.isPlainObject(j[f])&&c!=g)j=j[f];else{if(j[f]!==d)return h=j[f],!1;if(!a.isPlainObject(j[e])||c==g)return j[e]!==d?(h=j[e],!1):(o.error(s.method,b),!1);j=j[e]}})),a.isFunction(h)?i=h.apply(e,c):h!==d&&(i=h),a.isArray(f)?f.push(i):f!==d?f=[f,i]:i!==d&&(f=i),h}},l?(z===d&&o.initialize(),z.save.scroll(),z.save.calculations(),o.invoke(k)):(z!==d&&z.invoke("destroy"),o.initialize())}),f!==d?f:this},a.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:b,throttle:!1,type:!1,transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);