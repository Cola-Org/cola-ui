<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<script src="../include-all.js"></script>
	<script type="text/javascript">
		cola(function (model) {
			model.set({
				products: [
					{
						name: "product 1",
						items: [
							{
								name: "item 1.1"
							},
							{
								name: "item 1.2"
							}
						]
					},
					{
						name: "product 2",
						items: [
							{
								name: "item 2.1"
							},
							{
								name: "item 2.2"
							}
						]
					}
				]
			});

			model.action({
				addProduct: function () {
					model.get("products").insert({
						name: "product " + (new Date()).getTime(),
						items: [
							{
								name: "item " + (new Date()).getTime()
							}
						]
					});
				}
			});
		});
	</script>
</head>
<body style="padding:20px">

<ul>
	<li c-repeat="product in products">
		<label c-bind="product.name"></label>
		<c-subview c-alias="product.items as items" url="alias-subview.html" jsUrl="$"></c-subview>
	</li>
	<c-button click="addProduct">Add Product</c-button>
</ul>

<hr>

<ul>
	<label c-bind="selectedProduct.name"></label>
	<c-subview c-alias="selectedProduct.items as items" url="alias-subview.html" jsUrl="$"></c-subview>
</ul>

</body>
</html>