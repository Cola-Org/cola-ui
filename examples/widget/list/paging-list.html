<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
	<meta charset="utf-8"/>
	<script src="../../include-all.js"></script>
	<script type="text/javascript">
		cola(function (model) {
			var sn = 0;

//			var items = [];
//			var i = 0;
//			for (var attr in document.body) {
////				if (++i > 30) break;
//				items.push({
//					name: attr
//				});
//			}
			model.describe("items", {
				provider: {
					url: "languages.json",
					pageSize: 10
				}
			});

			model.widgetConfig({
				listScroll: {
					$type: "listView",
//					class: "striped",
					bind: "item in items",
					allowNoCurrent: false,
//					group: true,
//					indexBar: true,
					pullDown: true,
					pullUp: true,
					itemSlide: "both",
					height: "100%",
					currentPageOnly: true
//					columns: "row 2 4",
//					highlightCurrentItem: false,
//					getGroupString: function (arg) {
//						var name = arg.item.get("name");
//						if (name) arg.result = name.charAt(0).toUpperCase();
//					},
//					pullStep: function (arg) {
//						$("#divPullDown").text((arg.distance < arg.theshold) ? "继续下拉以刷新" : "释放以刷新");
//					},
//					pullComplete: function (arg) {
//						$("#divPullDown").text("正在刷新...");
//						setTimeout(arg.done, 1000);
//					},
//					itemClick: function(self, arg) {
//						self.showItemSlidePane(arg.item, "right");
//					}
				},
				buttonPrev: {
					$type: "button",
					caption: "Prev Page",
					click: function() {
						model.get("items").previousPage();
					}
				},
				buttonNext: {
					$type: "button",
					caption: "Next Page",
					click: function() {
						model.get("items").nextPage();
					}
				},
				buttonSet: {
					$type: "button",
					caption: "Set",
					click: function() {
						model.set("items.name", ++sn);
					}
				}
			});
		});
	</script>
	<style>
	</style>
</head>
<body style="padding:0px;margin:0;" class="v-box">

<div class="box">
	<div id="buttonPrev"></div>
	<div id="buttonNext"></div>
	<div id="buttonSet"></div>
</div>
<div class="flex-box">
	<div id="listScroll">
		<template name="default">
			<li>
				<div c-bind="item.name"></div>
			</li>
		</template>
	</div>
</div>

</body>
</html>